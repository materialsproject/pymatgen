<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.18.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Compatibility &mdash; pymatgen 2022.9.21 documentation</title>
      <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
      <link rel="stylesheet" href="_static/css/custom.css" type="text/css" />
    <link rel="canonical" href="https://pymatgen.orgcompatibility.html"/>
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
        <script src="_static/jquery.js"></script>
        <script src="_static/underscore.js"></script>
        <script src="_static/_sphinx_javascript_frameworks_compat.js"></script>
        <script src="_static/doctools.js"></script>
    <script src="_static/js/theme.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Contributing" href="contributing.html" />
    <link rel="prev" title="Change log" href="change_log.html" />
 
<script type="text/javascript">
  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-33990148-1']);
  _gaq.push(['_trackPageview']);
</script>

</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search"  style="background: linear-gradient(0deg, rgba(23,63,162,1) 0%, rgba(0,70,192,1) 100%)" >
            <a href="index.html" class="icon icon-home"> pymatgen
          </a>
              <div class="version">
                2022.9.21
              </div>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="introduction.html">Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="installation.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="change_log.html">Change log</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Compatibility</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#depending-on-pymatgen">Depending on Pymatgen</a></li>
<li class="toctree-l2"><a class="reference internal" href="#minimum-python-version">Minimum Python Version</a></li>
<li class="toctree-l2"><a class="reference internal" href="#recent-breaking-changes">Recent Breaking Changes</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#v2022-2-1">v2022.2.1</a></li>
<li class="toctree-l3"><a class="reference internal" href="#v2022-01-08">v2022.01.08</a></li>
<li class="toctree-l3"><a class="reference internal" href="#v2022-0-0">v2022.0.0</a></li>
<li class="toctree-l3"><a class="reference internal" href="#v2021-3-3">v2021.3.3</a></li>
<li class="toctree-l3"><a class="reference internal" href="#v2021-2-8-1">v2021.2.8.1</a></li>
<li class="toctree-l3"><a class="reference internal" href="#v2020-10-20">v2020.10.20</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="contributing.html">Contributing</a></li>
<li class="toctree-l1"><a class="reference internal" href="usage.html">Usage</a></li>
<li class="toctree-l1"><a class="reference internal" href="team.html">Development Team</a></li>
<li class="toctree-l1"><a class="reference internal" href="references.html">References</a></li>
<li class="toctree-l1"><a class="reference internal" href="modules.html">API Docs</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu"  style="background: linear-gradient(0deg, rgba(23,63,162,1) 0%, rgba(0,70,192,1) 100%)" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">pymatgen</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content style-external-links">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="index.html" class="icon icon-home"></a> &raquo;</li>
      <li>Compatibility</li>
      <li class="wy-breadcrumbs-aside">
              <a href="https://github.com/materialsproject/pymatgen/blob/master/docs_rst/compatibility.rst" class="fa fa-github"> Edit on GitHub</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="compatibility">
<h1>Compatibility<a class="headerlink" href="#compatibility" title="Permalink to this heading"></a></h1>
<p>Pymatgen is a tool used for academic research and is actively developed by
a large community of people. As such, releases are frequent, and new features
and capabilities are constantly being added.</p>
<p>However, pymatgen is also used as a library by other tools, and as such breaking
changes such as the removal or renaming of existing functionality, or substantive
changes in the output of existing code, are tried to be kept to a minimum. This is
especially true of all classes contained in the <cite>pymatgen.core</cite> module.</p>
<p>Despite this, it is sometimes necessary to make breaking changes to enable
future development, or because other libraries we depend upon might change
their own requirements. If a breaking change is causing significant issues,
please post on the GitHub Issues page to see if it can be resolved.</p>
<section id="depending-on-pymatgen">
<h2>Depending on Pymatgen<a class="headerlink" href="#depending-on-pymatgen" title="Permalink to this heading"></a></h2>
<p>Pymatgen uses <a class="reference external" href="http://calver.org/">calendar versioning</a> based on a YYYY-MM-DD format.
This has generally worked well since changes to core pymatgen functionality that most
other codes depend on are rare. There have been only two instances in recent memory that
breaking changes have been made.</p>
<ul class="simple">
<li><p>v2021.3.4 - Reorganization of pymatgen into namespace packages, which required the removal
of root-level imports.</p></li>
<li><p>v2019.3.13 - Renaming of <cite>Site.species_and_occu</cite> to <cite>Site.species</cite>.</p></li>
</ul>
<p>Where at all possible, the pymatgen maintainers try to allow for a reasonable deprecation
schedule. For example, the <cite>Site.species</cite> change had a deprecation schedule of about 9 months.
However, some changes such as the recent reorganization of pymatgen into namespace packages
cannot be easily done via a deprecation schedule.</p>
<p>As a compromise solution, pymatgen has adopted <strong>temporary</strong> semantic versioning. A v2021.3.5
was released after v2021.3.4 to reverse the changes made, and new versions v2022.0.x were
released that contains the breaking change (removal of root imports). We will continue to release
critical updates to 2021.x.x versions. This allows end users to continue using 2021.x.x versions
without having to deal with the breaking changes. However, it is recommended that users make the
move to be compatible with 2022.0.x before Jan 1 2022, during which pymatgen will only support the
new namespace architecture and the versioning scheme will go back to calendar versioning.</p>
<p>As the developer of a tool that depends on Pymatgen, you can prevent upgrades of the major
Pymatgen version by specifying a version range like <cite>pymatgen&gt;=2021.1,&lt;2022</cite> or, more
succinctly, using the
<a class="reference external" href="https://www.python.org/dev/peps/pep-0440/#compatible-release">compatible release operator</a>
<cite>pymatgen~=2021.1</cite>. This will prevent <cite>pip</cite> (and other package managers) from
pulling in Pymatgen versions with breaking changes that may end up breaking
your tool.</p>
<p>An even more conservative approach is to pin the Pymatgen dependency to a fixed version, for
example <cite>pymatgen==2021.3.3</cite>. While this will always install the same version of pymatgen,
it can lead to unnecessary dependency conflicts with other tools that depend on (a different
version of) Pymatgen.</p>
</section>
<section id="minimum-python-version">
<h2>Minimum Python Version<a class="headerlink" href="#minimum-python-version" title="Permalink to this heading"></a></h2>
<p>As a rule of thumb, pymatgen will support whatever versions of Python the latest
version of numpy supports (at the time of writing, this is Python 3.8+). You can
also check what versions of Python are being tested automatically as part of our
continuous integration testing on GitHub. We currently test pymatgen on Mac,
Windows and Linux.</p>
</section>
<section id="recent-breaking-changes">
<h2>Recent Breaking Changes<a class="headerlink" href="#recent-breaking-changes" title="Permalink to this heading"></a></h2>
<section id="v2022-2-1">
<h3>v2022.2.1<a class="headerlink" href="#v2022-2-1" title="Permalink to this heading"></a></h3>
<p>Moved defect-specific code under <cite>defects</cite> module.
<a class="reference external" href="https://github.com/materialsproject/pymatgen/pull/2582">#2582</a>
#. <code class="code docutils literal notranslate"><span class="pre">pymatgen.transformations.defect_transformations</span></code>
#. <code class="code docutils literal notranslate"><span class="pre">pymatgen.analysis.structure_matcher.PointDefectComparator</span></code></p>
<p>Removal of deprecated functions:</p>
<p><a class="reference external" href="https://github.com/materialsproject/pymatgen/pull/2405">#2405</a></p>
<ol class="arabic simple">
<li><p><code class="code docutils literal notranslate"><span class="pre">Plane.orthonormal_vectors_old()</span></code></p></li>
<li><p><code class="code docutils literal notranslate"><span class="pre">ElasticTensor.debye_temperature_from_sound_velocities()</span></code></p></li>
<li><p><code class="code docutils literal notranslate"><span class="pre">VaspInputSet.all_input()</span></code></p></li>
</ol>
<p><a class="reference external" href="https://github.com/materialsproject/pymatgen/pull/2397">#2397</a></p>
<ol class="arabic simple">
<li><p><code class="code docutils literal notranslate"><span class="pre">get_dimensionality()</span> <span class="pre">in</span> <span class="pre">pymatgen/analysis/structure_analyzer.py</span></code></p></li>
<li><p><code class="code docutils literal notranslate"><span class="pre">ConversionElectrode.as_dict_summary()</span></code></p></li>
<li><p><code class="code docutils literal notranslate"><span class="pre">InsertionElectrode.as_dict_summary()</span></code></p></li>
<li><p><code class="code docutils literal notranslate"><span class="pre">Lattice.from_lengths_and_angles()</span></code></p></li>
<li><p><code class="code docutils literal notranslate"><span class="pre">Lattice.lengths_and_angles()</span></code></p></li>
<li><p><code class="code docutils literal notranslate"><span class="pre">Site.species_and_occu()</span></code></p></li>
</ol>
</section>
<section id="v2022-01-08">
<h3>v2022.01.08<a class="headerlink" href="#v2022-01-08" title="Permalink to this heading"></a></h3>
<p>Dropped Python 3.7 support for compatibility with the latest numpy. <a class="reference external" href="https://github.com/materialsproject/pymatgen/commit/d00945491e9b53548ea8a6755a002c2066ad0ac9">d00945</a> <a class="reference external" href="https://github.com/materialsproject/pymatgen/commit/61ec51cc9751d65df0783af3713e2425d733191e">61ec51c</a></p>
</section>
<section id="v2022-0-0">
<h3>v2022.0.0<a class="headerlink" href="#v2022-0-0" title="Permalink to this heading"></a></h3>
<p>Pymatgen root imports have been removed from v2022.0.0 in preparation for a change to a more modular, extensible
architecture that will allow more developers to contribute.</p>
<p>Specifically, the following “convenience imports” have been removed in favor of
their canonical import:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">pymatgen</span> <span class="kn">import</span> <span class="n">Composition</span>  <span class="c1"># now &quot;from pymatgen.core.composition import Composition&quot;</span>
<span class="kn">from</span> <span class="nn">pymatgen</span> <span class="kn">import</span> <span class="n">Lattice</span>  <span class="c1"># now &quot;from pymatgen.core.lattice import Lattice&quot;</span>
<span class="kn">from</span> <span class="nn">pymatgen</span> <span class="kn">import</span> <span class="n">SymmOp</span>  <span class="c1"># now &quot;from pymatgen.core.operations import SymmOp&quot;</span>
<span class="kn">from</span> <span class="nn">pymatgen</span> <span class="kn">import</span> <span class="n">DummySpecie</span><span class="p">,</span> <span class="n">DummySpecies</span><span class="p">,</span> <span class="n">Element</span><span class="p">,</span> <span class="n">Specie</span><span class="p">,</span> <span class="n">Species</span>  <span class="c1"># now &quot;from pymatgen.core.periodic_table ...&quot;</span>
<span class="kn">from</span> <span class="nn">pymatgen</span> <span class="kn">import</span> <span class="n">PeriodicSite</span><span class="p">,</span> <span class="n">Site</span>  <span class="c1"># now &quot;from pymatgen.core.sites ...&quot;</span>
<span class="kn">from</span> <span class="nn">pymatgen</span> <span class="kn">import</span> <span class="n">IMolecule</span><span class="p">,</span> <span class="n">IStructure</span><span class="p">,</span> <span class="n">Molecule</span><span class="p">,</span> <span class="n">Structure</span>  <span class="c1"># now &quot;from pymatgen.core.structure ...&quot;</span>
<span class="kn">from</span> <span class="nn">pymatgen</span> <span class="kn">import</span> <span class="n">ArrayWithUnit</span><span class="p">,</span> <span class="n">FloatWithUnit</span><span class="p">,</span> <span class="n">Unit</span>  <span class="c1"># now &quot;from pymatgen.core.units ...&quot;</span>
<span class="kn">from</span> <span class="nn">pymatgen</span> <span class="kn">import</span> <span class="n">Orbital</span><span class="p">,</span> <span class="n">Spin</span>  <span class="c1"># now &quot;from pymatgen.electronic_structure.core ...&quot;</span>
<span class="kn">from</span> <span class="nn">pymatgen</span> <span class="kn">import</span> <span class="n">MPRester</span>  <span class="c1"># now &quot;from pymatgen.ext.matproj ...&quot;</span>
</pre></div>
</div>
<p>If your existing code uses <cite>from pymatgen import &lt;something&gt;</cite>, you will need to make
modifications.</p>
<p>The easiest way is to use an IDE to run a Search and Replace.
First, replace any <cite>from pymatgen import MPRester</cite> with
<cite>from pymatgen.ext.matproj import MPRester</cite>. Then, replace
<cite>from pymatgen import</cite> with <cite>from pymatgen.core import</cite>. Alternatively, if you
are using a Mac command line, you can try:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">find</span> <span class="o">.</span> <span class="o">-</span><span class="n">name</span> <span class="s1">&#39;*.py&#39;</span> <span class="o">|</span> <span class="n">xargs</span> <span class="n">sed</span> <span class="o">-</span><span class="n">i</span> <span class="s2">&quot;&quot;</span> <span class="s1">&#39;s/from pymatgen import MPRester/from pymatgen.ext.matproj import MPRester/g&#39;</span>
<span class="n">find</span> <span class="o">.</span> <span class="o">-</span><span class="n">name</span> <span class="s1">&#39;*.py&#39;</span> <span class="o">|</span> <span class="n">xargs</span> <span class="n">sed</span> <span class="o">-</span><span class="n">i</span> <span class="s2">&quot;&quot;</span> <span class="s1">&#39;s/from pymatgen import/from pymatgen.core import/g&#39;</span>
</pre></div>
</div>
<p>From a Linux command line, you can try:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">find</span> <span class="o">.</span> <span class="o">-</span><span class="n">name</span> <span class="s1">&#39;*.py&#39;</span> <span class="o">|</span> <span class="n">xargs</span> <span class="n">sed</span> <span class="o">-</span><span class="n">i</span> <span class="s1">&#39;s/from pymatgen import MPRester/from pymatgen.ext.matproj import MPRester/g&#39;</span>
<span class="n">find</span> <span class="o">.</span> <span class="o">-</span><span class="n">name</span> <span class="s1">&#39;*.py&#39;</span> <span class="o">|</span> <span class="n">xargs</span> <span class="n">sed</span> <span class="o">-</span><span class="n">i</span> <span class="s1">&#39;s/from pymatgen import/from pymatgen.core import/g&#39;</span>
</pre></div>
</div>
<p>This should resolve most import errors and only a few more modifications may
need to be done by hand.</p>
</section>
<section id="v2021-3-3">
<h3>v2021.3.3<a class="headerlink" href="#v2021-3-3" title="Permalink to this heading"></a></h3>
<p>The variable <cite>pymatgen.SETTINGS</cite> has been moved to <cite>pymatgen.settings.SETTINGS</cite>. Since this is
mostly used internally within pymatgen, it is not expected to lead to significant external issues.</p>
</section>
<section id="v2021-2-8-1">
<h3>v2021.2.8.1<a class="headerlink" href="#v2021-2-8-1" title="Permalink to this heading"></a></h3>
<p>The minimum version of Python was increased from 3.6 to 3.7 following the lead of numpy. However,
at this point there are no exclusively Python 3.7+ features used in pymatgen so pymatgen may still
be able to be installed manually on Python 3.6 systems, although this usage is not supported.</p>
<p>Support for <cite>aconvasp</cite> has been removed since the corresponding tests were failing and this module
was not being maintained.</p>
</section>
<section id="v2020-10-20">
<h3>v2020.10.20<a class="headerlink" href="#v2020-10-20" title="Permalink to this heading"></a></h3>
<p>The band structure plotting functionality, <cite>BSPlotter</cite>, has been overhauled to allow plotting of
multiple band structures. This might cause issues for tools relying on the internal structure
of BSPlotter’s plot data.</p>
</section>
</section>
</section>


           </div>
          </div>
          <footer>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2011, Pymatgen Development Team.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>
 
<div class="footer">This page uses <a href="http://analytics.google.com/">
Google Analytics</a> to collect statistics. You can disable it by blocking
the JavaScript coming from www.google-analytics.com.
<script type="text/javascript">
  (function() {
    var ga = document.createElement('script');
    ga.src = ('https:' == document.location.protocol ?
              'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    ga.setAttribute('async', 'true');
    document.documentElement.firstChild.appendChild(ga);
  })();
</script>
</div>


</body>
</html>
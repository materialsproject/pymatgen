
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="X-UA-Compatible" content="IE=Edge" />
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>pymatgen.util.coord module &#8212; pymatgen 2019.2.4 documentation</title>
    <link rel="stylesheet" href="_static/proBlue.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <script type="text/javascript" src="_static/language_data.js"></script>
    <script async="async" type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <link rel="shortcut icon" href="_static/favicon.ico"/>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
 
<script type="text/javascript">
  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-33990148-1']);
  _gaq.push(['_trackPageview']);
</script>

  </head><body>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="nav-item nav-item-0"><a href="index.html">pymatgen 2019.2.4 documentation</a> &#187;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="module-pymatgen.util.coord">
<span id="pymatgen-util-coord-module"></span><h1>pymatgen.util.coord module<a class="headerlink" href="#module-pymatgen.util.coord" title="Permalink to this headline">¶</a></h1>
<dl class="class">
<dt id="pymatgen.util.coord.Simplex">
<em class="property">class </em><code class="descname">Simplex</code><span class="sig-paren">(</span><em>coords</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pymatgen/util/coord.html#Simplex"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pymatgen.util.coord.Simplex" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>A generalized simplex object. See <a class="reference external" href="http://en.wikipedia.org/wiki/Simplex">http://en.wikipedia.org/wiki/Simplex</a>.</p>
<p>Initializes a Simplex from vertex coordinates.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>coords</strong> (<em>[</em><em>[</em><em>float</em><em>]</em><em>]</em>) – Coords of the vertices of the simplex. E.g.,
[[1, 2, 3], [2, 4, 5], [6, 7, 8], [8, 9, 10].</td>
</tr>
</tbody>
</table>
<dl class="method">
<dt id="pymatgen.util.coord.Simplex.bary_coords">
<code class="descname">bary_coords</code><span class="sig-paren">(</span><em>point</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pymatgen/util/coord.html#Simplex.bary_coords"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pymatgen.util.coord.Simplex.bary_coords" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="pymatgen.util.coord.Simplex.coords">
<code class="descname">coords</code><a class="headerlink" href="#pymatgen.util.coord.Simplex.coords" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a copy of the vertex coordinates in the simplex.</p>
</dd></dl>

<dl class="method">
<dt id="pymatgen.util.coord.Simplex.in_simplex">
<code class="descname">in_simplex</code><span class="sig-paren">(</span><em>point</em>, <em>tolerance=1e-08</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pymatgen/util/coord.html#Simplex.in_simplex"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pymatgen.util.coord.Simplex.in_simplex" title="Permalink to this definition">¶</a></dt>
<dd><p>Checks if a point is in the simplex using the standard barycentric
coordinate system algorithm.</p>
<p>Taking an arbitrary vertex as an origin, we compute the basis for the
simplex from this origin by subtracting all other vertices from the
origin. We then project the point into this coordinate system and
determine the linear decomposition coefficients in this coordinate
system.  If the coeffs satisfy that all coeffs &gt;= 0, the composition
is in the facet.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>point</strong> (<em>[</em><em>float</em><em>]</em>) – Point to test</li>
<li><strong>tolerance</strong> (<em>float</em>) – Tolerance to test if point is in simplex.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="pymatgen.util.coord.Simplex.line_intersection">
<code class="descname">line_intersection</code><span class="sig-paren">(</span><em>point1</em>, <em>point2</em>, <em>tolerance=1e-08</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pymatgen/util/coord.html#Simplex.line_intersection"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pymatgen.util.coord.Simplex.line_intersection" title="Permalink to this definition">¶</a></dt>
<dd><p>Computes the intersection points of a line with a simplex
:param point1, point2: Points that determine the line
:type point1, point2: [float]</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">points where the line intersects the simplex (0, 1, or 2)</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="pymatgen.util.coord.Simplex.point_from_bary_coords">
<code class="descname">point_from_bary_coords</code><span class="sig-paren">(</span><em>bary_coords</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pymatgen/util/coord.html#Simplex.point_from_bary_coords"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pymatgen.util.coord.Simplex.point_from_bary_coords" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="pymatgen.util.coord.Simplex.volume">
<code class="descname">volume</code><a class="headerlink" href="#pymatgen.util.coord.Simplex.volume" title="Permalink to this definition">¶</a></dt>
<dd><p>Volume of the simplex.</p>
</dd></dl>

</dd></dl>

<dl class="function">
<dt id="pymatgen.util.coord.all_distances">
<code class="descname">all_distances</code><span class="sig-paren">(</span><em>coords1</em>, <em>coords2</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pymatgen/util/coord.html#all_distances"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pymatgen.util.coord.all_distances" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the distances between two lists of coordinates</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>coords1</strong> – First set of cartesian coordinates.</li>
<li><strong>coords2</strong> – Second set of cartesian coordinates.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">2d array of cartesian distances. E.g the distance between
coords1[i] and coords2[j] is distances[i,j]</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="pymatgen.util.coord.barycentric_coords">
<code class="descname">barycentric_coords</code><span class="sig-paren">(</span><em>coords</em>, <em>simplex</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pymatgen/util/coord.html#barycentric_coords"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pymatgen.util.coord.barycentric_coords" title="Permalink to this definition">¶</a></dt>
<dd><p>Converts a list of coordinates to barycentric coordinates, given a
simplex with d+1 points. Only works for d &gt;= 2.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>coords</strong> – list of n coords to transform, shape should be (n,d)</li>
<li><strong>simplex</strong> – list of coordinates that form the simplex, shape should be
(d+1, d)</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">a LIST of barycentric coordinates (even if the original input was 1d)</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="pymatgen.util.coord.coord_list_mapping">
<code class="descname">coord_list_mapping</code><span class="sig-paren">(</span><em>subset</em>, <em>superset</em>, <em>atol=1e-08</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pymatgen/util/coord.html#coord_list_mapping"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pymatgen.util.coord.coord_list_mapping" title="Permalink to this definition">¶</a></dt>
<dd><p>Gives the index mapping from a subset to a superset.
Subset and superset cannot contain duplicate rows</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>superset</strong> (<em>subset</em><em>,</em>) – List of coords</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">list of indices such that superset[indices] = subset</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="pymatgen.util.coord.coord_list_mapping_pbc">
<code class="descname">coord_list_mapping_pbc</code><span class="sig-paren">(</span><em>subset</em>, <em>superset</em>, <em>atol=1e-08</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pymatgen/util/coord.html#coord_list_mapping_pbc"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pymatgen.util.coord.coord_list_mapping_pbc" title="Permalink to this definition">¶</a></dt>
<dd><p>Gives the index mapping from a subset to a superset.
Superset cannot contain duplicate matching rows</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>superset</strong> (<em>subset</em><em>,</em>) – List of frac_coords</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">list of indices such that superset[indices] = subset</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="pymatgen.util.coord.find_in_coord_list">
<code class="descname">find_in_coord_list</code><span class="sig-paren">(</span><em>coord_list</em>, <em>coord</em>, <em>atol=1e-08</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pymatgen/util/coord.html#find_in_coord_list"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pymatgen.util.coord.find_in_coord_list" title="Permalink to this definition">¶</a></dt>
<dd><p>Find the indices of matches of a particular coord in a coord_list.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>coord_list</strong> – List of coords to test</li>
<li><strong>coord</strong> – Specific coordinates</li>
<li><strong>atol</strong> – Absolute tolerance. Defaults to 1e-8. Accepts both scalar and
array.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">Indices of matches, e.g., [0, 1, 2, 3]. Empty list if not found.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="pymatgen.util.coord.find_in_coord_list_pbc">
<code class="descname">find_in_coord_list_pbc</code><span class="sig-paren">(</span><em>fcoord_list</em>, <em>fcoord</em>, <em>atol=1e-08</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pymatgen/util/coord.html#find_in_coord_list_pbc"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pymatgen.util.coord.find_in_coord_list_pbc" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the indices of all points in a fractional coord list that are
equal to a fractional coord (with a tolerance), taking into account
periodic boundary conditions.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>fcoord_list</strong> – List of fractional coords</li>
<li><strong>fcoord</strong> – A specific fractional coord to test.</li>
<li><strong>atol</strong> – Absolute tolerance. Defaults to 1e-8.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">Indices of matches, e.g., [0, 1, 2, 3]. Empty list if not found.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="pymatgen.util.coord.get_angle">
<code class="descname">get_angle</code><span class="sig-paren">(</span><em>v1</em>, <em>v2</em>, <em>units='degrees'</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pymatgen/util/coord.html#get_angle"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pymatgen.util.coord.get_angle" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculates the angle between two vectors.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>v1</strong> – Vector 1</li>
<li><strong>v2</strong> – Vector 2</li>
<li><strong>units</strong> – “degrees” or “radians”. Defaults to “degrees”.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">Angle between them in degrees.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="pymatgen.util.coord.get_linear_interpolated_value">
<code class="descname">get_linear_interpolated_value</code><span class="sig-paren">(</span><em>x_values</em>, <em>y_values</em>, <em>x</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pymatgen/util/coord.html#get_linear_interpolated_value"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pymatgen.util.coord.get_linear_interpolated_value" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns an interpolated value by linear interpolation between two values.
This method is written to avoid dependency on scipy, which causes issues on
threading servers.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>x_values</strong> – Sequence of x values.</li>
<li><strong>y_values</strong> – Corresponding sequence of y values</li>
<li><strong>x</strong> – Get value at particular x</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">Value at x.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="pymatgen.util.coord.in_coord_list">
<code class="descname">in_coord_list</code><span class="sig-paren">(</span><em>coord_list</em>, <em>coord</em>, <em>atol=1e-08</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pymatgen/util/coord.html#in_coord_list"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pymatgen.util.coord.in_coord_list" title="Permalink to this definition">¶</a></dt>
<dd><p>Tests if a particular coord is within a coord_list.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>coord_list</strong> – List of coords to test</li>
<li><strong>coord</strong> – Specific coordinates</li>
<li><strong>atol</strong> – Absolute tolerance. Defaults to 1e-8. Accepts both scalar and
array.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">True if coord is in the coord list.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="pymatgen.util.coord.in_coord_list_pbc">
<code class="descname">in_coord_list_pbc</code><span class="sig-paren">(</span><em>fcoord_list</em>, <em>fcoord</em>, <em>atol=1e-08</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pymatgen/util/coord.html#in_coord_list_pbc"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pymatgen.util.coord.in_coord_list_pbc" title="Permalink to this definition">¶</a></dt>
<dd><p>Tests if a particular fractional coord is within a fractional coord_list.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>fcoord_list</strong> – List of fractional coords to test</li>
<li><strong>fcoord</strong> – A specific fractional coord to test.</li>
<li><strong>atol</strong> – Absolute tolerance. Defaults to 1e-8.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">True if coord is in the coord list.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="pymatgen.util.coord.is_coord_subset">
<code class="descname">is_coord_subset</code><span class="sig-paren">(</span><em>subset</em>, <em>superset</em>, <em>atol=1e-08</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pymatgen/util/coord.html#is_coord_subset"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pymatgen.util.coord.is_coord_subset" title="Permalink to this definition">¶</a></dt>
<dd><p>Tests if all coords in subset are contained in superset.
Doesn’t use periodic boundary conditions</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>superset</strong> (<em>subset</em><em>,</em>) – List of coords</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">True if all of subset is in superset.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="pymatgen.util.coord.is_coord_subset_pbc">
<code class="descname">is_coord_subset_pbc</code><span class="sig-paren">(</span><em>subset</em>, <em>superset</em>, <em>atol=1e-08</em>, <em>mask=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pymatgen/util/coord.html#is_coord_subset_pbc"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pymatgen.util.coord.is_coord_subset_pbc" title="Permalink to this definition">¶</a></dt>
<dd><p>Tests if all fractional coords in subset are contained in superset.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>superset</strong> (<em>subset</em><em>,</em>) – List of fractional coords</li>
<li><strong>atol</strong> (<em>float</em><em> or </em><em>size 3 array</em>) – Tolerance for matching</li>
<li><strong>mask</strong> (<em>boolean array</em>) – Mask of matches that are not allowed.
i.e. if mask[1,2] == True, then subset[1] cannot be matched
to superset[2]</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">True if all of subset is in superset.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="pymatgen.util.coord.lattice_points_in_supercell">
<code class="descname">lattice_points_in_supercell</code><span class="sig-paren">(</span><em>supercell_matrix</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pymatgen/util/coord.html#lattice_points_in_supercell"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pymatgen.util.coord.lattice_points_in_supercell" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the list of points on the original lattice contained in the
supercell in fractional coordinates (with the supercell basis).
e.g. [[2,0,0],[0,1,0],[0,0,1]] returns [[0,0,0],[0.5,0,0]]</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>supercell_matrix</strong> – 3x3 matrix describing the supercell</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">numpy array of the fractional coordinates</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="pymatgen.util.coord.pbc_diff">
<code class="descname">pbc_diff</code><span class="sig-paren">(</span><em>fcoords1</em>, <em>fcoords2</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pymatgen/util/coord.html#pbc_diff"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pymatgen.util.coord.pbc_diff" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the ‘fractional distance’ between two coordinates taking into
account periodic boundary conditions.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>fcoords1</strong> – First set of fractional coordinates. e.g., [0.5, 0.6,
0.7] or [[1.1, 1.2, 4.3], [0.5, 0.6, 0.7]]. It can be a single
coord or any array of coords.</li>
<li><strong>fcoords2</strong> – Second set of fractional coordinates.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">Fractional distance. Each coordinate must have the property that
abs(a) &lt;= 0.5. Examples:
pbc_diff([0.1, 0.1, 0.1], [0.3, 0.5, 0.9]) = [-0.2, -0.4, 0.2]
pbc_diff([0.9, 0.1, 1.01], [0.3, 0.5, 0.9]) = [-0.4, -0.4, 0.11]</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="pymatgen.util.coord.pbc_shortest_vectors">
<code class="descname">pbc_shortest_vectors</code><span class="sig-paren">(</span><em>lattice</em>, <em>fcoords1</em>, <em>fcoords2</em>, <em>mask=None</em>, <em>return_d2=False</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pymatgen/util/coord.html#pbc_shortest_vectors"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pymatgen.util.coord.pbc_shortest_vectors" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the shortest vectors between two lists of coordinates taking into
account periodic boundary conditions and the lattice.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>lattice</strong> – lattice to use</li>
<li><strong>fcoords1</strong> – First set of fractional coordinates. e.g., [0.5, 0.6, 0.7]
or [[1.1, 1.2, 4.3], [0.5, 0.6, 0.7]]. It can be a single
coord or any array of coords.</li>
<li><strong>fcoords2</strong> – Second set of fractional coordinates.</li>
<li><strong>mask</strong> (<em>boolean array</em>) – Mask of matches that are not allowed.
i.e. if mask[1,2] == True, then subset[1] cannot be matched
to superset[2]</li>
<li><strong>return_d2</strong> (<em>boolean</em>) – whether to also return the squared distances</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">array of displacement vectors from fcoords1 to fcoords2
first index is fcoords1 index, second is fcoords2 index</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="_sources/pymatgen.util.coord.rst.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    </div>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="nav-item nav-item-0"><a href="index.html">pymatgen 2019.2.4 documentation</a> &#187;</li> 
      </ul>
    </div>

    <div class="footer" role="contentinfo">
        &#169; Copyright 2011, Pymatgen Development Team.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.8.4.
    </div>
<div class="footer">This page uses <a href="http://analytics.google.com/">
Google Analytics</a> to collect statistics. You can disable it by blocking
the JavaScript coming from www.google-analytics.com.
<script type="text/javascript">
  (function() {
    var ga = document.createElement('script');
    ga.src = ('https:' == document.location.protocol ?
              'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    ga.setAttribute('async', 'true');
    document.documentElement.firstChild.appendChild(ga);
  })();
</script>
</div>

  </body>
</html>
<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>pymatgen.util package &mdash; pymatgen 2023.7.17 documentation</title>
      <link rel="stylesheet" href="assets/pygments.css" type="text/css" />
      <link rel="stylesheet" href="assets/css/theme.css" type="text/css" />
      <link rel="stylesheet" href="assets/css/custom.css" type="text/css" />
    <link rel="canonical" href="https://pymatgen.orgpymatgen.util.html"/>
  <!--[if lt IE 9]>
    <script src="assets/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="./" id="documentation_options" src="assets/documentation_options.js?v=b3ba4146"></script>
        <script src="assets/doctools.js?v=888ff710"></script>
        <script src="assets/sphinx_highlight.js?v=4825356b"></script>
    <script src="assets/js/theme.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
 
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.1/jquery.min.js"></script>
<script type="text/javascript">
  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-33990148-1']);
  _gaq.push(['_trackPageview']);
</script>

</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search"  style="background: linear-gradient(0deg, rgba(23,63,162,1) 0%, rgba(0,70,192,1) 100%)" >
            <a href="index.html" class="icon icon-home"> pymatgen
          </a>
              <div class="version">
                2023.7.17
              </div>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <!-- Local TOC -->
              <div class="local-toc"><ul>
<li><a class="reference internal" href="#">pymatgen.util package</a><ul>
<li><a class="reference internal" href="#submodules">Submodules</a></li>
<li><a class="reference internal" href="#module-pymatgen.util.convergence">pymatgen.util.convergence module</a><ul>
<li><a class="reference internal" href="#pymatgen.util.convergence.SplineInputError"><code class="docutils literal notranslate"><span class="pre">SplineInputError</span></code></a></li>
<li><a class="reference internal" href="#pymatgen.util.convergence.determine_convergence"><code class="docutils literal notranslate"><span class="pre">determine_convergence()</span></code></a></li>
<li><a class="reference internal" href="#pymatgen.util.convergence.exponential"><code class="docutils literal notranslate"><span class="pre">exponential()</span></code></a></li>
<li><a class="reference internal" href="#pymatgen.util.convergence.extrapolate_reciprocal"><code class="docutils literal notranslate"><span class="pre">extrapolate_reciprocal()</span></code></a></li>
<li><a class="reference internal" href="#pymatgen.util.convergence.extrapolate_simple_reciprocal"><code class="docutils literal notranslate"><span class="pre">extrapolate_simple_reciprocal()</span></code></a></li>
<li><a class="reference internal" href="#pymatgen.util.convergence.get_derivatives"><code class="docutils literal notranslate"><span class="pre">get_derivatives()</span></code></a></li>
<li><a class="reference internal" href="#pymatgen.util.convergence.get_weights"><code class="docutils literal notranslate"><span class="pre">get_weights()</span></code></a></li>
<li><a class="reference internal" href="#pymatgen.util.convergence.id_generator"><code class="docutils literal notranslate"><span class="pre">id_generator()</span></code></a></li>
<li><a class="reference internal" href="#pymatgen.util.convergence.measure"><code class="docutils literal notranslate"><span class="pre">measure()</span></code></a></li>
<li><a class="reference internal" href="#pymatgen.util.convergence.multi_curve_fit"><code class="docutils literal notranslate"><span class="pre">multi_curve_fit()</span></code></a></li>
<li><a class="reference internal" href="#pymatgen.util.convergence.multi_reciprocal_extra"><code class="docutils literal notranslate"><span class="pre">multi_reciprocal_extra()</span></code></a></li>
<li><a class="reference internal" href="#pymatgen.util.convergence.p0_exponential"><code class="docutils literal notranslate"><span class="pre">p0_exponential()</span></code></a></li>
<li><a class="reference internal" href="#pymatgen.util.convergence.p0_reciprocal"><code class="docutils literal notranslate"><span class="pre">p0_reciprocal()</span></code></a></li>
<li><a class="reference internal" href="#pymatgen.util.convergence.p0_simple_2reciprocal"><code class="docutils literal notranslate"><span class="pre">p0_simple_2reciprocal()</span></code></a></li>
<li><a class="reference internal" href="#pymatgen.util.convergence.p0_simple_4reciprocal"><code class="docutils literal notranslate"><span class="pre">p0_simple_4reciprocal()</span></code></a></li>
<li><a class="reference internal" href="#pymatgen.util.convergence.p0_simple_5reciprocal"><code class="docutils literal notranslate"><span class="pre">p0_simple_5reciprocal()</span></code></a></li>
<li><a class="reference internal" href="#pymatgen.util.convergence.p0_simple_reciprocal"><code class="docutils literal notranslate"><span class="pre">p0_simple_reciprocal()</span></code></a></li>
<li><a class="reference internal" href="#pymatgen.util.convergence.p0_single_reciprocal"><code class="docutils literal notranslate"><span class="pre">p0_single_reciprocal()</span></code></a></li>
<li><a class="reference internal" href="#pymatgen.util.convergence.print_and_raise_error"><code class="docutils literal notranslate"><span class="pre">print_and_raise_error()</span></code></a></li>
<li><a class="reference internal" href="#pymatgen.util.convergence.print_plot_line"><code class="docutils literal notranslate"><span class="pre">print_plot_line()</span></code></a></li>
<li><a class="reference internal" href="#pymatgen.util.convergence.reciprocal"><code class="docutils literal notranslate"><span class="pre">reciprocal()</span></code></a></li>
<li><a class="reference internal" href="#pymatgen.util.convergence.simple_2reciprocal"><code class="docutils literal notranslate"><span class="pre">simple_2reciprocal()</span></code></a></li>
<li><a class="reference internal" href="#pymatgen.util.convergence.simple_4reciprocal"><code class="docutils literal notranslate"><span class="pre">simple_4reciprocal()</span></code></a></li>
<li><a class="reference internal" href="#pymatgen.util.convergence.simple_5reciprocal"><code class="docutils literal notranslate"><span class="pre">simple_5reciprocal()</span></code></a></li>
<li><a class="reference internal" href="#pymatgen.util.convergence.simple_reciprocal"><code class="docutils literal notranslate"><span class="pre">simple_reciprocal()</span></code></a></li>
<li><a class="reference internal" href="#pymatgen.util.convergence.single_reciprocal"><code class="docutils literal notranslate"><span class="pre">single_reciprocal()</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#module-pymatgen.util.coord">pymatgen.util.coord module</a><ul>
<li><a class="reference internal" href="#pymatgen.util.coord.Simplex"><code class="docutils literal notranslate"><span class="pre">Simplex</span></code></a><ul>
<li><a class="reference internal" href="#pymatgen.util.coord.Simplex.bary_coords"><code class="docutils literal notranslate"><span class="pre">Simplex.bary_coords()</span></code></a></li>
<li><a class="reference internal" href="#pymatgen.util.coord.Simplex.coords"><code class="docutils literal notranslate"><span class="pre">Simplex.coords</span></code></a></li>
<li><a class="reference internal" href="#pymatgen.util.coord.Simplex.in_simplex"><code class="docutils literal notranslate"><span class="pre">Simplex.in_simplex()</span></code></a></li>
<li><a class="reference internal" href="#pymatgen.util.coord.Simplex.line_intersection"><code class="docutils literal notranslate"><span class="pre">Simplex.line_intersection()</span></code></a></li>
<li><a class="reference internal" href="#pymatgen.util.coord.Simplex.point_from_bary_coords"><code class="docutils literal notranslate"><span class="pre">Simplex.point_from_bary_coords()</span></code></a></li>
<li><a class="reference internal" href="#pymatgen.util.coord.Simplex.volume"><code class="docutils literal notranslate"><span class="pre">Simplex.volume</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#pymatgen.util.coord.all_distances"><code class="docutils literal notranslate"><span class="pre">all_distances()</span></code></a></li>
<li><a class="reference internal" href="#pymatgen.util.coord.barycentric_coords"><code class="docutils literal notranslate"><span class="pre">barycentric_coords()</span></code></a></li>
<li><a class="reference internal" href="#pymatgen.util.coord.coord_list_mapping"><code class="docutils literal notranslate"><span class="pre">coord_list_mapping()</span></code></a></li>
<li><a class="reference internal" href="#pymatgen.util.coord.coord_list_mapping_pbc"><code class="docutils literal notranslate"><span class="pre">coord_list_mapping_pbc()</span></code></a></li>
<li><a class="reference internal" href="#pymatgen.util.coord.find_in_coord_list"><code class="docutils literal notranslate"><span class="pre">find_in_coord_list()</span></code></a></li>
<li><a class="reference internal" href="#pymatgen.util.coord.find_in_coord_list_pbc"><code class="docutils literal notranslate"><span class="pre">find_in_coord_list_pbc()</span></code></a></li>
<li><a class="reference internal" href="#pymatgen.util.coord.get_angle"><code class="docutils literal notranslate"><span class="pre">get_angle()</span></code></a></li>
<li><a class="reference internal" href="#pymatgen.util.coord.get_linear_interpolated_value"><code class="docutils literal notranslate"><span class="pre">get_linear_interpolated_value()</span></code></a></li>
<li><a class="reference internal" href="#pymatgen.util.coord.in_coord_list"><code class="docutils literal notranslate"><span class="pre">in_coord_list()</span></code></a></li>
<li><a class="reference internal" href="#pymatgen.util.coord.in_coord_list_pbc"><code class="docutils literal notranslate"><span class="pre">in_coord_list_pbc()</span></code></a></li>
<li><a class="reference internal" href="#pymatgen.util.coord.is_coord_subset"><code class="docutils literal notranslate"><span class="pre">is_coord_subset()</span></code></a></li>
<li><a class="reference internal" href="#pymatgen.util.coord.is_coord_subset_pbc"><code class="docutils literal notranslate"><span class="pre">is_coord_subset_pbc()</span></code></a></li>
<li><a class="reference internal" href="#pymatgen.util.coord.lattice_points_in_supercell"><code class="docutils literal notranslate"><span class="pre">lattice_points_in_supercell()</span></code></a></li>
<li><a class="reference internal" href="#pymatgen.util.coord.pbc_diff"><code class="docutils literal notranslate"><span class="pre">pbc_diff()</span></code></a></li>
<li><a class="reference internal" href="#pymatgen.util.coord.pbc_shortest_vectors"><code class="docutils literal notranslate"><span class="pre">pbc_shortest_vectors()</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#module-pymatgen.util.coord_cython">pymatgen.util.coord_cython module</a><ul>
<li><a class="reference internal" href="#pymatgen.util.coord_cython.coord_list_mapping_pbc"><code class="docutils literal notranslate"><span class="pre">coord_list_mapping_pbc()</span></code></a></li>
<li><a class="reference internal" href="#pymatgen.util.coord_cython.is_coord_subset_pbc"><code class="docutils literal notranslate"><span class="pre">is_coord_subset_pbc()</span></code></a></li>
<li><a class="reference internal" href="#pymatgen.util.coord_cython.pbc_shortest_vectors"><code class="docutils literal notranslate"><span class="pre">pbc_shortest_vectors()</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#module-pymatgen.util.due">pymatgen.util.due module</a><ul>
<li><a class="reference internal" href="#pymatgen.util.due.BibTeX"><code class="docutils literal notranslate"><span class="pre">BibTeX()</span></code></a></li>
<li><a class="reference internal" href="#pymatgen.util.due.Doi"><code class="docutils literal notranslate"><span class="pre">Doi()</span></code></a></li>
<li><a class="reference internal" href="#pymatgen.util.due.InactiveDueCreditCollector"><code class="docutils literal notranslate"><span class="pre">InactiveDueCreditCollector</span></code></a><ul>
<li><a class="reference internal" href="#pymatgen.util.due.InactiveDueCreditCollector._donothing"><code class="docutils literal notranslate"><span class="pre">InactiveDueCreditCollector._donothing()</span></code></a></li>
<li><a class="reference internal" href="#pymatgen.util.due.InactiveDueCreditCollector.activate"><code class="docutils literal notranslate"><span class="pre">InactiveDueCreditCollector.activate()</span></code></a></li>
<li><a class="reference internal" href="#pymatgen.util.due.InactiveDueCreditCollector.active"><code class="docutils literal notranslate"><span class="pre">InactiveDueCreditCollector.active</span></code></a></li>
<li><a class="reference internal" href="#pymatgen.util.due.InactiveDueCreditCollector.add"><code class="docutils literal notranslate"><span class="pre">InactiveDueCreditCollector.add()</span></code></a></li>
<li><a class="reference internal" href="#pymatgen.util.due.InactiveDueCreditCollector.cite"><code class="docutils literal notranslate"><span class="pre">InactiveDueCreditCollector.cite()</span></code></a></li>
<li><a class="reference internal" href="#pymatgen.util.due.InactiveDueCreditCollector.dcite"><code class="docutils literal notranslate"><span class="pre">InactiveDueCreditCollector.dcite()</span></code></a></li>
<li><a class="reference internal" href="#pymatgen.util.due.InactiveDueCreditCollector.dump"><code class="docutils literal notranslate"><span class="pre">InactiveDueCreditCollector.dump()</span></code></a></li>
<li><a class="reference internal" href="#pymatgen.util.due.InactiveDueCreditCollector.load"><code class="docutils literal notranslate"><span class="pre">InactiveDueCreditCollector.load()</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#pymatgen.util.due.Text"><code class="docutils literal notranslate"><span class="pre">Text()</span></code></a></li>
<li><a class="reference internal" href="#pymatgen.util.due.Url"><code class="docutils literal notranslate"><span class="pre">Url()</span></code></a></li>
<li><a class="reference internal" href="#pymatgen.util.due._donothing_func"><code class="docutils literal notranslate"><span class="pre">_donothing_func()</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#module-pymatgen.util.graph_hashing">pymatgen.util.graph_hashing module</a><ul>
<li><a class="reference internal" href="#pymatgen.util.graph_hashing._hash_label"><code class="docutils literal notranslate"><span class="pre">_hash_label()</span></code></a></li>
<li><a class="reference internal" href="#pymatgen.util.graph_hashing._init_node_labels"><code class="docutils literal notranslate"><span class="pre">_init_node_labels()</span></code></a></li>
<li><a class="reference internal" href="#pymatgen.util.graph_hashing._neighborhood_aggregate"><code class="docutils literal notranslate"><span class="pre">_neighborhood_aggregate()</span></code></a></li>
<li><a class="reference internal" href="#pymatgen.util.graph_hashing.weisfeiler_lehman_graph_hash"><code class="docutils literal notranslate"><span class="pre">weisfeiler_lehman_graph_hash()</span></code></a></li>
<li><a class="reference internal" href="#pymatgen.util.graph_hashing.weisfeiler_lehman_subgraph_hashes"><code class="docutils literal notranslate"><span class="pre">weisfeiler_lehman_subgraph_hashes()</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#module-pymatgen.util.io_utils">pymatgen.util.io_utils module</a><ul>
<li><a class="reference internal" href="#pymatgen.util.io_utils.clean_lines"><code class="docutils literal notranslate"><span class="pre">clean_lines()</span></code></a></li>
<li><a class="reference internal" href="#pymatgen.util.io_utils.micro_pyawk"><code class="docutils literal notranslate"><span class="pre">micro_pyawk()</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#module-pymatgen.util.num">pymatgen.util.num module</a><ul>
<li><a class="reference internal" href="#pymatgen.util.num.abs_cap"><code class="docutils literal notranslate"><span class="pre">abs_cap()</span></code></a></li>
<li><a class="reference internal" href="#pymatgen.util.num.make_symmetric_matrix_from_upper_tri"><code class="docutils literal notranslate"><span class="pre">make_symmetric_matrix_from_upper_tri()</span></code></a></li>
<li><a class="reference internal" href="#pymatgen.util.num.maxloc"><code class="docutils literal notranslate"><span class="pre">maxloc()</span></code></a></li>
<li><a class="reference internal" href="#pymatgen.util.num.min_max_indexes"><code class="docutils literal notranslate"><span class="pre">min_max_indexes()</span></code></a></li>
<li><a class="reference internal" href="#pymatgen.util.num.minloc"><code class="docutils literal notranslate"><span class="pre">minloc()</span></code></a></li>
<li><a class="reference internal" href="#pymatgen.util.num.monotonic"><code class="docutils literal notranslate"><span class="pre">monotonic()</span></code></a></li>
<li><a class="reference internal" href="#pymatgen.util.num.non_decreasing"><code class="docutils literal notranslate"><span class="pre">non_decreasing()</span></code></a></li>
<li><a class="reference internal" href="#pymatgen.util.num.non_increasing"><code class="docutils literal notranslate"><span class="pre">non_increasing()</span></code></a></li>
<li><a class="reference internal" href="#pymatgen.util.num.round_to_sigfigs"><code class="docutils literal notranslate"><span class="pre">round_to_sigfigs()</span></code></a></li>
<li><a class="reference internal" href="#pymatgen.util.num.strictly_decreasing"><code class="docutils literal notranslate"><span class="pre">strictly_decreasing()</span></code></a></li>
<li><a class="reference internal" href="#pymatgen.util.num.strictly_increasing"><code class="docutils literal notranslate"><span class="pre">strictly_increasing()</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#module-pymatgen.util.numba">pymatgen.util.numba module</a><ul>
<li><a class="reference internal" href="#pymatgen.util.numba.jit"><code class="docutils literal notranslate"><span class="pre">jit()</span></code></a></li>
<li><a class="reference internal" href="#pymatgen.util.numba.njit"><code class="docutils literal notranslate"><span class="pre">njit()</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#module-pymatgen.util.plotting">pymatgen.util.plotting module</a><ul>
<li><a class="reference internal" href="#pymatgen.util.plotting._decide_fontcolor"><code class="docutils literal notranslate"><span class="pre">_decide_fontcolor()</span></code></a></li>
<li><a class="reference internal" href="#pymatgen.util.plotting.add_fig_kwargs"><code class="docutils literal notranslate"><span class="pre">add_fig_kwargs()</span></code></a></li>
<li><a class="reference internal" href="#pymatgen.util.plotting.format_formula"><code class="docutils literal notranslate"><span class="pre">format_formula()</span></code></a></li>
<li><a class="reference internal" href="#pymatgen.util.plotting.get_ax3d_fig_plt"><code class="docutils literal notranslate"><span class="pre">get_ax3d_fig_plt()</span></code></a></li>
<li><a class="reference internal" href="#pymatgen.util.plotting.get_ax_fig_plt"><code class="docutils literal notranslate"><span class="pre">get_ax_fig_plt()</span></code></a></li>
<li><a class="reference internal" href="#pymatgen.util.plotting.get_axarray_fig_plt"><code class="docutils literal notranslate"><span class="pre">get_axarray_fig_plt()</span></code></a></li>
<li><a class="reference internal" href="#pymatgen.util.plotting.periodic_table_heatmap"><code class="docutils literal notranslate"><span class="pre">periodic_table_heatmap()</span></code></a></li>
<li><a class="reference internal" href="#pymatgen.util.plotting.pretty_plot"><code class="docutils literal notranslate"><span class="pre">pretty_plot()</span></code></a></li>
<li><a class="reference internal" href="#pymatgen.util.plotting.pretty_plot_two_axis"><code class="docutils literal notranslate"><span class="pre">pretty_plot_two_axis()</span></code></a></li>
<li><a class="reference internal" href="#pymatgen.util.plotting.pretty_polyfit_plot"><code class="docutils literal notranslate"><span class="pre">pretty_polyfit_plot()</span></code></a></li>
<li><a class="reference internal" href="#pymatgen.util.plotting.van_arkel_triangle"><code class="docutils literal notranslate"><span class="pre">van_arkel_triangle()</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#module-pymatgen.util.provenance">pymatgen.util.provenance module</a><ul>
<li><a class="reference internal" href="#pymatgen.util.provenance.Author"><code class="docutils literal notranslate"><span class="pre">Author</span></code></a><ul>
<li><a class="reference internal" href="#pymatgen.util.provenance.Author.as_dict"><code class="docutils literal notranslate"><span class="pre">Author.as_dict()</span></code></a></li>
<li><a class="reference internal" href="#pymatgen.util.provenance.Author.from_dict"><code class="docutils literal notranslate"><span class="pre">Author.from_dict()</span></code></a></li>
<li><a class="reference internal" href="#pymatgen.util.provenance.Author.parse_author"><code class="docutils literal notranslate"><span class="pre">Author.parse_author()</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#pymatgen.util.provenance.HistoryNode"><code class="docutils literal notranslate"><span class="pre">HistoryNode</span></code></a><ul>
<li><a class="reference internal" href="#pymatgen.util.provenance.HistoryNode.name"><code class="docutils literal notranslate"><span class="pre">HistoryNode.name</span></code></a></li>
<li><a class="reference internal" href="#pymatgen.util.provenance.HistoryNode.url"><code class="docutils literal notranslate"><span class="pre">HistoryNode.url</span></code></a></li>
<li><a class="reference internal" href="#pymatgen.util.provenance.HistoryNode.description"><code class="docutils literal notranslate"><span class="pre">HistoryNode.description</span></code></a></li>
<li><a class="reference internal" href="#pymatgen.util.provenance.HistoryNode.as_dict"><code class="docutils literal notranslate"><span class="pre">HistoryNode.as_dict()</span></code></a></li>
<li><a class="reference internal" href="#pymatgen.util.provenance.HistoryNode.from_dict"><code class="docutils literal notranslate"><span class="pre">HistoryNode.from_dict()</span></code></a></li>
<li><a class="reference internal" href="#pymatgen.util.provenance.HistoryNode.parse_history_node"><code class="docutils literal notranslate"><span class="pre">HistoryNode.parse_history_node()</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#pymatgen.util.provenance.StructureNL"><code class="docutils literal notranslate"><span class="pre">StructureNL</span></code></a><ul>
<li><a class="reference internal" href="#pymatgen.util.provenance.StructureNL.as_dict"><code class="docutils literal notranslate"><span class="pre">StructureNL.as_dict()</span></code></a></li>
<li><a class="reference internal" href="#pymatgen.util.provenance.StructureNL.from_dict"><code class="docutils literal notranslate"><span class="pre">StructureNL.from_dict()</span></code></a></li>
<li><a class="reference internal" href="#pymatgen.util.provenance.StructureNL.from_structures"><code class="docutils literal notranslate"><span class="pre">StructureNL.from_structures()</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#pymatgen.util.provenance.is_valid_bibtex"><code class="docutils literal notranslate"><span class="pre">is_valid_bibtex()</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#module-pymatgen.util.string">pymatgen.util.string module</a><ul>
<li><a class="reference internal" href="#pymatgen.util.string.Stringify"><code class="docutils literal notranslate"><span class="pre">Stringify</span></code></a><ul>
<li><a class="reference internal" href="#pymatgen.util.string.Stringify.STRING_MODE"><code class="docutils literal notranslate"><span class="pre">Stringify.STRING_MODE</span></code></a></li>
<li><a class="reference internal" href="#pymatgen.util.string.Stringify.to_html_string"><code class="docutils literal notranslate"><span class="pre">Stringify.to_html_string()</span></code></a></li>
<li><a class="reference internal" href="#pymatgen.util.string.Stringify.to_latex_string"><code class="docutils literal notranslate"><span class="pre">Stringify.to_latex_string()</span></code></a></li>
<li><a class="reference internal" href="#pymatgen.util.string.Stringify.to_pretty_string"><code class="docutils literal notranslate"><span class="pre">Stringify.to_pretty_string()</span></code></a></li>
<li><a class="reference internal" href="#pymatgen.util.string.Stringify.to_unicode_string"><code class="docutils literal notranslate"><span class="pre">Stringify.to_unicode_string()</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#pymatgen.util.string.charge_string"><code class="docutils literal notranslate"><span class="pre">charge_string()</span></code></a></li>
<li><a class="reference internal" href="#pymatgen.util.string.disordered_formula"><code class="docutils literal notranslate"><span class="pre">disordered_formula()</span></code></a></li>
<li><a class="reference internal" href="#pymatgen.util.string.formula_double_format"><code class="docutils literal notranslate"><span class="pre">formula_double_format()</span></code></a></li>
<li><a class="reference internal" href="#pymatgen.util.string.htmlify"><code class="docutils literal notranslate"><span class="pre">htmlify()</span></code></a></li>
<li><a class="reference internal" href="#pymatgen.util.string.latexify"><code class="docutils literal notranslate"><span class="pre">latexify()</span></code></a></li>
<li><a class="reference internal" href="#pymatgen.util.string.latexify_spacegroup"><code class="docutils literal notranslate"><span class="pre">latexify_spacegroup()</span></code></a></li>
<li><a class="reference internal" href="#pymatgen.util.string.str_delimited"><code class="docutils literal notranslate"><span class="pre">str_delimited()</span></code></a></li>
<li><a class="reference internal" href="#pymatgen.util.string.stream_has_colours"><code class="docutils literal notranslate"><span class="pre">stream_has_colours()</span></code></a></li>
<li><a class="reference internal" href="#pymatgen.util.string.transformation_to_string"><code class="docutils literal notranslate"><span class="pre">transformation_to_string()</span></code></a></li>
<li><a class="reference internal" href="#pymatgen.util.string.unicodeify"><code class="docutils literal notranslate"><span class="pre">unicodeify()</span></code></a></li>
<li><a class="reference internal" href="#pymatgen.util.string.unicodeify_spacegroup"><code class="docutils literal notranslate"><span class="pre">unicodeify_spacegroup()</span></code></a></li>
<li><a class="reference internal" href="#pymatgen.util.string.unicodeify_species"><code class="docutils literal notranslate"><span class="pre">unicodeify_species()</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#module-pymatgen.util.testing">pymatgen.util.testing module</a><ul>
<li><a class="reference internal" href="#pymatgen.util.testing.PymatgenTest"><code class="docutils literal notranslate"><span class="pre">PymatgenTest</span></code></a><ul>
<li><a class="reference internal" href="#pymatgen.util.testing.PymatgenTest.MODULE_DIR"><code class="docutils literal notranslate"><span class="pre">PymatgenTest.MODULE_DIR</span></code></a></li>
<li><a class="reference internal" href="#pymatgen.util.testing.PymatgenTest.STRUCTURES_DIR"><code class="docutils literal notranslate"><span class="pre">PymatgenTest.STRUCTURES_DIR</span></code></a></li>
<li><a class="reference internal" href="#pymatgen.util.testing.PymatgenTest.TEST_FILES_DIR"><code class="docutils literal notranslate"><span class="pre">PymatgenTest.TEST_FILES_DIR</span></code></a></li>
<li><a class="reference internal" href="#pymatgen.util.testing.PymatgenTest.TEST_STRUCTURES"><code class="docutils literal notranslate"><span class="pre">PymatgenTest.TEST_STRUCTURES</span></code></a></li>
<li><a class="reference internal" href="#pymatgen.util.testing.PymatgenTest._multiprocess_shared_"><code class="docutils literal notranslate"><span class="pre">PymatgenTest._multiprocess_shared_</span></code></a></li>
<li><a class="reference internal" href="#pymatgen.util.testing.PymatgenTest._tmp_dir"><code class="docutils literal notranslate"><span class="pre">PymatgenTest._tmp_dir()</span></code></a></li>
<li><a class="reference internal" href="#pymatgen.util.testing.PymatgenTest.assert_all_close"><code class="docutils literal notranslate"><span class="pre">PymatgenTest.assert_all_close()</span></code></a></li>
<li><a class="reference internal" href="#pymatgen.util.testing.PymatgenTest.assert_msonable"><code class="docutils literal notranslate"><span class="pre">PymatgenTest.assert_msonable()</span></code></a></li>
<li><a class="reference internal" href="#pymatgen.util.testing.PymatgenTest.assert_str_content_equal"><code class="docutils literal notranslate"><span class="pre">PymatgenTest.assert_str_content_equal()</span></code></a></li>
<li><a class="reference internal" href="#pymatgen.util.testing.PymatgenTest.get_structure"><code class="docutils literal notranslate"><span class="pre">PymatgenTest.get_structure()</span></code></a></li>
<li><a class="reference internal" href="#pymatgen.util.testing.PymatgenTest.serialize_with_pickle"><code class="docutils literal notranslate"><span class="pre">PymatgenTest.serialize_with_pickle()</span></code></a></li>
</ul>
</li>
</ul>
</li>
<li><a class="reference internal" href="#module-pymatgen.util.typing">pymatgen.util.typing module</a></li>
</ul>
</li>
</ul>
</div>
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu"  style="background: linear-gradient(0deg, rgba(23,63,162,1) 0%, rgba(0,70,192,1) 100%)" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">pymatgen</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content style-external-links">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="index.html" class="icon icon-home"></a></li>
      <li class="breadcrumb-item active">pymatgen.util package</li>
      <li class="wy-breadcrumbs-aside">
              <a href="https://github.com/materialsproject/pymatgen/blob/master/docs_rst/pymatgen.util.rst" class="fa fa-github"> Edit on GitHub</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="module-pymatgen.util">
<span id="pymatgen-util-package"></span><h1>pymatgen.util package<a class="headerlink" href="#module-pymatgen.util" title="Permalink to this heading"></a></h1>
<p>The util package implements various utilities that are commonly used by various
packages.</p>
<section id="submodules">
<h2>Submodules<a class="headerlink" href="#submodules" title="Permalink to this heading"></a></h2>
</section>
<section id="module-pymatgen.util.convergence">
<span id="pymatgen-util-convergence-module"></span><h2>pymatgen.util.convergence module<a class="headerlink" href="#module-pymatgen.util.convergence" title="Permalink to this heading"></a></h2>
<p>Functions for calculating the convergence of an x, y data set.</p>
<p>Main API:</p>
<p>test_conv(xs, ys, name, tol)</p>
<p>tries to fit multiple functions to the x, y data</p>
<p>calculates which function fits best
for tol &lt; 0
returns the x value for which y is converged within tol of the asymptotic value
for tol &gt; 0
returns the x_value for which dy(x)/dx &lt; tol for all x &gt;= x_value, conv is true is such a x_value exists
for the best fit a gnuplot line is printed plotting the data, the function and the asymptotic value</p>
<dl class="py exception">
<dt class="sig sig-object py" id="pymatgen.util.convergence.SplineInputError">
<em class="property"><span class="pre">exception</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">SplineInputError</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">msg</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/materialsproject/pymatgen/blob/v2023.7.17/pymatgen/util/convergence.py"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pymatgen.util.convergence.SplineInputError" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">Exception</span></code></p>
<p>Error for Spline input.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>msg</strong> (<em>str</em>) – Message.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="pymatgen.util.convergence.determine_convergence">
<span class="sig-name descname"><span class="pre">determine_convergence</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">xs</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ys</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tol</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">0.0001</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">extra</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">''</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">verbose</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mode</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'extra'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">plots</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/materialsproject/pymatgen/blob/v2023.7.17/pymatgen/util/convergence.py"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pymatgen.util.convergence.determine_convergence" title="Permalink to this definition"></a></dt>
<dd><p>Test it and at which x_value dy(x)/dx &lt; tol for all x &gt;= x_value, conv is true is such a x_value exists.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="pymatgen.util.convergence.exponential">
<span class="sig-name descname"><span class="pre">exponential</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">x</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">a</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">b</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">n</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/materialsproject/pymatgen/blob/v2023.7.17/pymatgen/util/convergence.py"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pymatgen.util.convergence.exponential" title="Permalink to this definition"></a></dt>
<dd><p>Exponential function base n to fit convergence data.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="pymatgen.util.convergence.extrapolate_reciprocal">
<span class="sig-name descname"><span class="pre">extrapolate_reciprocal</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">xs</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ys</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">n</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">noise</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/materialsproject/pymatgen/blob/v2023.7.17/pymatgen/util/convergence.py"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pymatgen.util.convergence.extrapolate_reciprocal" title="Permalink to this definition"></a></dt>
<dd><p>Return the parameters such that a + b / x^n hits the last two data points.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="pymatgen.util.convergence.extrapolate_simple_reciprocal">
<span class="sig-name descname"><span class="pre">extrapolate_simple_reciprocal</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">xs</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ys</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/materialsproject/pymatgen/blob/v2023.7.17/pymatgen/util/convergence.py"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pymatgen.util.convergence.extrapolate_simple_reciprocal" title="Permalink to this definition"></a></dt>
<dd><p>Extrapolate simple reciprocal function to fit convergence data.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>xs</strong> – List of x values.</p></li>
<li><p><strong>ys</strong> – List of y values.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>List of parameters [a, b].</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="pymatgen.util.convergence.get_derivatives">
<span class="sig-name descname"><span class="pre">get_derivatives</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">xs</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ys</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fd</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/materialsproject/pymatgen/blob/v2023.7.17/pymatgen/util/convergence.py"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pymatgen.util.convergence.get_derivatives" title="Permalink to this definition"></a></dt>
<dd><p>return the derivatives of y(x) at the points x
if scipy is available a spline is generated to calculate the derivatives
if scipy is not available the left and right slopes are calculated, if both exist the average is returned
putting fd to zero always returns the finite difference slopes.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="pymatgen.util.convergence.get_weights">
<span class="sig-name descname"><span class="pre">get_weights</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">xs</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ys</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mode</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">2</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/materialsproject/pymatgen/blob/v2023.7.17/pymatgen/util/convergence.py"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pymatgen.util.convergence.get_weights" title="Permalink to this definition"></a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>xs</strong> (<em>list</em>) – List of x values.</p></li>
<li><p><strong>ys</strong> (<em>list</em>) – List of y values.</p></li>
<li><p><strong>mode</strong> (<em>int</em>) – Mode for calculating weights.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>List of weights.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>list</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="pymatgen.util.convergence.id_generator">
<span class="sig-name descname"><span class="pre">id_generator</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">size</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">8</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">chars</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789'</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">str</span></span></span><a class="reference external" href="https://github.com/materialsproject/pymatgen/blob/v2023.7.17/pymatgen/util/convergence.py"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pymatgen.util.convergence.id_generator" title="Permalink to this definition"></a></dt>
<dd><p>Generate a random string of specified size and characters.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>size</strong> (<em>int</em>) – The length of the generated string.</p></li>
<li><p><strong>chars</strong> (<em>str</em>) – The characters to use for generating the string.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The generated random string.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>str</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="pymatgen.util.convergence.measure">
<span class="sig-name descname"><span class="pre">measure</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">function</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">xs</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ys</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">popt</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">weights</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/materialsproject/pymatgen/blob/v2023.7.17/pymatgen/util/convergence.py"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pymatgen.util.convergence.measure" title="Permalink to this definition"></a></dt>
<dd><p>Measure the quality of a fit.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="pymatgen.util.convergence.multi_curve_fit">
<span class="sig-name descname"><span class="pre">multi_curve_fit</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">xs</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ys</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">verbose</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/materialsproject/pymatgen/blob/v2023.7.17/pymatgen/util/convergence.py"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pymatgen.util.convergence.multi_curve_fit" title="Permalink to this definition"></a></dt>
<dd><p>Fit multiple functions to the x, y data, return the best fit.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="pymatgen.util.convergence.multi_reciprocal_extra">
<span class="sig-name descname"><span class="pre">multi_reciprocal_extra</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">xs</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ys</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">noise</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/materialsproject/pymatgen/blob/v2023.7.17/pymatgen/util/convergence.py"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pymatgen.util.convergence.multi_reciprocal_extra" title="Permalink to this definition"></a></dt>
<dd><p>Calculates for a series of powers ns the parameters for which the last two points are at the curve.
With these parameters measure how well the other data points fit.
return the best fit.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="pymatgen.util.convergence.p0_exponential">
<span class="sig-name descname"><span class="pre">p0_exponential</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">xs</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ys</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/materialsproject/pymatgen/blob/v2023.7.17/pymatgen/util/convergence.py"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pymatgen.util.convergence.p0_exponential" title="Permalink to this definition"></a></dt>
<dd><p>Calculate the initial guess parameters for the exponential function.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>xs</strong> (<em>list</em>) – List of x values.</p></li>
<li><p><strong>ys</strong> (<em>list</em>) – List of y values.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>List of initial guess parameters [a, b, n].</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>list</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="pymatgen.util.convergence.p0_reciprocal">
<span class="sig-name descname"><span class="pre">p0_reciprocal</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">xs</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ys</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/materialsproject/pymatgen/blob/v2023.7.17/pymatgen/util/convergence.py"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pymatgen.util.convergence.p0_reciprocal" title="Permalink to this definition"></a></dt>
<dd><p>Predictor for first guess for reciprocal.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="pymatgen.util.convergence.p0_simple_2reciprocal">
<span class="sig-name descname"><span class="pre">p0_simple_2reciprocal</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">xs</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ys</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/materialsproject/pymatgen/blob/v2023.7.17/pymatgen/util/convergence.py"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pymatgen.util.convergence.p0_simple_2reciprocal" title="Permalink to this definition"></a></dt>
<dd><p>Calculate the initial guess parameters for the simple reciprocal function with a power of 2.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>xs</strong> (<em>list</em>) – List of x values.</p></li>
<li><p><strong>ys</strong> (<em>list</em>) – List of y values.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>List of initial guess parameters [a, b].</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>list</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="pymatgen.util.convergence.p0_simple_4reciprocal">
<span class="sig-name descname"><span class="pre">p0_simple_4reciprocal</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">xs</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ys</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/materialsproject/pymatgen/blob/v2023.7.17/pymatgen/util/convergence.py"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pymatgen.util.convergence.p0_simple_4reciprocal" title="Permalink to this definition"></a></dt>
<dd><p>Calculate the initial guess parameters for the simple reciprocal function with a power of 4.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>xs</strong> (<em>list</em>) – List of x values.</p></li>
<li><p><strong>ys</strong> (<em>list</em>) – List of y values.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The initial guess parameters [a, b].</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>list</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="pymatgen.util.convergence.p0_simple_5reciprocal">
<span class="sig-name descname"><span class="pre">p0_simple_5reciprocal</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">xs</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ys</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/materialsproject/pymatgen/blob/v2023.7.17/pymatgen/util/convergence.py"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pymatgen.util.convergence.p0_simple_5reciprocal" title="Permalink to this definition"></a></dt>
<dd><p>Calculate the initial guess parameters for the simple reciprocal function with a power of 0.5.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>xs</strong> (<em>list</em>) – List of x values.</p></li>
<li><p><strong>ys</strong> (<em>list</em>) – List of y values.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>List of parameters [a, b].</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>list</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="pymatgen.util.convergence.p0_simple_reciprocal">
<span class="sig-name descname"><span class="pre">p0_simple_reciprocal</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">xs</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ys</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/materialsproject/pymatgen/blob/v2023.7.17/pymatgen/util/convergence.py"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pymatgen.util.convergence.p0_simple_reciprocal" title="Permalink to this definition"></a></dt>
<dd><p>Calculate the initial guess parameters for the simple reciprocal function.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>xs</strong> (<em>list</em>) – List of x values.</p></li>
<li><p><strong>ys</strong> (<em>list</em>) – List of y values.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>List of initial guess parameters [a, b].</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>list</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="pymatgen.util.convergence.p0_single_reciprocal">
<span class="sig-name descname"><span class="pre">p0_single_reciprocal</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">xs</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ys</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/materialsproject/pymatgen/blob/v2023.7.17/pymatgen/util/convergence.py"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pymatgen.util.convergence.p0_single_reciprocal" title="Permalink to this definition"></a></dt>
<dd><p>Calculate the initial guess parameters for the single reciprocal function.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>xs</strong> (<em>list</em>) – List of x values.</p></li>
<li><p><strong>ys</strong> (<em>list</em>) – List of y values.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>List of initial guess parameters [a, b, c].</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>list</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="pymatgen.util.convergence.print_and_raise_error">
<span class="sig-name descname"><span class="pre">print_and_raise_error</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">xs</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ys</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">name</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/materialsproject/pymatgen/blob/v2023.7.17/pymatgen/util/convergence.py"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pymatgen.util.convergence.print_and_raise_error" title="Permalink to this definition"></a></dt>
<dd><p>Print error message and raise a RuntimeError.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>xs</strong> (<em>list</em>) – List of x values.</p></li>
<li><p><strong>ys</strong> (<em>list</em>) – List of y values.</p></li>
<li><p><strong>name</strong> (<em>str</em>) – Name of the function where the error occurred.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="pymatgen.util.convergence.print_plot_line">
<span class="sig-name descname"><span class="pre">print_plot_line</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">function</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">popt</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">xs</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ys</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tol</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">0.05</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">extra</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">''</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/materialsproject/pymatgen/blob/v2023.7.17/pymatgen/util/convergence.py"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pymatgen.util.convergence.print_plot_line" title="Permalink to this definition"></a></dt>
<dd><p>Print the gnuplot command line to plot the x, y data with the fitted function using the popt parameters.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="pymatgen.util.convergence.reciprocal">
<span class="sig-name descname"><span class="pre">reciprocal</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">x</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">a</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">b</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">n</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/materialsproject/pymatgen/blob/v2023.7.17/pymatgen/util/convergence.py"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pymatgen.util.convergence.reciprocal" title="Permalink to this definition"></a></dt>
<dd><p>Reciprocal function to the power n to fit convergence data.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="pymatgen.util.convergence.simple_2reciprocal">
<span class="sig-name descname"><span class="pre">simple_2reciprocal</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">x</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">a</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">b</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/materialsproject/pymatgen/blob/v2023.7.17/pymatgen/util/convergence.py"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pymatgen.util.convergence.simple_2reciprocal" title="Permalink to this definition"></a></dt>
<dd><p>Reciprocal function to fit convergence data.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="pymatgen.util.convergence.simple_4reciprocal">
<span class="sig-name descname"><span class="pre">simple_4reciprocal</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">x</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">a</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">b</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/materialsproject/pymatgen/blob/v2023.7.17/pymatgen/util/convergence.py"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pymatgen.util.convergence.simple_4reciprocal" title="Permalink to this definition"></a></dt>
<dd><p>Reciprocal function to fit convergence data.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="pymatgen.util.convergence.simple_5reciprocal">
<span class="sig-name descname"><span class="pre">simple_5reciprocal</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">x</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">a</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">b</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/materialsproject/pymatgen/blob/v2023.7.17/pymatgen/util/convergence.py"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pymatgen.util.convergence.simple_5reciprocal" title="Permalink to this definition"></a></dt>
<dd><p>Reciprocal function to fit convergence data.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="pymatgen.util.convergence.simple_reciprocal">
<span class="sig-name descname"><span class="pre">simple_reciprocal</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">x</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">a</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">b</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/materialsproject/pymatgen/blob/v2023.7.17/pymatgen/util/convergence.py"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pymatgen.util.convergence.simple_reciprocal" title="Permalink to this definition"></a></dt>
<dd><p>Reciprocal function to fit convergence data.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="pymatgen.util.convergence.single_reciprocal">
<span class="sig-name descname"><span class="pre">single_reciprocal</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">x</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">a</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">b</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">c</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/materialsproject/pymatgen/blob/v2023.7.17/pymatgen/util/convergence.py"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pymatgen.util.convergence.single_reciprocal" title="Permalink to this definition"></a></dt>
<dd><p>Reciprocal function to fit convergence data.</p>
</dd></dl>

</section>
<section id="module-pymatgen.util.coord">
<span id="pymatgen-util-coord-module"></span><h2>pymatgen.util.coord module<a class="headerlink" href="#module-pymatgen.util.coord" title="Permalink to this heading"></a></h2>
<p>Utilities for manipulating coordinates or list of coordinates, under periodic
boundary conditions or otherwise. Many of these are heavily vectorized in
numpy for performance.</p>
<dl class="py class">
<dt class="sig sig-object py" id="pymatgen.util.coord.Simplex">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">Simplex</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">coords</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/materialsproject/pymatgen/blob/v2023.7.17/pymatgen/util/coord.py"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pymatgen.util.coord.Simplex" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">MSONable</span></code></p>
<p>A generalized simplex object. See <a class="reference external" href="http://en.wikipedia.org/wiki/Simplex">http://en.wikipedia.org/wiki/Simplex</a>.</p>
<p>Initializes a Simplex from vertex coordinates.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>coords</strong> (<em>[</em><em>[</em><em>float</em><em>]</em><em>]</em>) – Coords of the vertices of the simplex. E.g.,
[[1, 2, 3], [2, 4, 5], [6, 7, 8], [8, 9, 10].</p>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="pymatgen.util.coord.Simplex.bary_coords">
<span class="sig-name descname"><span class="pre">bary_coords</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">point</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/materialsproject/pymatgen/blob/v2023.7.17/pymatgen/util/coord.py"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pymatgen.util.coord.Simplex.bary_coords" title="Permalink to this definition"></a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>(</strong><strong>)</strong> (<em>point</em>) – Point coordinates.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Barycentric coordinations.</p>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="pymatgen.util.coord.Simplex.coords">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">coords</span></span><a class="reference external" href="https://github.com/materialsproject/pymatgen/blob/v2023.7.17/pymatgen/util/coord.py"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pymatgen.util.coord.Simplex.coords" title="Permalink to this definition"></a></dt>
<dd><p>Returns a copy of the vertex coordinates in the simplex.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pymatgen.util.coord.Simplex.in_simplex">
<span class="sig-name descname"><span class="pre">in_simplex</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">point</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tolerance</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1e-08</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/materialsproject/pymatgen/blob/v2023.7.17/pymatgen/util/coord.py"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pymatgen.util.coord.Simplex.in_simplex" title="Permalink to this definition"></a></dt>
<dd><p>Checks if a point is in the simplex using the standard barycentric
coordinate system algorithm.</p>
<p>Taking an arbitrary vertex as an origin, we compute the basis for the
simplex from this origin by subtracting all other vertices from the
origin. We then project the point into this coordinate system and
determine the linear decomposition coefficients in this coordinate
system. If the coeffs satisfy that all coeffs &gt;= 0, the composition
is in the facet.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>point</strong> (<em>[</em><em>float</em><em>]</em>) – Point to test</p></li>
<li><p><strong>tolerance</strong> (<em>float</em>) – Tolerance to test if point is in simplex.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pymatgen.util.coord.Simplex.line_intersection">
<span class="sig-name descname"><span class="pre">line_intersection</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">point1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">point2</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tolerance</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1e-08</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/materialsproject/pymatgen/blob/v2023.7.17/pymatgen/util/coord.py"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pymatgen.util.coord.Simplex.line_intersection" title="Permalink to this definition"></a></dt>
<dd><p>Computes the intersection points of a line with a simplex
:param point1: Points that determine the line
:type point1: [float]
:param point2: Points that determine the line
:type point2: [float]</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>points where the line intersects the simplex (0, 1, or 2).</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pymatgen.util.coord.Simplex.point_from_bary_coords">
<span class="sig-name descname"><span class="pre">point_from_bary_coords</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">bary_coords</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/materialsproject/pymatgen/blob/v2023.7.17/pymatgen/util/coord.py"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pymatgen.util.coord.Simplex.point_from_bary_coords" title="Permalink to this definition"></a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>(</strong><strong>)</strong> (<em>bary_coords</em>) – Barycentric coordinates.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Point coordinates</p>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="pymatgen.util.coord.Simplex.volume">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">volume</span></span><a class="reference external" href="https://github.com/materialsproject/pymatgen/blob/v2023.7.17/pymatgen/util/coord.py"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pymatgen.util.coord.Simplex.volume" title="Permalink to this definition"></a></dt>
<dd><p>Volume of the simplex.</p>
</dd></dl>

</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="pymatgen.util.coord.all_distances">
<span class="sig-name descname"><span class="pre">all_distances</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">coords1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">coords2</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/materialsproject/pymatgen/blob/v2023.7.17/pymatgen/util/coord.py"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pymatgen.util.coord.all_distances" title="Permalink to this definition"></a></dt>
<dd><p>Returns the distances between two lists of coordinates.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>coords1</strong> – First set of Cartesian coordinates.</p></li>
<li><p><strong>coords2</strong> – Second set of Cartesian coordinates.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>2d array of Cartesian distances. E.g the distance between
coords1[i] and coords2[j] is distances[i,j]</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="pymatgen.util.coord.barycentric_coords">
<span class="sig-name descname"><span class="pre">barycentric_coords</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">coords</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">simplex</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/materialsproject/pymatgen/blob/v2023.7.17/pymatgen/util/coord.py"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pymatgen.util.coord.barycentric_coords" title="Permalink to this definition"></a></dt>
<dd><p>Converts a list of coordinates to barycentric coordinates, given a
simplex with d+1 points. Only works for d &gt;= 2.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>coords</strong> – list of n coords to transform, shape should be (n,d)</p></li>
<li><p><strong>simplex</strong> – list of coordinates that form the simplex, shape should be
(d+1, d)</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>a LIST of barycentric coordinates (even if the original input was 1d)</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="pymatgen.util.coord.coord_list_mapping">
<span class="sig-name descname"><span class="pre">coord_list_mapping</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">subset</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ArrayLike</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">superset</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ArrayLike</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">atol</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">1e-08</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/materialsproject/pymatgen/blob/v2023.7.17/pymatgen/util/coord.py"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pymatgen.util.coord.coord_list_mapping" title="Permalink to this definition"></a></dt>
<dd><p>Gives the index mapping from a subset to a superset.
Subset and superset cannot contain duplicate rows.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>subset</strong> (<em>ArrayLike</em>) – List of coords</p></li>
<li><p><strong>superset</strong> (<em>ArrayLike</em>) – List of coords</p></li>
<li><p><strong>atol</strong> (<em>float</em>) – Absolute tolerance. Defaults to 1e-8.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>list of indices such that superset[indices] = subset</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="pymatgen.util.coord.coord_list_mapping_pbc">
<span class="sig-name descname"><span class="pre">coord_list_mapping_pbc</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">subset</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">superset</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">atol</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1e-08</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pbc</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">(True,</span> <span class="pre">True,</span> <span class="pre">True)</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/materialsproject/pymatgen/blob/v2023.7.17/pymatgen/util/coord.py"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pymatgen.util.coord.coord_list_mapping_pbc" title="Permalink to this definition"></a></dt>
<dd><p>Gives the index mapping from a subset to a superset.
Superset cannot contain duplicate matching rows.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>subset</strong> (<em>ArrayLike</em>) – List of frac_coords</p></li>
<li><p><strong>superset</strong> (<em>ArrayLike</em>) – List of frac_coords</p></li>
<li><p><strong>atol</strong> (<em>float</em>) – Absolute tolerance. Defaults to 1e-8.</p></li>
<li><p><strong>pbc</strong> (<em>tuple</em>) – A tuple defining the periodic boundary conditions along the three
axis of the lattice.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>list of indices such that superset[indices] = subset</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="pymatgen.util.coord.find_in_coord_list">
<span class="sig-name descname"><span class="pre">find_in_coord_list</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">coord_list</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">coord</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">atol</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1e-08</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/materialsproject/pymatgen/blob/v2023.7.17/pymatgen/util/coord.py"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pymatgen.util.coord.find_in_coord_list" title="Permalink to this definition"></a></dt>
<dd><p>Find the indices of matches of a particular coord in a coord_list.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>coord_list</strong> – List of coords to test</p></li>
<li><p><strong>coord</strong> – Specific coordinates</p></li>
<li><p><strong>atol</strong> – Absolute tolerance. Defaults to 1e-8. Accepts both scalar and
array.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Indices of matches, e.g., [0, 1, 2, 3]. Empty list if not found.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="pymatgen.util.coord.find_in_coord_list_pbc">
<span class="sig-name descname"><span class="pre">find_in_coord_list_pbc</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">fcoord_list</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fcoord</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">atol</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1e-08</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pbc</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">(True,</span> <span class="pre">True,</span> <span class="pre">True)</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/materialsproject/pymatgen/blob/v2023.7.17/pymatgen/util/coord.py"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pymatgen.util.coord.find_in_coord_list_pbc" title="Permalink to this definition"></a></dt>
<dd><p>Get the indices of all points in a fractional coord list that are
equal to a fractional coord (with a tolerance), taking into account
periodic boundary conditions.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>fcoord_list</strong> – List of fractional coords</p></li>
<li><p><strong>fcoord</strong> – A specific fractional coord to test.</p></li>
<li><p><strong>atol</strong> – Absolute tolerance. Defaults to 1e-8.</p></li>
<li><p><strong>pbc</strong> – a tuple defining the periodic boundary conditions along the three
axis of the lattice.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Indices of matches, e.g., [0, 1, 2, 3]. Empty list if not found.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="pymatgen.util.coord.get_angle">
<span class="sig-name descname"><span class="pre">get_angle</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">v1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">v2</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">units</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'degrees'</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/materialsproject/pymatgen/blob/v2023.7.17/pymatgen/util/coord.py"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pymatgen.util.coord.get_angle" title="Permalink to this definition"></a></dt>
<dd><p>Calculates the angle between two vectors.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>v1</strong> – Vector 1</p></li>
<li><p><strong>v2</strong> – Vector 2</p></li>
<li><p><strong>units</strong> – “degrees” or “radians”. Defaults to “degrees”.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Angle between them in degrees.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="pymatgen.util.coord.get_linear_interpolated_value">
<span class="sig-name descname"><span class="pre">get_linear_interpolated_value</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">x_values</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">y_values</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">x</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/materialsproject/pymatgen/blob/v2023.7.17/pymatgen/util/coord.py"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pymatgen.util.coord.get_linear_interpolated_value" title="Permalink to this definition"></a></dt>
<dd><p>Returns an interpolated value by linear interpolation between two values.
This method is written to avoid dependency on scipy, which causes issues on
threading servers.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>x_values</strong> – Sequence of x values.</p></li>
<li><p><strong>y_values</strong> – Corresponding sequence of y values</p></li>
<li><p><strong>x</strong> – Get value at particular x</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Value at x.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="pymatgen.util.coord.in_coord_list">
<span class="sig-name descname"><span class="pre">in_coord_list</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">coord_list</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">coord</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">atol</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1e-08</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/materialsproject/pymatgen/blob/v2023.7.17/pymatgen/util/coord.py"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pymatgen.util.coord.in_coord_list" title="Permalink to this definition"></a></dt>
<dd><p>Tests if a particular coord is within a coord_list.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>coord_list</strong> – List of coords to test</p></li>
<li><p><strong>coord</strong> – Specific coordinates</p></li>
<li><p><strong>atol</strong> – Absolute tolerance. Defaults to 1e-8. Accepts both scalar and
array.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>True if coord is in the coord list.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="pymatgen.util.coord.in_coord_list_pbc">
<span class="sig-name descname"><span class="pre">in_coord_list_pbc</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">fcoord_list</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fcoord</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">atol</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1e-08</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pbc</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">(True,</span> <span class="pre">True,</span> <span class="pre">True)</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/materialsproject/pymatgen/blob/v2023.7.17/pymatgen/util/coord.py"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pymatgen.util.coord.in_coord_list_pbc" title="Permalink to this definition"></a></dt>
<dd><p>Tests if a particular fractional coord is within a fractional coord_list.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>fcoord_list</strong> – List of fractional coords to test</p></li>
<li><p><strong>fcoord</strong> – A specific fractional coord to test.</p></li>
<li><p><strong>atol</strong> – Absolute tolerance. Defaults to 1e-8.</p></li>
<li><p><strong>pbc</strong> – a tuple defining the periodic boundary conditions along the three
axis of the lattice.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>True if coord is in the coord list.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="pymatgen.util.coord.is_coord_subset">
<span class="sig-name descname"><span class="pre">is_coord_subset</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">subset</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ArrayLike</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">superset</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ArrayLike</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">atol</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">1e-08</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">bool</span></span></span><a class="reference external" href="https://github.com/materialsproject/pymatgen/blob/v2023.7.17/pymatgen/util/coord.py"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pymatgen.util.coord.is_coord_subset" title="Permalink to this definition"></a></dt>
<dd><p>Tests if all coords in subset are contained in superset.
Doesn’t use periodic boundary conditions.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>subset</strong> (<em>ArrayLike</em>) – List of coords</p></li>
<li><p><strong>superset</strong> (<em>ArrayLike</em>) – List of coords</p></li>
<li><p><strong>atol</strong> (<em>float</em>) – Absolute tolerance for comparing coordinates. Defaults to 1e-8.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>True if all of subset is in superset.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="pymatgen.util.coord.is_coord_subset_pbc">
<span class="sig-name descname"><span class="pre">is_coord_subset_pbc</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">subset</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">superset</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">atol</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1e-08</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mask</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pbc</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">(True,</span> <span class="pre">True,</span> <span class="pre">True)</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/materialsproject/pymatgen/blob/v2023.7.17/pymatgen/util/coord.py"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pymatgen.util.coord.is_coord_subset_pbc" title="Permalink to this definition"></a></dt>
<dd><p>Tests if all fractional coords in subset are contained in superset.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>subset</strong> (<em>list</em>) – List of fractional coords to test</p></li>
<li><p><strong>superset</strong> (<em>list</em>) – List of fractional coords to test against</p></li>
<li><p><strong>atol</strong> (<em>float</em><em> or </em><em>size 3 array</em>) – Tolerance for matching</p></li>
<li><p><strong>mask</strong> (<em>boolean array</em>) – Mask of matches that are not allowed.
i.e. if mask[1,2] is True, then subset[1] cannot be matched
to superset[2]</p></li>
<li><p><strong>pbc</strong> (<em>tuple</em>) – a tuple defining the periodic boundary conditions along the three
axis of the lattice.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>True if all of subset is in superset.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="pymatgen.util.coord.lattice_points_in_supercell">
<span class="sig-name descname"><span class="pre">lattice_points_in_supercell</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">supercell_matrix</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/materialsproject/pymatgen/blob/v2023.7.17/pymatgen/util/coord.py"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pymatgen.util.coord.lattice_points_in_supercell" title="Permalink to this definition"></a></dt>
<dd><p>Returns the list of points on the original lattice contained in the
supercell in fractional coordinates (with the supercell basis).
e.g. [[2,0,0],[0,1,0],[0,0,1]] returns [[0,0,0],[0.5,0,0]].</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>supercell_matrix</strong> – 3x3 matrix describing the supercell</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>numpy array of the fractional coordinates</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="pymatgen.util.coord.pbc_diff">
<span class="sig-name descname"><span class="pre">pbc_diff</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">fcoords1</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ArrayLike</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fcoords2</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ArrayLike</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pbc</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">bool</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">bool</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">bool</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">(True,</span> <span class="pre">True,</span> <span class="pre">True)</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/materialsproject/pymatgen/blob/v2023.7.17/pymatgen/util/coord.py"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pymatgen.util.coord.pbc_diff" title="Permalink to this definition"></a></dt>
<dd><p>Returns the ‘fractional distance’ between two coordinates taking into
account periodic boundary conditions.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>fcoords1</strong> – First set of fractional coordinates. e.g., [0.5, 0.6,
0.7] or [[1.1, 1.2, 4.3], [0.5, 0.6, 0.7]]. It can be a single
coord or any array of coords.</p></li>
<li><p><strong>fcoords2</strong> – Second set of fractional coordinates.</p></li>
<li><p><strong>pbc</strong> – a tuple defining the periodic boundary conditions along the three
axis of the lattice.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Fractional distance. Each coordinate must have the property that
abs(a) &lt;= 0.5. Examples:
pbc_diff([0.1, 0.1, 0.1], [0.3, 0.5, 0.9]) = [-0.2, -0.4, 0.2]
pbc_diff([0.9, 0.1, 1.01], [0.3, 0.5, 0.9]) = [-0.4, -0.4, 0.11]</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="pymatgen.util.coord.pbc_shortest_vectors">
<span class="sig-name descname"><span class="pre">pbc_shortest_vectors</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">lattice</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fcoords1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fcoords2</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mask</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">return_d2</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/materialsproject/pymatgen/blob/v2023.7.17/pymatgen/util/coord.py"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pymatgen.util.coord.pbc_shortest_vectors" title="Permalink to this definition"></a></dt>
<dd><p>Returns the shortest vectors between two lists of coordinates taking into
account periodic boundary conditions and the lattice.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>lattice</strong> – lattice to use</p></li>
<li><p><strong>fcoords1</strong> – First set of fractional coordinates. e.g., [0.5, 0.6, 0.7]
or [[1.1, 1.2, 4.3], [0.5, 0.6, 0.7]]. It can be a single
coord or any array of coords.</p></li>
<li><p><strong>fcoords2</strong> – Second set of fractional coordinates.</p></li>
<li><p><strong>mask</strong> (<em>boolean array</em>) – Mask of matches that are not allowed.
i.e. if mask[1,2] is True, then subset[1] cannot be matched
to superset[2]</p></li>
<li><p><strong>return_d2</strong> (<em>bool</em>) – whether to also return the squared distances</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>array of displacement vectors from fcoords1 to fcoords2
first index is fcoords1 index, second is fcoords2 index</p>
</dd>
</dl>
</dd></dl>

</section>
<section id="module-pymatgen.util.coord_cython">
<span id="pymatgen-util-coord-cython-module"></span><h2>pymatgen.util.coord_cython module<a class="headerlink" href="#module-pymatgen.util.coord_cython" title="Permalink to this heading"></a></h2>
<p>Utilities for manipulating coordinates or list of coordinates, under periodic
boundary conditions or otherwise.</p>
<dl class="py function">
<dt class="sig sig-object py" id="pymatgen.util.coord_cython.coord_list_mapping_pbc">
<span class="sig-name descname"><span class="pre">coord_list_mapping_pbc</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">subset</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">superset</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">atol</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1e-08</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pbc</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">(True,</span> <span class="pre">True,</span> <span class="pre">True)</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/materialsproject/pymatgen/blob/v2023.7.17/pymatgen/util/coord_cython.py"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pymatgen.util.coord_cython.coord_list_mapping_pbc" title="Permalink to this definition"></a></dt>
<dd><p>Gives the index mapping from a subset to a superset.
Superset cannot contain duplicate matching rows</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>subset</strong> – List of frac_coords</p></li>
<li><p><strong>superset</strong> – List of frac_coords</p></li>
<li><p><strong>pbc</strong> – a tuple defining the periodic boundary conditions along the three
axis of the lattice.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>list of indices such that superset[indices] = subset</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="pymatgen.util.coord_cython.is_coord_subset_pbc">
<span class="sig-name descname"><span class="pre">is_coord_subset_pbc</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">subset</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">superset</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">atol</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mask</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pbc</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">(True,</span> <span class="pre">True,</span> <span class="pre">True)</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/materialsproject/pymatgen/blob/v2023.7.17/pymatgen/util/coord_cython.py"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pymatgen.util.coord_cython.is_coord_subset_pbc" title="Permalink to this definition"></a></dt>
<dd><p>Tests if all fractional coords in subset are contained in superset.
Allows specification of a mask determining pairs that are not
allowed to match to each other</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>subset</strong> – List of fractional coords</p></li>
<li><p><strong>superset</strong> – List of fractional coords</p></li>
<li><p><strong>pbc</strong> – a tuple defining the periodic boundary conditions along the three
axis of the lattice.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>True if all of subset is in superset.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="pymatgen.util.coord_cython.pbc_shortest_vectors">
<span class="sig-name descname"><span class="pre">pbc_shortest_vectors</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">lattice</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fcoords1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fcoords2</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mask</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">return_d2</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">lll_frac_tol</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/materialsproject/pymatgen/blob/v2023.7.17/pymatgen/util/coord_cython.py"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pymatgen.util.coord_cython.pbc_shortest_vectors" title="Permalink to this definition"></a></dt>
<dd><p>Returns the shortest vectors between two lists of coordinates taking into
account periodic boundary conditions and the lattice.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>lattice</strong> – lattice to use</p></li>
<li><p><strong>fcoords1</strong> – First set of fractional coordinates. e.g., [0.5, 0.6, 0.7]
or [[1.1, 1.2, 4.3], [0.5, 0.6, 0.7]]. Must be <a href="#id7"><span class="problematic" id="id8">np.float_</span></a></p></li>
<li><p><strong>fcoords2</strong> – Second set of fractional coordinates.</p></li>
<li><p><strong>mask</strong> (<a href="#id9"><span class="problematic" id="id10">int_</span></a> array) – Mask of matches that are not allowed.
i.e. if mask[1,2] == True, then subset[1] cannot be matched
to superset[2]</p></li>
<li><p><strong>lll_frac_tol</strong> (<a href="#id11"><span class="problematic" id="id12">float_</span></a> array of length 3) – Fractional tolerance (per LLL lattice vector) over which
the calculation of minimum vectors will be skipped.
Can speed up calculation considerably for large structures.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>array of displacement vectors from fcoords1 to fcoords2
first index is fcoords1 index, second is fcoords2 index</p>
</dd>
</dl>
</dd></dl>

</section>
<section id="module-pymatgen.util.due">
<span id="pymatgen-util-due-module"></span><h2>pymatgen.util.due module<a class="headerlink" href="#module-pymatgen.util.due" title="Permalink to this heading"></a></h2>
<p>Stub file for a guaranteed safe import of duecredit constructs: if duecredit
is not available.</p>
<p>Then use in your code as</p>
<blockquote>
<div><p>from .due import due, Doi, BibTeX, Text</p>
</div></blockquote>
<p>See  <a class="reference external" href="https://github.com/duecredit/duecredit/blob/master/README.md">https://github.com/duecredit/duecredit/blob/master/README.md</a> for examples.</p>
<p>Origin:     Originally a part of the duecredit
Copyright:  2015-2021  DueCredit developers
License:    BSD-2</p>
<dl class="py function">
<dt class="sig sig-object py" id="pymatgen.util.due.BibTeX">
<span class="sig-name descname"><span class="pre">BibTeX</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/materialsproject/pymatgen/blob/v2023.7.17/pymatgen/util/due.py"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pymatgen.util.due.BibTeX" title="Permalink to this definition"></a></dt>
<dd><p>Perform no good and no bad.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="pymatgen.util.due.Doi">
<span class="sig-name descname"><span class="pre">Doi</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/materialsproject/pymatgen/blob/v2023.7.17/pymatgen/util/due.py"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pymatgen.util.due.Doi" title="Permalink to this definition"></a></dt>
<dd><p>Perform no good and no bad.</p>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="pymatgen.util.due.InactiveDueCreditCollector">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">InactiveDueCreditCollector</span></span><a class="reference external" href="https://github.com/materialsproject/pymatgen/blob/v2023.7.17/pymatgen/util/due.py"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pymatgen.util.due.InactiveDueCreditCollector" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Just a stub at the Collector which would not do anything.</p>
<dl class="py method">
<dt class="sig sig-object py" id="pymatgen.util.due.InactiveDueCreditCollector._donothing">
<span class="sig-name descname"><span class="pre">_donothing</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/materialsproject/pymatgen/blob/v2023.7.17/pymatgen/util/due.py"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pymatgen.util.due.InactiveDueCreditCollector._donothing" title="Permalink to this definition"></a></dt>
<dd><p>Perform no good and no bad.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pymatgen.util.due.InactiveDueCreditCollector.activate">
<span class="sig-name descname"><span class="pre">activate</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/materialsproject/pymatgen/blob/v2023.7.17/pymatgen/util/due.py"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pymatgen.util.due.InactiveDueCreditCollector.activate" title="Permalink to this definition"></a></dt>
<dd><p>Perform no good and no bad.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="pymatgen.util.due.InactiveDueCreditCollector.active">
<span class="sig-name descname"><span class="pre">active</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">False</span></em><a class="reference external" href="https://github.com/materialsproject/pymatgen/blob/v2023.7.17/pymatgen/util/due.py"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pymatgen.util.due.InactiveDueCreditCollector.active" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pymatgen.util.due.InactiveDueCreditCollector.add">
<span class="sig-name descname"><span class="pre">add</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/materialsproject/pymatgen/blob/v2023.7.17/pymatgen/util/due.py"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pymatgen.util.due.InactiveDueCreditCollector.add" title="Permalink to this definition"></a></dt>
<dd><p>Perform no good and no bad.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pymatgen.util.due.InactiveDueCreditCollector.cite">
<span class="sig-name descname"><span class="pre">cite</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/materialsproject/pymatgen/blob/v2023.7.17/pymatgen/util/due.py"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pymatgen.util.due.InactiveDueCreditCollector.cite" title="Permalink to this definition"></a></dt>
<dd><p>Perform no good and no bad.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pymatgen.util.due.InactiveDueCreditCollector.dcite">
<span class="sig-name descname"><span class="pre">dcite</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/materialsproject/pymatgen/blob/v2023.7.17/pymatgen/util/due.py"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pymatgen.util.due.InactiveDueCreditCollector.dcite" title="Permalink to this definition"></a></dt>
<dd><p>If I could cite I would.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pymatgen.util.due.InactiveDueCreditCollector.dump">
<span class="sig-name descname"><span class="pre">dump</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/materialsproject/pymatgen/blob/v2023.7.17/pymatgen/util/due.py"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pymatgen.util.due.InactiveDueCreditCollector.dump" title="Permalink to this definition"></a></dt>
<dd><p>Perform no good and no bad.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pymatgen.util.due.InactiveDueCreditCollector.load">
<span class="sig-name descname"><span class="pre">load</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/materialsproject/pymatgen/blob/v2023.7.17/pymatgen/util/due.py"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pymatgen.util.due.InactiveDueCreditCollector.load" title="Permalink to this definition"></a></dt>
<dd><p>Perform no good and no bad.</p>
</dd></dl>

</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="pymatgen.util.due.Text">
<span class="sig-name descname"><span class="pre">Text</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/materialsproject/pymatgen/blob/v2023.7.17/pymatgen/util/due.py"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pymatgen.util.due.Text" title="Permalink to this definition"></a></dt>
<dd><p>Perform no good and no bad.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="pymatgen.util.due.Url">
<span class="sig-name descname"><span class="pre">Url</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/materialsproject/pymatgen/blob/v2023.7.17/pymatgen/util/due.py"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pymatgen.util.due.Url" title="Permalink to this definition"></a></dt>
<dd><p>Perform no good and no bad.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="pymatgen.util.due._donothing_func">
<span class="sig-name descname"><span class="pre">_donothing_func</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/materialsproject/pymatgen/blob/v2023.7.17/pymatgen/util/due.py"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pymatgen.util.due._donothing_func" title="Permalink to this definition"></a></dt>
<dd><p>Perform no good and no bad.</p>
</dd></dl>

</section>
<section id="module-pymatgen.util.graph_hashing">
<span id="pymatgen-util-graph-hashing-module"></span><h2>pymatgen.util.graph_hashing module<a class="headerlink" href="#module-pymatgen.util.graph_hashing" title="Permalink to this heading"></a></h2>
<p>Copyright (C) 2004-2022, NetworkX Developers
Aric Hagberg &lt;<a class="reference external" href="mailto:hagberg&#37;&#52;&#48;lanl&#46;gov">hagberg<span>&#64;</span>lanl<span>&#46;</span>gov</a>&gt;
Dan Schult &lt;<a class="reference external" href="mailto:dschult&#37;&#52;&#48;colgate&#46;edu">dschult<span>&#64;</span>colgate<span>&#46;</span>edu</a>&gt;
Pieter Swart &lt;<a class="reference external" href="mailto:swart&#37;&#52;&#48;lanl&#46;gov">swart<span>&#64;</span>lanl<span>&#46;</span>gov</a>&gt;
All rights reserved.</p>
<p>Redistribution and use in source and binary forms, with or without
modification, are permitted provided that the following conditions are
met:</p>
<blockquote>
<div><ul class="simple">
<li><p>Redistributions of source code must retain the above copyright
notice, this list of conditions and the following disclaimer.</p></li>
<li><p>Redistributions in binary form must reproduce the above
copyright notice, this list of conditions and the following
disclaimer in the documentation and/or other materials provided
with the distribution.</p></li>
<li><p>Neither the name of the NetworkX Developers nor the names of its
contributors may be used to endorse or promote products derived
from this software without specific prior written permission.</p></li>
</ul>
</div></blockquote>
<p>THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS
“AS IS” AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT
LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR
A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT
OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,
SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT
LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,
DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY
THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT
(INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE
OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.</p>
<hr class="docutils" />
<p>Functions for hashing graphs to strings.
Isomorphic graphs should be assigned identical hashes.
For now, only Weisfeiler-Lehman hashing is implemented.</p>
<dl class="py function">
<dt class="sig sig-object py" id="pymatgen.util.graph_hashing._hash_label">
<span class="sig-name descname"><span class="pre">_hash_label</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">label</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">digest_size</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/materialsproject/pymatgen/blob/v2023.7.17/pymatgen/util/graph_hashing.py"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pymatgen.util.graph_hashing._hash_label" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="pymatgen.util.graph_hashing._init_node_labels">
<span class="sig-name descname"><span class="pre">_init_node_labels</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">G</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">edge_attr</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">node_attr</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/materialsproject/pymatgen/blob/v2023.7.17/pymatgen/util/graph_hashing.py"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pymatgen.util.graph_hashing._init_node_labels" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="pymatgen.util.graph_hashing._neighborhood_aggregate">
<span class="sig-name descname"><span class="pre">_neighborhood_aggregate</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">G</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">node</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">node_labels</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">edge_attr</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/materialsproject/pymatgen/blob/v2023.7.17/pymatgen/util/graph_hashing.py"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pymatgen.util.graph_hashing._neighborhood_aggregate" title="Permalink to this definition"></a></dt>
<dd><p>Compute new labels for given node by aggregating
the labels of each node’s neighbors.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="pymatgen.util.graph_hashing.weisfeiler_lehman_graph_hash">
<span class="sig-name descname"><span class="pre">weisfeiler_lehman_graph_hash</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">G</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">edge_attr</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">node_attr</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">iterations</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">3</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">digest_size</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">16</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/materialsproject/pymatgen/blob/v2023.7.17/pymatgen/util/graph_hashing.py"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pymatgen.util.graph_hashing.weisfeiler_lehman_graph_hash" title="Permalink to this definition"></a></dt>
<dd><p>Return Weisfeiler Lehman (WL) graph hash.</p>
<p>The function iteratively aggregates and hashes neighborhoods of each node.
After each node’s neighbors are hashed to obtain updated node labels,
a hashed histogram of resulting labels is returned as the final hash.</p>
<p>Hashes are identical for isomorphic graphs and strong guarantees that
non-isomorphic graphs will get different hashes. See <a href="#id13"><span class="problematic" id="id1">[1]_</span></a> for details.</p>
<p>If no node or edge attributes are provided, the degree of each node
is used as its initial label.
Otherwise, node and/or edge labels are used to compute the hash.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>G</strong> – graph
The graph to be hashed.
Can have node and/or edge attributes. Can also have no attributes.</p></li>
<li><p><strong>edge_attr</strong> – string, default=None
The key in edge attribute dictionary to be used for hashing.
If None, edge labels are ignored.</p></li>
<li><p><strong>node_attr</strong> – string, default=None
The key in node attribute dictionary to be used for hashing.
If None, and no edge_attr given, use the degrees of the nodes as labels.</p></li>
<li><p><strong>iterations</strong> – int, default=3
Number of neighbor aggregations to perform.
Should be larger for larger graphs.</p></li>
<li><p><strong>digest_size</strong> – int, default=16
Size (in bits) of blake2b hash digest to use for hashing node labels.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><dl class="simple">
<dt>string</dt><dd><p>Hexadecimal string corresponding to hash of the input graph.</p>
</dd>
</dl>
</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>h</p>
</dd>
</dl>
<p class="rubric">Notes</p>
<p>To return the WL hashes of each subgraph of a graph, use
<cite>weisfeiler_lehman_subgraph_hashes</cite></p>
<p>Similarity between hashes does not imply similarity between graphs.</p>
<p class="rubric">References</p>
<aside class="footnote-list brackets">
<aside class="footnote brackets" id="id2" role="doc-footnote">
<span class="label"><span class="fn-bracket">[</span>1<span class="fn-bracket">]</span></span>
<p>Shervashidze, Nino, Pascal Schweitzer, Erik Jan Van Leeuwen,</p>
</aside>
</aside>
<p>Kurt Mehlhorn, and Karsten M. Borgwardt. Weisfeiler Lehman
Graph Kernels. Journal of Machine Learning Research. 2011.
<a class="reference external" href="http://www.jmlr.org/papers/volume12/shervashidze11a/shervashidze11a.pdf">http://www.jmlr.org/papers/volume12/shervashidze11a/shervashidze11a.pdf</a></p>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p>weisfeiler_lehman_subgraph_hashes</p>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="pymatgen.util.graph_hashing.weisfeiler_lehman_subgraph_hashes">
<span class="sig-name descname"><span class="pre">weisfeiler_lehman_subgraph_hashes</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">G</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">edge_attr</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">node_attr</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">iterations</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">3</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">digest_size</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">16</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/materialsproject/pymatgen/blob/v2023.7.17/pymatgen/util/graph_hashing.py"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pymatgen.util.graph_hashing.weisfeiler_lehman_subgraph_hashes" title="Permalink to this definition"></a></dt>
<dd><p>Return a dictionary of subgraph hashes by node.</p>
<p>The dictionary is keyed by node to a list of hashes in increasingly
sized induced subgraphs containing the nodes within 2*k edges
of the key node for increasing integer k until all nodes are included.</p>
<p>The function iteratively aggregates and hashes neighborhoods of each node.
This is achieved for each step by replacing for each node its label from
the previous iteration with its hashed 1-hop neighborhood aggregate.
The new node label is then appended to a list of node labels for each
node.</p>
<p>To aggregate neighborhoods at each step for a node $n$, all labels of
nodes adjacent to $n$ are concatenated. If the <cite>edge_attr</cite> parameter is set,
labels for each neighboring node are prefixed with the value of this attribute
along the connecting edge from this neighbor to node $n$. The resulting string
is then hashed to compress this information into a fixed digest size.</p>
<p>Thus, at the $i$th iteration nodes within $2i$ distance influence any given
hashed node label. We can therefore say that at depth $i$ for node $n$
we have a hash for a subgraph induced by the $2i$-hop neighborhood of $n$.</p>
<p>Can be used to to create general Weisfeiler-Lehman graph kernels, or
generate features for graphs or nodes, for example to generate ‘words’ in a
graph as seen in the ‘graph2vec’ algorithm.
See <a href="#id14"><span class="problematic" id="id3">[1]_</span></a> &amp; <a href="#id15"><span class="problematic" id="id4">[2]_</span></a> respectively for details.</p>
<p>Hashes are identical for isomorphic subgraphs and there exist strong
guarantees that non-isomorphic graphs will get different hashes.
See <a href="#id16"><span class="problematic" id="id5">[1]_</span></a> for details.</p>
<p>If no node or edge attributes are provided, the degree of each node
is used as its initial label.
Otherwise, node and/or edge labels are used to compute the hash.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>G</strong> – graph
The graph to be hashed.
Can have node and/or edge attributes. Can also have no attributes.</p></li>
<li><p><strong>edge_attr</strong> – string, default=None
The key in edge attribute dictionary to be used for hashing.
If None, edge labels are ignored.</p></li>
<li><p><strong>node_attr</strong> – string, default=None
The key in node attribute dictionary to be used for hashing.
If None, and no edge_attr given, use the degrees of the nodes as labels.</p></li>
<li><p><strong>iterations</strong> – int, default=3
Number of neighbor aggregations to perform.
Should be larger for larger graphs.</p></li>
<li><p><strong>digest_size</strong> – int, default=16
Size (in bits) of blake2b hash digest to use for hashing node labels.
The default size is 16 bits</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><dl class="simple">
<dt>dict</dt><dd><p>A dictionary with each key given by a node in G, and each value given
by the subgraph hashes in order of depth from the key node.</p>
</dd>
</dl>
</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>node_subgraph_hashes</p>
</dd>
</dl>
<p class="rubric">Notes</p>
<p>To hash the full graph when subgraph hashes are not needed, use
<cite>weisfeiler_lehman_graph_hash</cite> for efficiency.</p>
<p>Similarity between hashes does not imply similarity between graphs.</p>
<p class="rubric">References</p>
<aside class="footnote-list brackets">
<aside class="footnote brackets" id="id6" role="doc-footnote">
<span class="label"><span class="fn-bracket">[</span>1<span class="fn-bracket">]</span></span>
<p>Shervashidze, Nino, Pascal Schweitzer, Erik Jan Van Leeuwen,</p>
</aside>
</aside>
<p>Kurt Mehlhorn, and Karsten M. Borgwardt. Weisfeiler Lehman
Graph Kernels. Journal of Machine Learning Research. 2011.
<a class="reference external" href="http://www.jmlr.org/papers/volume12/shervashidze11a/shervashidze11a.pdf">http://www.jmlr.org/papers/volume12/shervashidze11a/shervashidze11a.pdf</a>
.. [2] Annamalai Narayanan, Mahinthan Chandramohan, Rajasekar Venkatesan,
Lihui Chen, Yang Liu and Shantanu Jaiswa. graph2vec: Learning
Distributed Representations of Graphs. arXiv. 2017
<a class="reference external" href="https://arxiv.org/pdf/1707.05005.pdf">https://arxiv.org/pdf/1707.05005.pdf</a></p>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p>weisfeiler_lehman_graph_hash</p>
</div>
</dd></dl>

</section>
<section id="module-pymatgen.util.io_utils">
<span id="pymatgen-util-io-utils-module"></span><h2>pymatgen.util.io_utils module<a class="headerlink" href="#module-pymatgen.util.io_utils" title="Permalink to this heading"></a></h2>
<p>This module provides utility classes for io operations.</p>
<dl class="py function">
<dt class="sig sig-object py" id="pymatgen.util.io_utils.clean_lines">
<span class="sig-name descname"><span class="pre">clean_lines</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">string_list</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">remove_empty_lines</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/materialsproject/pymatgen/blob/v2023.7.17/pymatgen/util/io_utils.py"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pymatgen.util.io_utils.clean_lines" title="Permalink to this definition"></a></dt>
<dd><p>Strips whitespace, carriage returns and empty lines from a list of strings.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>string_list</strong> – List of strings</p></li>
<li><p><strong>remove_empty_lines</strong> – Set to True to skip lines which are empty after
stripping.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>List of clean strings with no whitespaces.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="pymatgen.util.io_utils.micro_pyawk">
<span class="sig-name descname"><span class="pre">micro_pyawk</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">filename</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">search</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">results</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">debug</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">postdebug</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/materialsproject/pymatgen/blob/v2023.7.17/pymatgen/util/io_utils.py"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pymatgen.util.io_utils.micro_pyawk" title="Permalink to this definition"></a></dt>
<dd><p>Small awk-mimicking search routine.</p>
<p>‘file’ is file to search through.
‘search’ is the “search program”, a list of lists/tuples with 3 elements;
i.e. [[regex,test,run],[regex,test,run],…]
‘results’ is a an object that your search program will have access to for
storing results.</p>
<p>Here regex is either as a Regex object, or a string that we compile into a
Regex. test and run are callable objects.</p>
<p>This function goes through each line in filename, and if regex matches that
line <em>and</em> test(results,line)==True (or test is None) we execute
run(results,match),where match is the match object from running
Regex.match.</p>
<p>The default results is an empty dictionary. Passing a results object let
you interact with it in run() and test(). Hence, in many occasions it is
thus clever to use results=self.</p>
<p>Author: Rickard Armiento, Ioannis Petousis</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>results</p>
</dd>
</dl>
</dd></dl>

</section>
<section id="module-pymatgen.util.num">
<span id="pymatgen-util-num-module"></span><h2>pymatgen.util.num module<a class="headerlink" href="#module-pymatgen.util.num" title="Permalink to this heading"></a></h2>
<p>This module provides utilities for basic math operations.</p>
<dl class="py function">
<dt class="sig sig-object py" id="pymatgen.util.num.abs_cap">
<span class="sig-name descname"><span class="pre">abs_cap</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">val</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">max_abs_val</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/materialsproject/pymatgen/blob/v2023.7.17/pymatgen/util/num.py"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pymatgen.util.num.abs_cap" title="Permalink to this definition"></a></dt>
<dd><p>Returns the value with its absolute value capped at max_abs_val.
Particularly useful in passing values to trigonometric functions where
numerical errors may result in an argument &gt; 1 being passed in.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>val</strong> (<em>float</em>) – Input value.</p></li>
<li><p><strong>max_abs_val</strong> (<em>float</em>) – The maximum absolute value for val. Defaults to 1.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>val if abs(val) &lt; 1 else sign of val * max_abs_val.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="pymatgen.util.num.make_symmetric_matrix_from_upper_tri">
<span class="sig-name descname"><span class="pre">make_symmetric_matrix_from_upper_tri</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">val</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/materialsproject/pymatgen/blob/v2023.7.17/pymatgen/util/num.py"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pymatgen.util.num.make_symmetric_matrix_from_upper_tri" title="Permalink to this definition"></a></dt>
<dd><p>Given a symmetric matrix in upper triangular matrix form as flat array indexes as:
[A_xx,A_yy,A_zz,A_xy,A_xz,A_yz]
This will generate the full matrix:
[[A_xx,A_xy,A_xz],[A_xy,A_yy,A_yz],[A_xz,A_yz,A_zz].</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="pymatgen.util.num.maxloc">
<span class="sig-name descname"><span class="pre">maxloc</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">seq</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/materialsproject/pymatgen/blob/v2023.7.17/pymatgen/util/num.py"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pymatgen.util.num.maxloc" title="Permalink to this definition"></a></dt>
<dd><p>Return the index of the (first) maximum in seq.</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="k">assert</span> <span class="n">maxloc</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">])</span> <span class="o">==</span> <span class="mi">1</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="pymatgen.util.num.min_max_indexes">
<span class="sig-name descname"><span class="pre">min_max_indexes</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">seq</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/materialsproject/pymatgen/blob/v2023.7.17/pymatgen/util/num.py"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pymatgen.util.num.min_max_indexes" title="Permalink to this definition"></a></dt>
<dd><p>Uses enumerate, max, and min to return the indices of the values
in a list with the maximum and minimum value.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>seq</strong> – A sequence of numbers.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="pymatgen.util.num.minloc">
<span class="sig-name descname"><span class="pre">minloc</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">seq</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/materialsproject/pymatgen/blob/v2023.7.17/pymatgen/util/num.py"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pymatgen.util.num.minloc" title="Permalink to this definition"></a></dt>
<dd><p>Return the index of the (first) minimum in seq.</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="k">assert</span> <span class="n">minloc</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="mi">3</span><span class="p">))</span> <span class="o">==</span> <span class="mi">0</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="pymatgen.util.num.monotonic">
<span class="sig-name descname"><span class="pre">monotonic</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">values</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mode</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'&lt;'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">atol</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1e-08</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/materialsproject/pymatgen/blob/v2023.7.17/pymatgen/util/num.py"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pymatgen.util.num.monotonic" title="Permalink to this definition"></a></dt>
<dd><p>True if values are monotonically (decreasing|increasing).
mode is “&lt;” for a decreasing sequence, “&gt;” for an increasing sequence.
Two numbers are considered equal if they differ less than atol.</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">values</span> <span class="o">=</span> <span class="p">[</span><span class="mf">1.2</span><span class="p">,</span> <span class="mf">1.3</span><span class="p">,</span> <span class="mf">1.4</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">monotonic</span><span class="p">(</span><span class="n">values</span><span class="p">,</span> <span class="n">mode</span><span class="o">=</span><span class="s2">&quot;&lt;&quot;</span><span class="p">)</span>
<span class="go">False</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">monotonic</span><span class="p">(</span><span class="n">values</span><span class="p">,</span> <span class="n">mode</span><span class="o">=</span><span class="s2">&quot;&gt;&quot;</span><span class="p">)</span>
<span class="go">True</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="pymatgen.util.num.non_decreasing">
<span class="sig-name descname"><span class="pre">non_decreasing</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">values</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/materialsproject/pymatgen/blob/v2023.7.17/pymatgen/util/num.py"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pymatgen.util.num.non_decreasing" title="Permalink to this definition"></a></dt>
<dd><p>True if values are not decreasing.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="pymatgen.util.num.non_increasing">
<span class="sig-name descname"><span class="pre">non_increasing</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">values</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/materialsproject/pymatgen/blob/v2023.7.17/pymatgen/util/num.py"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pymatgen.util.num.non_increasing" title="Permalink to this definition"></a></dt>
<dd><p>True if values are not increasing.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="pymatgen.util.num.round_to_sigfigs">
<span class="sig-name descname"><span class="pre">round_to_sigfigs</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">num</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sig_figs</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/materialsproject/pymatgen/blob/v2023.7.17/pymatgen/util/num.py"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pymatgen.util.num.round_to_sigfigs" title="Permalink to this definition"></a></dt>
<dd><p>Rounds a number rounded to a specific number of significant
figures instead of to a specific precision.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="pymatgen.util.num.strictly_decreasing">
<span class="sig-name descname"><span class="pre">strictly_decreasing</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">values</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/materialsproject/pymatgen/blob/v2023.7.17/pymatgen/util/num.py"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pymatgen.util.num.strictly_decreasing" title="Permalink to this definition"></a></dt>
<dd><p>True if values are strictly decreasing.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="pymatgen.util.num.strictly_increasing">
<span class="sig-name descname"><span class="pre">strictly_increasing</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">values</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/materialsproject/pymatgen/blob/v2023.7.17/pymatgen/util/num.py"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pymatgen.util.num.strictly_increasing" title="Permalink to this definition"></a></dt>
<dd><p>True if values are strictly increasing.</p>
</dd></dl>

</section>
<section id="module-pymatgen.util.numba">
<span id="pymatgen-util-numba-module"></span><h2>pymatgen.util.numba module<a class="headerlink" href="#module-pymatgen.util.numba" title="Permalink to this heading"></a></h2>
<p>This module provides a wrapper for numba such that no functionality
is lost if numba is not available. Numba is a just-in-time compiler
that can significantly accelerate the evaluation of certain functions
if installed.</p>
<dl class="py function">
<dt class="sig sig-object py" id="pymatgen.util.numba.jit">
<span class="sig-name descname"><span class="pre">jit</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">func</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/materialsproject/pymatgen/blob/v2023.7.17/pymatgen/util/numba.py"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pymatgen.util.numba.jit" title="Permalink to this definition"></a></dt>
<dd><p>Replacement for numba.jit when numba is not installed that does nothing.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="pymatgen.util.numba.njit">
<span class="sig-name descname"><span class="pre">njit</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">func</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/materialsproject/pymatgen/blob/v2023.7.17/pymatgen/util/numba.py"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pymatgen.util.numba.njit" title="Permalink to this definition"></a></dt>
<dd><p>Replacement for numba.njit when numba is not installed that does nothing.</p>
</dd></dl>

</section>
<section id="module-pymatgen.util.plotting">
<span id="pymatgen-util-plotting-module"></span><h2>pymatgen.util.plotting module<a class="headerlink" href="#module-pymatgen.util.plotting" title="Permalink to this heading"></a></h2>
<p>Utilities for generating nicer plots.</p>
<dl class="py function">
<dt class="sig sig-object py" id="pymatgen.util.plotting._decide_fontcolor">
<span class="sig-name descname"><span class="pre">_decide_fontcolor</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">rgba</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">tuple</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Literal</span><span class="p"><span class="pre">[</span></span><span class="s"><span class="pre">'black'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'white'</span></span><span class="p"><span class="pre">]</span></span></span></span><a class="reference external" href="https://github.com/materialsproject/pymatgen/blob/v2023.7.17/pymatgen/util/plotting.py"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pymatgen.util.plotting._decide_fontcolor" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="pymatgen.util.plotting.add_fig_kwargs">
<span class="sig-name descname"><span class="pre">add_fig_kwargs</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">func</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/materialsproject/pymatgen/blob/v2023.7.17/pymatgen/util/plotting.py"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pymatgen.util.plotting.add_fig_kwargs" title="Permalink to this definition"></a></dt>
<dd><p>Decorator that adds keyword arguments for functions returning matplotlib
figures.</p>
<p>The function should return either a matplotlib figure or None to signal
some sort of error/unexpected event.
See doc string below for the list of supported options.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="pymatgen.util.plotting.format_formula">
<span class="sig-name descname"><span class="pre">format_formula</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">formula</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/materialsproject/pymatgen/blob/v2023.7.17/pymatgen/util/plotting.py"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pymatgen.util.plotting.format_formula" title="Permalink to this definition"></a></dt>
<dd><p>Converts str of chemical formula into
latex format for labelling purposes.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>formula</strong> (<em>str</em>) – Chemical formula</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="pymatgen.util.plotting.get_ax3d_fig_plt">
<span class="sig-name descname"><span class="pre">get_ax3d_fig_plt</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">ax</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/materialsproject/pymatgen/blob/v2023.7.17/pymatgen/util/plotting.py"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pymatgen.util.plotting.get_ax3d_fig_plt" title="Permalink to this definition"></a></dt>
<dd><p>Helper function used in plot functions supporting an optional Axes3D
argument. If ax is None, we build the <cite>matplotlib</cite> figure and create the
Axes3D else we return the current active figure.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>ax</strong> (<em>Axes3D</em><em>, </em><em>optional</em>) – Axes3D object. Defaults to None.</p></li>
<li><p><strong>kwargs</strong> – keyword arguments are passed to plt.figure if ax is not None.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><code class="xref py py-class docutils literal notranslate"><span class="pre">Axes</span></code> object
figure: matplotlib figure
plt: matplotlib pyplot module.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>ax</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="pymatgen.util.plotting.get_ax_fig_plt">
<span class="sig-name descname"><span class="pre">get_ax_fig_plt</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">ax</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/materialsproject/pymatgen/blob/v2023.7.17/pymatgen/util/plotting.py"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pymatgen.util.plotting.get_ax_fig_plt" title="Permalink to this definition"></a></dt>
<dd><p>Helper function used in plot functions supporting an optional Axes argument.
If ax is None, we build the <cite>matplotlib</cite> figure and create the Axes else
we return the current active figure.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>ax</strong> (<em>Axes</em><em>, </em><em>optional</em>) – Axes object. Defaults to None.</p></li>
<li><p><strong>kwargs</strong> – keyword arguments are passed to plt.figure if ax is not None.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><code class="xref py py-class docutils literal notranslate"><span class="pre">Axes</span></code> object
figure: matplotlib figure
plt: matplotlib pyplot module.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>ax</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="pymatgen.util.plotting.get_axarray_fig_plt">
<span class="sig-name descname"><span class="pre">get_axarray_fig_plt</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">ax_array</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">nrows</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ncols</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sharex</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sharey</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">squeeze</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">subplot_kw</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">gridspec_kw</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">fig_kw</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/materialsproject/pymatgen/blob/v2023.7.17/pymatgen/util/plotting.py"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pymatgen.util.plotting.get_axarray_fig_plt" title="Permalink to this definition"></a></dt>
<dd><p>Helper function used in plot functions that accept an optional array of Axes
as argument. If ax_array is None, we build the <cite>matplotlib</cite> figure and
create the array of Axes by calling plt.subplots else we return the
current active figure.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>Array of <code class="xref py py-class docutils literal notranslate"><span class="pre">Axes</span></code> objects
figure: matplotlib figure
plt: matplotlib pyplot module.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>ax</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="pymatgen.util.plotting.periodic_table_heatmap">
<span class="sig-name descname"><span class="pre">periodic_table_heatmap</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">elemental_data</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cbar_label</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">''</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cbar_label_size</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">14</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">show_plot</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cmap</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'YlOrRd'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cmap_range</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">blank_color</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'grey'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">edge_color</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'white'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">value_format</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">value_fontsize</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">10</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">symbol_fontsize</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">14</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">max_row</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">9</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">readable_fontcolor</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pymatviz</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/materialsproject/pymatgen/blob/v2023.7.17/pymatgen/util/plotting.py"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pymatgen.util.plotting.periodic_table_heatmap" title="Permalink to this definition"></a></dt>
<dd><p>A static method that generates a heat map overlaid on a periodic table.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>elemental_data</strong> (<em>dict</em>) – A dictionary with the element as a key and a
value assigned to it, e.g. surface energy and frequency, etc.
Elements missing in the elemental_data will be grey by default
in the final table elemental_data={“Fe”: 4.2, “O”: 5.0}.</p></li>
<li><p><strong>cbar_label</strong> (<em>str</em>) – Label of the color bar. Default is “”.</p></li>
<li><p><strong>cbar_label_size</strong> (<em>float</em>) – Font size for the color bar label. Default is 14.</p></li>
<li><p><strong>cmap_range</strong> (<em>tuple</em>) – Minimum and maximum value of the color map scale.
If None, the color map will automatically scale to the range of the
data.</p></li>
<li><p><strong>show_plot</strong> (<em>bool</em>) – Whether to show the heatmap. Default is False.</p></li>
<li><p><strong>value_format</strong> (<em>str</em>) – Formatting string to show values. If None, no value
is shown. Example: “%.4f” shows float to four decimals.</p></li>
<li><p><strong>value_fontsize</strong> (<em>float</em>) – Font size for values. Default is 10.</p></li>
<li><p><strong>symbol_fontsize</strong> (<em>float</em>) – Font size for element symbols. Default is 14.</p></li>
<li><p><strong>cmap</strong> (<em>str</em>) – Color scheme of the heatmap. Default is ‘YlOrRd’.
Refer to the matplotlib documentation for other options.</p></li>
<li><p><strong>blank_color</strong> (<em>str</em>) – Color assigned for the missing elements in
elemental_data. Default is “grey”.</p></li>
<li><p><strong>edge_color</strong> (<em>str</em>) – Color assigned for the edge of elements in the
periodic table. Default is “white”.</p></li>
<li><p><strong>max_row</strong> (<em>int</em>) – Maximum number of rows of the periodic table to be
shown. Default is 9, which means the periodic table heat map covers
the standard 7 rows of the periodic table + 2 rows for the lanthanides
and actinides. Use a value of max_row = 7 to exclude the lanthanides and
actinides.</p></li>
<li><p><strong>readable_fontcolor</strong> (<em>bool</em>) – Whether to use readable font color depending
on background color. Default is False.</p></li>
<li><p><strong>pymatviz</strong> (<em>bool</em>) – Whether to use pymatviz to generate the heatmap. Defaults to True.
See <a class="reference external" href="https://github.com/janosh/pymatviz">https://github.com/janosh/pymatviz</a>.</p></li>
<li><p><strong>kwargs</strong> – Passed to pymatviz.ptable_heatmap_plotly</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="pymatgen.util.plotting.pretty_plot">
<span class="sig-name descname"><span class="pre">pretty_plot</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">width</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">8</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">height</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">plt</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dpi</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">color_cycle</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">('qualitative',</span> <span class="pre">'Set1_9')</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/materialsproject/pymatgen/blob/v2023.7.17/pymatgen/util/plotting.py"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pymatgen.util.plotting.pretty_plot" title="Permalink to this definition"></a></dt>
<dd><p>Provides a publication quality plot, with nice defaults for font sizes etc.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>width</strong> (<em>float</em>) – Width of plot in inches. Defaults to 8in.</p></li>
<li><p><strong>height</strong> (<em>float</em>) – Height of plot in inches. Defaults to width * golden
ratio.</p></li>
<li><p><strong>plt</strong> (<em>matplotlib.pyplot</em>) – If plt is supplied, changes will be made to an
existing plot. Otherwise, a new plot will be created.</p></li>
<li><p><strong>dpi</strong> (<em>int</em>) – Sets dot per inch for figure. Defaults to 300.</p></li>
<li><p><strong>color_cycle</strong> (<em>tuple</em>) – Set the color cycle for new plots to one of the
color sets in palettable. Defaults to a qualitative Set1_9.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Matplotlib plot object with properly sized fonts.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="pymatgen.util.plotting.pretty_plot_two_axis">
<span class="sig-name descname"><span class="pre">pretty_plot_two_axis</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">x</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">y1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">y2</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">xlabel</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">y1label</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">y2label</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">width</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">8</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">height</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dpi</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">300</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">plot_kwargs</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/materialsproject/pymatgen/blob/v2023.7.17/pymatgen/util/plotting.py"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pymatgen.util.plotting.pretty_plot_two_axis" title="Permalink to this definition"></a></dt>
<dd><p>Variant of pretty_plot that does a dual axis plot. Adapted from matplotlib
examples. Makes it easier to create plots with different axes.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>x</strong> (<em>np.ndarray/list</em>) – Data for x-axis.</p></li>
<li><p><strong>y1</strong> (<em>dict/np.ndarray/list</em>) – Data for y1 axis (left). If a dict, it will
be interpreted as a {label: sequence}.</p></li>
<li><p><strong>y2</strong> (<em>dict/np.ndarray/list</em>) – Data for y2 axis (right). If a dict, it will
be interpreted as a {label: sequence}.</p></li>
<li><p><strong>xlabel</strong> (<em>str</em>) – If not None, this will be the label for the x-axis.</p></li>
<li><p><strong>y1label</strong> (<em>str</em>) – If not None, this will be the label for the y1-axis.</p></li>
<li><p><strong>y2label</strong> (<em>str</em>) – If not None, this will be the label for the y2-axis.</p></li>
<li><p><strong>width</strong> (<em>float</em>) – Width of plot in inches. Defaults to 8in.</p></li>
<li><p><strong>height</strong> (<em>float</em>) – Height of plot in inches. Defaults to width * golden
ratio.</p></li>
<li><p><strong>dpi</strong> (<em>int</em>) – Sets dot per inch for figure. Defaults to 300.</p></li>
<li><p><strong>plot_kwargs</strong> – Passthrough kwargs to matplotlib’s plot method. E.g.,
linewidth, etc.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>matplotlib.pyplot</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="pymatgen.util.plotting.pretty_polyfit_plot">
<span class="sig-name descname"><span class="pre">pretty_polyfit_plot</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">x</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">y</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">deg</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">xlabel</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ylabel</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/materialsproject/pymatgen/blob/v2023.7.17/pymatgen/util/plotting.py"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pymatgen.util.plotting.pretty_polyfit_plot" title="Permalink to this definition"></a></dt>
<dd><p>Convenience method to plot data with trend lines based on polynomial fit.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>x</strong> – Sequence of x data.</p></li>
<li><p><strong>y</strong> – Sequence of y data.</p></li>
<li><p><strong>deg</strong> (<em>int</em>) – Degree of polynomial. Defaults to 1.</p></li>
<li><p><strong>xlabel</strong> (<em>str</em>) – Label for x-axis.</p></li>
<li><p><strong>ylabel</strong> (<em>str</em>) – Label for y-axis.</p></li>
<li><p><strong>kwargs</strong> – Keyword args passed to pretty_plot.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>matplotlib.pyplot object.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="pymatgen.util.plotting.van_arkel_triangle">
<span class="sig-name descname"><span class="pre">van_arkel_triangle</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">list_of_materials</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">annotate</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/materialsproject/pymatgen/blob/v2023.7.17/pymatgen/util/plotting.py"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pymatgen.util.plotting.van_arkel_triangle" title="Permalink to this definition"></a></dt>
<dd><dl>
<dt>A static method that generates a binary van Arkel-Ketelaar triangle to</dt><dd><p>quantify the ionic, metallic and covalent character of a compound
by plotting the electronegativity difference (y) vs average (x).
See:</p>
<blockquote>
<div><dl class="simple">
<dt>A.E. van Arkel, Molecules and Crystals in Inorganic Chemistry,</dt><dd><p>Interscience, New York (1956)</p>
</dd>
</dl>
</div></blockquote>
<dl class="simple">
<dt>and</dt><dd><dl class="simple">
<dt>J.A.A Ketelaar, Chemical Constitution (2nd edition), An Introduction</dt><dd><p>to the Theory of the Chemical Bond, Elsevier, New York (1958).</p>
</dd>
</dl>
</dd>
</dl>
</dd>
</dl>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>list_of_materials</strong> (<em>list</em>) – A list of computed entries of binary
materials or a list of lists containing two elements (str).</p></li>
<li><p><strong>annotate</strong> (<em>bool</em>) – Whether or not to label the points on the
triangle with reduced formula (if list of entries) or pair
of elements (if list of list of str).</p></li>
</ul>
</dd>
</dl>
</dd></dl>

</section>
<section id="module-pymatgen.util.provenance">
<span id="pymatgen-util-provenance-module"></span><h2>pymatgen.util.provenance module<a class="headerlink" href="#module-pymatgen.util.provenance" title="Permalink to this heading"></a></h2>
<p>Classes and methods related to the Structure Notation Language (SNL).</p>
<dl class="py class">
<dt class="sig sig-object py" id="pymatgen.util.provenance.Author">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">Author</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">email</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/materialsproject/pymatgen/blob/v2023.7.17/pymatgen/util/provenance.py"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pymatgen.util.provenance.Author" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="#pymatgen.util.provenance.Author" title="pymatgen.util.provenance.Author"><code class="xref py py-class docutils literal notranslate"><span class="pre">Author</span></code></a></p>
<p>An Author contains two fields: name and email. It is meant to represent
the author of a Structure or the author of a code that was applied to a Structure.</p>
<p>Create new instance of Author(name, email)</p>
<dl class="py method">
<dt class="sig sig-object py" id="pymatgen.util.provenance.Author.as_dict">
<span class="sig-name descname"><span class="pre">as_dict</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference external" href="https://github.com/materialsproject/pymatgen/blob/v2023.7.17/pymatgen/util/provenance.py"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pymatgen.util.provenance.Author.as_dict" title="Permalink to this definition"></a></dt>
<dd><p>Returns: MSONable dict.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pymatgen.util.provenance.Author.from_dict">
<em class="property"><span class="pre">static</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">from_dict</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">d</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/materialsproject/pymatgen/blob/v2023.7.17/pymatgen/util/provenance.py"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pymatgen.util.provenance.Author.from_dict" title="Permalink to this definition"></a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>d</strong> (<em>dict</em>) – Dict representation.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Author</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pymatgen.util.provenance.Author.parse_author">
<em class="property"><span class="pre">static</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">parse_author</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">author</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/materialsproject/pymatgen/blob/v2023.7.17/pymatgen/util/provenance.py"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pymatgen.util.provenance.Author.parse_author" title="Permalink to this definition"></a></dt>
<dd><p>Parses an Author object from either a String, dict, or tuple.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>author</strong> – A String formatted as “NAME &lt;<a class="reference external" href="mailto:email&#37;&#52;&#48;domain&#46;com">email<span>&#64;</span>domain<span>&#46;</span>com</a>&gt;”,
(name, email) tuple, or a dict with name and email keys.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>An Author object.</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="pymatgen.util.provenance.HistoryNode">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">HistoryNode</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">url</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">description</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/materialsproject/pymatgen/blob/v2023.7.17/pymatgen/util/provenance.py"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pymatgen.util.provenance.HistoryNode" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="#pymatgen.util.provenance.HistoryNode" title="pymatgen.util.provenance.HistoryNode"><code class="xref py py-class docutils literal notranslate"><span class="pre">HistoryNode</span></code></a></p>
<p>A HistoryNode represents a step in the chain of events that lead to a
Structure. HistoryNodes leave ‘breadcrumbs’ so that you can trace back how
a Structure was created. For example, a HistoryNode might represent pulling
a Structure from an external database such as the ICSD or CSD. Or, it might
represent the application of a code (e.g. pymatgen) to the Structure, with
a custom description of how that code was applied (e.g. a site removal
Transformation was applied).</p>
<p>A HistoryNode contains three fields:</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="pymatgen.util.provenance.HistoryNode.name">
<span class="sig-name descname"><span class="pre">name</span></span><a class="reference external" href="https://github.com/materialsproject/pymatgen/blob/v2023.7.17/pymatgen/util/provenance.py"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pymatgen.util.provenance.HistoryNode.name" title="Permalink to this definition"></a></dt>
<dd><p>The name of a code or resource that this Structure encountered in
its history (String)</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="pymatgen.util.provenance.HistoryNode.url">
<span class="sig-name descname"><span class="pre">url</span></span><a class="reference external" href="https://github.com/materialsproject/pymatgen/blob/v2023.7.17/pymatgen/util/provenance.py"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pymatgen.util.provenance.HistoryNode.url" title="Permalink to this definition"></a></dt>
<dd><p>The URL of that code/resource (String)</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="pymatgen.util.provenance.HistoryNode.description">
<span class="sig-name descname"><span class="pre">description</span></span><a class="reference external" href="https://github.com/materialsproject/pymatgen/blob/v2023.7.17/pymatgen/util/provenance.py"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pymatgen.util.provenance.HistoryNode.description" title="Permalink to this definition"></a></dt>
<dd><p>A free-form description of how the code/resource is related to the
Structure (dict).</p>
</dd></dl>

<p>Create new instance of HistoryNode(name, url, description)</p>
<dl class="py method">
<dt class="sig sig-object py" id="pymatgen.util.provenance.HistoryNode.as_dict">
<span class="sig-name descname"><span class="pre">as_dict</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span></span><a class="reference external" href="https://github.com/materialsproject/pymatgen/blob/v2023.7.17/pymatgen/util/provenance.py"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pymatgen.util.provenance.HistoryNode.as_dict" title="Permalink to this definition"></a></dt>
<dd><p>Returns: Dict.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pymatgen.util.provenance.HistoryNode.from_dict">
<em class="property"><span class="pre">static</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">from_dict</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">dct</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="#pymatgen.util.provenance.HistoryNode" title="pymatgen.util.provenance.HistoryNode"><span class="pre">HistoryNode</span></a></span></span><a class="reference external" href="https://github.com/materialsproject/pymatgen/blob/v2023.7.17/pymatgen/util/provenance.py"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pymatgen.util.provenance.HistoryNode.from_dict" title="Permalink to this definition"></a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>dct</strong> (<em>dict</em>) – Dict representation.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>HistoryNode</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pymatgen.util.provenance.HistoryNode.parse_history_node">
<em class="property"><span class="pre">static</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">parse_history_node</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">h_node</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/materialsproject/pymatgen/blob/v2023.7.17/pymatgen/util/provenance.py"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pymatgen.util.provenance.HistoryNode.parse_history_node" title="Permalink to this definition"></a></dt>
<dd><p>Parses a History Node object from either a dict or a tuple.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>h_node</strong> – A dict with name/url/description fields or a 3-element
tuple.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>History node.</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="pymatgen.util.provenance.StructureNL">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">StructureNL</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">struct_or_mol</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">authors</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">projects</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">references</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">''</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">remarks</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">data</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">history</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">created_at</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/materialsproject/pymatgen/blob/v2023.7.17/pymatgen/util/provenance.py"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pymatgen.util.provenance.StructureNL" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>The Structure Notation Language (SNL, pronounced ‘snail’) is a container for a pymatgen
Structure/Molecule object with some additional fields for enhanced provenance.</p>
<dl class="simple">
<dt>It is meant to be imported/exported in a JSON file format with the following structure:</dt><dd><ul class="simple">
<li><p>sites</p></li>
<li><p>lattice (optional)</p></li>
<li><dl class="simple">
<dt>about</dt><dd><ul>
<li><p>created_at</p></li>
<li><p>authors</p></li>
<li><p>projects</p></li>
<li><p>references</p></li>
<li><p>remarks</p></li>
<li><p>data</p></li>
<li><p>history</p></li>
</ul>
</dd>
</dl>
</li>
</ul>
</dd>
</dl>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>struct_or_mol</strong> – A pymatgen.core.structure Structure/Molecule object</p></li>
<li><p><strong>authors</strong> – <em>List</em> of {“name”:’’, “email”:’’} dicts,
<em>list</em> of Strings as ‘John Doe &lt;<a class="reference external" href="mailto:johndoe&#37;&#52;&#48;gmail&#46;com">johndoe<span>&#64;</span>gmail<span>&#46;</span>com</a>&gt;’,
or a single String with commas separating authors</p></li>
<li><p><strong>projects</strong> – List of Strings [‘Project A’, ‘Project B’]</p></li>
<li><p><strong>references</strong> – A String in BibTeX format</p></li>
<li><p><strong>remarks</strong> – List of Strings [‘Remark A’, ‘Remark B’]</p></li>
<li><p><strong>data</strong> – A free form dict. Namespaced at the root level with an
underscore, e.g. {“_materialsproject”: &lt;custom data&gt;}</p></li>
<li><p><strong>history</strong> – List of dicts - [{‘name’:’’, ‘url’:’’, ‘description’:{}}]</p></li>
<li><p><strong>created_at</strong> – A datetime object.</p></li>
</ul>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="pymatgen.util.provenance.StructureNL.as_dict">
<span class="sig-name descname"><span class="pre">as_dict</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference external" href="https://github.com/materialsproject/pymatgen/blob/v2023.7.17/pymatgen/util/provenance.py"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pymatgen.util.provenance.StructureNL.as_dict" title="Permalink to this definition"></a></dt>
<dd><p>Returns: MSONable dict.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pymatgen.util.provenance.StructureNL.from_dict">
<em class="property"><span class="pre">classmethod</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">from_dict</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">d</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/materialsproject/pymatgen/blob/v2023.7.17/pymatgen/util/provenance.py"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pymatgen.util.provenance.StructureNL.from_dict" title="Permalink to this definition"></a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>d</strong> (<em>dict</em>) – Dict representation.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Class</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pymatgen.util.provenance.StructureNL.from_structures">
<em class="property"><span class="pre">classmethod</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">from_structures</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">structures</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Sequence</span><span class="p"><span class="pre">[</span></span><a class="reference internal" href="pymatgen.core.html#pymatgen.core.structure.Structure" title="pymatgen.core.structure.Structure"><span class="pre">Structure</span></a><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">authors</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Sequence</span><span class="p"><span class="pre">[</span></span><span class="pre">dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">str</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">projects</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">references</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">''</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">remarks</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">data</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">histories</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">created_at</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/materialsproject/pymatgen/blob/v2023.7.17/pymatgen/util/provenance.py"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pymatgen.util.provenance.StructureNL.from_structures" title="Permalink to this definition"></a></dt>
<dd><p>A convenience method for getting a list of StructureNL objects by
specifying structures and metadata separately. Some of the metadata
is applied to all of the structures for ease of use.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>structures</strong> – A list of Structure objects</p></li>
<li><p><strong>authors</strong> – <em>List</em> of {“name”:’’, “email”:’’} dicts,
<em>list</em> of Strings as ‘John Doe &lt;<a class="reference external" href="mailto:johndoe&#37;&#52;&#48;gmail&#46;com">johndoe<span>&#64;</span>gmail<span>&#46;</span>com</a>&gt;’,
or a single String with commas separating authors</p></li>
<li><p><strong>projects</strong> – List of Strings [‘Project A’, ‘Project B’]. This
applies to all structures.</p></li>
<li><p><strong>references</strong> – A String in BibTeX format. Again, this applies to all
structures.</p></li>
<li><p><strong>remarks</strong> – List of Strings [‘Remark A’, ‘Remark B’]</p></li>
<li><p><strong>data</strong> – A list of free form dict. Namespaced at the root level
with an underscore, e.g. {“_materialsproject”:&lt;custom data&gt;}
. The length of data should be the same as the list of
structures if not None.</p></li>
<li><p><strong>histories</strong> – List of list of dicts - [[{‘name’:’’, ‘url’:’’,
‘description’:{}}], …] The length of histories should be the
same as the list of structures if not None.</p></li>
<li><p><strong>created_at</strong> – A datetime object</p></li>
</ul>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="pymatgen.util.provenance.is_valid_bibtex">
<span class="sig-name descname"><span class="pre">is_valid_bibtex</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">reference</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">bool</span></span></span><a class="reference external" href="https://github.com/materialsproject/pymatgen/blob/v2023.7.17/pymatgen/util/provenance.py"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pymatgen.util.provenance.is_valid_bibtex" title="Permalink to this definition"></a></dt>
<dd><p>Use pybtex to validate that a reference is in proper BibTeX format.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>reference</strong> – A String reference in BibTeX format.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Boolean indicating if reference is valid bibtex.</p>
</dd>
</dl>
</dd></dl>

</section>
<section id="module-pymatgen.util.string">
<span id="pymatgen-util-string-module"></span><h2>pymatgen.util.string module<a class="headerlink" href="#module-pymatgen.util.string" title="Permalink to this heading"></a></h2>
<p>This module provides utility classes for string operations.</p>
<dl class="py class">
<dt class="sig sig-object py" id="pymatgen.util.string.Stringify">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">Stringify</span></span><a class="reference external" href="https://github.com/materialsproject/pymatgen/blob/v2023.7.17/pymatgen/util/string.py"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pymatgen.util.string.Stringify" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Mix-in class for string formatting, e.g. superscripting numbers and symbols or superscripting.</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="pymatgen.util.string.Stringify.STRING_MODE">
<span class="sig-name descname"><span class="pre">STRING_MODE</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'SUBSCRIPT'</span></em><a class="reference external" href="https://github.com/materialsproject/pymatgen/blob/v2023.7.17/pymatgen/util/string.py"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pymatgen.util.string.Stringify.STRING_MODE" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pymatgen.util.string.Stringify.to_html_string">
<span class="sig-name descname"><span class="pre">to_html_string</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">str</span></span></span><a class="reference external" href="https://github.com/materialsproject/pymatgen/blob/v2023.7.17/pymatgen/util/string.py"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pymatgen.util.string.Stringify.to_html_string" title="Permalink to this definition"></a></dt>
<dd><p>Generates a HTML formatted string. This uses the output from to_latex_string to generate a HTML output.
:return: HTML formatted string.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pymatgen.util.string.Stringify.to_latex_string">
<span class="sig-name descname"><span class="pre">to_latex_string</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">str</span></span></span><a class="reference external" href="https://github.com/materialsproject/pymatgen/blob/v2023.7.17/pymatgen/util/string.py"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pymatgen.util.string.Stringify.to_latex_string" title="Permalink to this definition"></a></dt>
<dd><p>Generates a LaTeX formatted string. The mode is set by the class variable STRING_MODE, which defaults to
“SUBSCRIPT”. E.g., Fe2O3 is transformed to Fe$_{2}$O$_{3}$. Setting STRING_MODE to “SUPERSCRIPT” creates
superscript, e.g., Fe2+ becomes Fe^{2+}. The initial string is obtained from the class’s __str__ method.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>String for display as in LaTeX with proper superscripts and subscripts.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pymatgen.util.string.Stringify.to_pretty_string">
<span class="sig-name descname"><span class="pre">to_pretty_string</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">str</span></span></span><a class="reference external" href="https://github.com/materialsproject/pymatgen/blob/v2023.7.17/pymatgen/util/string.py"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pymatgen.util.string.Stringify.to_pretty_string" title="Permalink to this definition"></a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>A pretty string representation. By default, the __str__ output is used, but this method can be
overridden if a different representation from default is desired.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pymatgen.util.string.Stringify.to_unicode_string">
<span class="sig-name descname"><span class="pre">to_unicode_string</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference external" href="https://github.com/materialsproject/pymatgen/blob/v2023.7.17/pymatgen/util/string.py"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pymatgen.util.string.Stringify.to_unicode_string" title="Permalink to this definition"></a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>Unicode string with proper sub and superscripts. Note that this works only with systems where the sub
and superscripts are pure integers.</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="pymatgen.util.string.charge_string">
<span class="sig-name descname"><span class="pre">charge_string</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">charge</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">brackets</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">explicit_one</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/materialsproject/pymatgen/blob/v2023.7.17/pymatgen/util/string.py"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pymatgen.util.string.charge_string" title="Permalink to this definition"></a></dt>
<dd><p>Returns a string representing the charge of an Ion. By default, the
charge is placed in brackets with the sign preceding the magnitude, e.g.,
‘[+2]’. For uncharged species, the string returned is ‘(aq)’.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>charge</strong> – the charge of the Ion</p></li>
<li><p><strong>brackets</strong> – whether to enclose the charge in brackets, e.g. [+2]. Default: True</p></li>
<li><p><strong>explicit_one</strong> – whether to include the number one for monovalent ions, e.g.
+1 rather than +. Default: True</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="pymatgen.util.string.disordered_formula">
<span class="sig-name descname"><span class="pre">disordered_formula</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">disordered_struct</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">symbols</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">('x',</span> <span class="pre">'y',</span> <span class="pre">'z')</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fmt</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'plain'</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/materialsproject/pymatgen/blob/v2023.7.17/pymatgen/util/string.py"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pymatgen.util.string.disordered_formula" title="Permalink to this definition"></a></dt>
<dd><p>Returns a formula of a form like AxB1-x (x=0.5)
for disordered structures. Will only return a
formula for disordered structures with one
kind of disordered site at present.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>disordered_struct</strong> – a disordered structure</p></li>
<li><p><strong>symbols</strong> – a tuple of characters to use for</p></li>
<li><p><strong>subscripts</strong> (<em>'x'</em><em>, </em><em>'y'</em><em>, </em><em>'z'</em>) – </p></li>
<li><p><strong>is</strong> (<em>by default this</em>) – </p></li>
<li><p><strong>disordered</strong> (<em>but if you have more than three</em>) – </p></li>
<li><p><strong>added</strong> (<em>species more symbols will need to be</em>) – </p></li>
<li><p><strong>fmt</strong> (<em>str</em>) – ‘plain’, ‘HTML’ or ‘LaTeX’</p></li>
</ul>
</dd>
</dl>
<p>Returns (str): a disordered formula string</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="pymatgen.util.string.formula_double_format">
<span class="sig-name descname"><span class="pre">formula_double_format</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">afloat</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ignore_ones</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tol</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">1e-08</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/materialsproject/pymatgen/blob/v2023.7.17/pymatgen/util/string.py"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pymatgen.util.string.formula_double_format" title="Permalink to this definition"></a></dt>
<dd><p>This function is used to make pretty formulas by formatting the amounts.
Instead of Li1.0 Fe1.0 P1.0 O4.0, you get LiFePO4.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>afloat</strong> (<em>float</em>) – a float</p></li>
<li><p><strong>ignore_ones</strong> (<em>bool</em>) – if true, floats of 1 are ignored.</p></li>
<li><p><strong>tol</strong> (<em>float</em>) – Tolerance to round to nearest int. i.e. 2.0000000001 -&gt; 2</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>A string representation of the float for formulas.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="pymatgen.util.string.htmlify">
<span class="sig-name descname"><span class="pre">htmlify</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">formula</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/materialsproject/pymatgen/blob/v2023.7.17/pymatgen/util/string.py"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pymatgen.util.string.htmlify" title="Permalink to this definition"></a></dt>
<dd><p>Generates a HTML formatted formula, e.g. Fe2O3 is transformed to
Fe&lt;sub&gt;2&lt;/sub&gt;O&lt;/sub&gt;3&lt;/sub&gt;.</p>
<p>Note that Composition now has a to_html_string() method that may
be used instead.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>formula</strong> – </p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p></p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="pymatgen.util.string.latexify">
<span class="sig-name descname"><span class="pre">latexify</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">formula</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/materialsproject/pymatgen/blob/v2023.7.17/pymatgen/util/string.py"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pymatgen.util.string.latexify" title="Permalink to this definition"></a></dt>
<dd><p>Generates a LaTeX formatted formula. E.g., Fe2O3 is transformed to
Fe$_{2}$O$_{3}$.</p>
<p>Note that Composition now has a to_latex_string() method that may
be used instead.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>formula</strong> (<em>str</em>) – Input formula.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Formula suitable for display as in LaTeX with proper subscripts.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="pymatgen.util.string.latexify_spacegroup">
<span class="sig-name descname"><span class="pre">latexify_spacegroup</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">spacegroup_symbol</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/materialsproject/pymatgen/blob/v2023.7.17/pymatgen/util/string.py"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pymatgen.util.string.latexify_spacegroup" title="Permalink to this definition"></a></dt>
<dd><p>Generates a latex formatted spacegroup. E.g., P2_1/c is converted to
P2$_{1}$/c and P-1 is converted to P$\overline{1}$.</p>
<p>Note that SymmetryGroup now has a to_latex_string() method that may
be called instead.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>spacegroup_symbol</strong> (<em>str</em>) – A spacegroup symbol</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>A latex formatted spacegroup with proper subscripts and overlines.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="pymatgen.util.string.str_delimited">
<span class="sig-name descname"><span class="pre">str_delimited</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">results</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">header</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">delimiter</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'\t'</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/materialsproject/pymatgen/blob/v2023.7.17/pymatgen/util/string.py"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pymatgen.util.string.str_delimited" title="Permalink to this definition"></a></dt>
<dd><p>Given a tuple of tuples, generate a delimited string form.
&gt;&gt;&gt; results = [[“a”,”b”,”c”],[“d”,”e”,”f”],[1,2,3]]
&gt;&gt;&gt; print(str_delimited(results,delimiter=”,”))
a,b,c
d,e,f
1,2,3.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>results</strong> – 2d sequence of arbitrary types.</p></li>
<li><p><strong>header</strong> – optional header</p></li>
<li><p><strong>delimiter</strong> – Defaults to “t” for tab-delimited output.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Aligned string output in a table-like format.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="pymatgen.util.string.stream_has_colours">
<span class="sig-name descname"><span class="pre">stream_has_colours</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">stream</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/materialsproject/pymatgen/blob/v2023.7.17/pymatgen/util/string.py"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pymatgen.util.string.stream_has_colours" title="Permalink to this definition"></a></dt>
<dd><p>True if stream supports colours. Python cookbook, #475186.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="pymatgen.util.string.transformation_to_string">
<span class="sig-name descname"><span class="pre">transformation_to_string</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">matrix</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">translation_vec</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">(0,</span> <span class="pre">0,</span> <span class="pre">0)</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">components</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">('x',</span> <span class="pre">'y',</span> <span class="pre">'z')</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">c</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">''</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">delim</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">','</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/materialsproject/pymatgen/blob/v2023.7.17/pymatgen/util/string.py"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pymatgen.util.string.transformation_to_string" title="Permalink to this definition"></a></dt>
<dd><p>Convenience method. Given matrix returns string, e.g. x+2y+1/4
:param matrix
:param translation_vec
:param components: either (‘x’, ‘y’, ‘z’) or (‘a’, ‘b’, ‘c’)
:param c: optional additional character to print (used for magmoms)
:param delim: delimiter
:return: xyz string.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="pymatgen.util.string.unicodeify">
<span class="sig-name descname"><span class="pre">unicodeify</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">formula</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/materialsproject/pymatgen/blob/v2023.7.17/pymatgen/util/string.py"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pymatgen.util.string.unicodeify" title="Permalink to this definition"></a></dt>
<dd><p>Generates a formula with unicode subscripts, e.g. Fe2O3 is transformed
to Fe₂O₃. Does not support formulae with decimal points.</p>
<p>Note that Composition now has a to_unicode_string() method that may
be used instead.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>formula</strong> – </p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p></p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="pymatgen.util.string.unicodeify_spacegroup">
<span class="sig-name descname"><span class="pre">unicodeify_spacegroup</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">spacegroup_symbol</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/materialsproject/pymatgen/blob/v2023.7.17/pymatgen/util/string.py"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pymatgen.util.string.unicodeify_spacegroup" title="Permalink to this definition"></a></dt>
<dd><p>Generates a unicode formatted spacegroup. E.g., P2$_{1}$/c is converted to
P2₁/c and P$\overline{1}$ is converted to P̅1.</p>
<p>Note that SymmetryGroup now has a to_unicode_string() method that
may be called instead.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>spacegroup_symbol</strong> (<em>str</em>) – A spacegroup symbol as LaTeX</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>A unicode spacegroup with proper subscripts and overlines.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="pymatgen.util.string.unicodeify_species">
<span class="sig-name descname"><span class="pre">unicodeify_species</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">specie_string</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/materialsproject/pymatgen/blob/v2023.7.17/pymatgen/util/string.py"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pymatgen.util.string.unicodeify_species" title="Permalink to this definition"></a></dt>
<dd><p>Generates a unicode formatted species string, with appropriate
superscripts for oxidation states.</p>
<p>Note that Species now has a to_unicode_string() method that
may be used instead.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>specie_string</strong> (<em>str</em>) – Species string, e.g. O2-</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Species string, e.g. O²⁻</p>
</dd>
</dl>
</dd></dl>

</section>
<section id="module-pymatgen.util.testing">
<span id="pymatgen-util-testing-module"></span><h2>pymatgen.util.testing module<a class="headerlink" href="#module-pymatgen.util.testing" title="Permalink to this heading"></a></h2>
<p>Common test support for pymatgen test scripts.</p>
<p>This single module should provide all the common functionality for pymatgen
tests in a single location, so that test scripts can just import it and work
right away.</p>
<dl class="py class">
<dt class="sig sig-object py" id="pymatgen.util.testing.PymatgenTest">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">PymatgenTest</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">methodName</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'runTest'</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/materialsproject/pymatgen/blob/v2023.7.17/pymatgen/util/testing.py"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pymatgen.util.testing.PymatgenTest" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">TestCase</span></code></p>
<p>Extends unittest.TestCase with several assert methods for array and str comparison.</p>
<p>Create an instance of the class that will use the named test
method when executed. Raises a ValueError if the instance does
not have a method with the specified name.</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="pymatgen.util.testing.PymatgenTest.MODULE_DIR">
<span class="sig-name descname"><span class="pre">MODULE_DIR</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">PosixPath('/Users/shyue/repos/pymatgen/pymatgen/util')</span></em><a class="reference external" href="https://github.com/materialsproject/pymatgen/blob/v2023.7.17/pymatgen/util/testing.py"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pymatgen.util.testing.PymatgenTest.MODULE_DIR" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="pymatgen.util.testing.PymatgenTest.STRUCTURES_DIR">
<span class="sig-name descname"><span class="pre">STRUCTURES_DIR</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">PosixPath('/Users/shyue/repos/pymatgen/pymatgen/util/structures')</span></em><a class="reference external" href="https://github.com/materialsproject/pymatgen/blob/v2023.7.17/pymatgen/util/testing.py"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pymatgen.util.testing.PymatgenTest.STRUCTURES_DIR" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="pymatgen.util.testing.PymatgenTest.TEST_FILES_DIR">
<span class="sig-name descname"><span class="pre">TEST_FILES_DIR</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">PosixPath('/Users/shyue/repos/pymatgen/pymatgen/util/../../tests/files')</span></em><a class="reference external" href="https://github.com/materialsproject/pymatgen/blob/v2023.7.17/pymatgen/util/testing.py"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pymatgen.util.testing.PymatgenTest.TEST_FILES_DIR" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="pymatgen.util.testing.PymatgenTest.TEST_STRUCTURES">
<span class="sig-name descname"><span class="pre">TEST_STRUCTURES</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">ClassVar</span><span class="p"><span class="pre">[</span></span><span class="pre">dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference internal" href="pymatgen.core.html#pymatgen.core.structure.Structure" title="pymatgen.core.structure.Structure"><span class="pre">pymatgen.core.structure.Structure</span></a><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">{}</span></em><a class="reference external" href="https://github.com/materialsproject/pymatgen/blob/v2023.7.17/pymatgen/util/testing.py"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pymatgen.util.testing.PymatgenTest.TEST_STRUCTURES" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="pymatgen.util.testing.PymatgenTest._multiprocess_shared_">
<span class="sig-name descname"><span class="pre">_multiprocess_shared_</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">True</span></em><a class="reference external" href="https://github.com/materialsproject/pymatgen/blob/v2023.7.17/pymatgen/util/testing.py"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pymatgen.util.testing.PymatgenTest._multiprocess_shared_" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pymatgen.util.testing.PymatgenTest._tmp_dir">
<span class="sig-name descname"><span class="pre">_tmp_dir</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">tmp_path</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Path</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">monkeypatch</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">MonkeyPatch</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="reference external" href="https://github.com/materialsproject/pymatgen/blob/v2023.7.17/pymatgen/util/testing.py"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pymatgen.util.testing.PymatgenTest._tmp_dir" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pymatgen.util.testing.PymatgenTest.assert_all_close">
<em class="property"><span class="pre">static</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">assert_all_close</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">actual</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">desired</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">decimal</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">7</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">err_msg</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">''</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">verbose</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/materialsproject/pymatgen/blob/v2023.7.17/pymatgen/util/testing.py"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pymatgen.util.testing.PymatgenTest.assert_all_close" title="Permalink to this definition"></a></dt>
<dd><p>Tests if two arrays are almost equal up to some relative or absolute tolerance.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pymatgen.util.testing.PymatgenTest.assert_msonable">
<span class="sig-name descname"><span class="pre">assert_msonable</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">obj</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">test_is_subclass</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/materialsproject/pymatgen/blob/v2023.7.17/pymatgen/util/testing.py"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pymatgen.util.testing.PymatgenTest.assert_msonable" title="Permalink to this definition"></a></dt>
<dd><p>Test if obj is MSONable and verify the contract is fulfilled.</p>
<p>By default, the method tests whether obj is an instance of MSONable.
This check can be deactivated by setting test_is_subclass=False.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pymatgen.util.testing.PymatgenTest.assert_str_content_equal">
<em class="property"><span class="pre">static</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">assert_str_content_equal</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">actual</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">expected</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/materialsproject/pymatgen/blob/v2023.7.17/pymatgen/util/testing.py"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pymatgen.util.testing.PymatgenTest.assert_str_content_equal" title="Permalink to this definition"></a></dt>
<dd><p>Tests if two strings are equal, ignoring things like trailing spaces, etc.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pymatgen.util.testing.PymatgenTest.get_structure">
<em class="property"><span class="pre">classmethod</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">get_structure</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="pymatgen.core.html#pymatgen.core.structure.Structure" title="pymatgen.core.structure.Structure"><span class="pre">Structure</span></a></span></span><a class="reference external" href="https://github.com/materialsproject/pymatgen/blob/v2023.7.17/pymatgen/util/testing.py"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pymatgen.util.testing.PymatgenTest.get_structure" title="Permalink to this definition"></a></dt>
<dd><p>Get a structure from the template directories.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>name</strong> (<em>str</em>) – Name of structure file.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Structure</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pymatgen.util.testing.PymatgenTest.serialize_with_pickle">
<span class="sig-name descname"><span class="pre">serialize_with_pickle</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">objects</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">protocols</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">test_eq</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/materialsproject/pymatgen/blob/v2023.7.17/pymatgen/util/testing.py"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pymatgen.util.testing.PymatgenTest.serialize_with_pickle" title="Permalink to this definition"></a></dt>
<dd><p>Test whether the object(s) can be serialized and deserialized with
pickle. This method tries to serialize the objects with pickle and the
protocols specified in input. Then it deserializes the pickle format
and compares the two objects with the __eq__ operator if
test_eq is True.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>objects</strong> – Object or list of objects.</p></li>
<li><p><strong>protocols</strong> – List of pickle protocols to test. If protocols is None,
HIGHEST_PROTOCOL is tested.</p></li>
<li><p><strong>test_eq</strong> – If True, the deserialized object is compared with the
original object using the __eq__ method.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Nested list with the objects deserialized with the specified
protocols.</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</section>
<section id="module-pymatgen.util.typing">
<span id="pymatgen-util-typing-module"></span><h2>pymatgen.util.typing module<a class="headerlink" href="#module-pymatgen.util.typing" title="Permalink to this heading"></a></h2>
<p>This module defines convenience types for type hinting purposes.
Type hinting is new to pymatgen, so this module is subject to
change until best practices are established.</p>
</section>
</section>


           </div>
          </div>
          <footer>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2011, Pymatgen Development Team.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>
 
<div class="footer">This page uses <a href="http://analytics.google.com/">
Google Analytics</a> to collect statistics. You can disable it by blocking
the JavaScript coming from www.google-analytics.com.
<script type="text/javascript">
  (function() {
    var ga = document.createElement('script');
    ga.src = ('https:' == document.location.protocol ?
              'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    ga.setAttribute('async', 'true');
    document.documentElement.firstChild.appendChild(ga);
  })();
</script>
</div>


</body>
</html>
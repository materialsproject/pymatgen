
<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta charset="utf-8" />
    <title>pymatgen.io.abinit.works module &#8212; pymatgen 2019.10.4 documentation</title>
    <link rel="stylesheet" href="_static/proBlue.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <script type="text/javascript" src="_static/language_data.js"></script>
    <script async="async" type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
 
<script type="text/javascript">
  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-33990148-1']);
  _gaq.push(['_trackPageview']);
</script>

  </head><body>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="nav-item nav-item-0"><a href="index.html">pymatgen 2019.10.4 documentation</a> &#187;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="module-pymatgen.io.abinit.works">
<span id="pymatgen-io-abinit-works-module"></span><h1>pymatgen.io.abinit.works module<a class="headerlink" href="#module-pymatgen.io.abinit.works" title="Permalink to this headline">¶</a></h1>
<p>Works for Abinit</p>
<dl class="class">
<dt id="pymatgen.io.abinit.works.Work">
<em class="property">class </em><code class="sig-name descname">Work</code><span class="sig-paren">(</span><em class="sig-param">workdir=None</em>, <em class="sig-param">manager=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pymatgen/io/abinit/works.html#Work"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pymatgen.io.abinit.works.Work" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">pymatgen.io.abinit.works.BaseWork</span></code>, <code class="xref py py-class docutils literal notranslate"><span class="pre">pymatgen.io.abinit.works.NodeContainer</span></code></p>
<p>A Work is a list of (possibly connected) tasks.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>workdir</strong> – Path to the working directory.</p></li>
<li><p><strong>manager</strong> – <code class="xref py py-class docutils literal notranslate"><span class="pre">TaskManager</span></code> object.</p></li>
</ul>
</dd>
</dl>
<dl class="method">
<dt id="pymatgen.io.abinit.works.Work.all_done">
<em class="property">property </em><code class="sig-name descname">all_done</code><a class="headerlink" href="#pymatgen.io.abinit.works.Work.all_done" title="Permalink to this definition">¶</a></dt>
<dd><p>True if all the <code class="xref py py-class docutils literal notranslate"><span class="pre">Task</span></code> objects in the <a class="reference internal" href="#pymatgen.io.abinit.works.Work" title="pymatgen.io.abinit.works.Work"><code class="xref py py-class docutils literal notranslate"><span class="pre">Work</span></code></a> are done.</p>
</dd></dl>

<dl class="method">
<dt id="pymatgen.io.abinit.works.Work.allocate">
<code class="sig-name descname">allocate</code><span class="sig-paren">(</span><em class="sig-param">manager=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pymatgen/io/abinit/works.html#Work.allocate"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pymatgen.io.abinit.works.Work.allocate" title="Permalink to this definition">¶</a></dt>
<dd><p>This function is called once we have completed the initialization
of the <a class="reference internal" href="#pymatgen.io.abinit.works.Work" title="pymatgen.io.abinit.works.Work"><code class="xref py py-class docutils literal notranslate"><span class="pre">Work</span></code></a>. It sets the manager of each task (if not already done)
and defines the working directories of the tasks.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>manager</strong> – <code class="xref py py-class docutils literal notranslate"><span class="pre">TaskManager</span></code> object or None</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="pymatgen.io.abinit.works.Work.build">
<code class="sig-name descname">build</code><span class="sig-paren">(</span><em class="sig-param">*args</em>, <em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pymatgen/io/abinit/works.html#Work.build"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pymatgen.io.abinit.works.Work.build" title="Permalink to this definition">¶</a></dt>
<dd><p>Creates the top level directory.</p>
</dd></dl>

<dl class="method">
<dt id="pymatgen.io.abinit.works.Work.check_status">
<code class="sig-name descname">check_status</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/pymatgen/io/abinit/works.html#Work.check_status"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pymatgen.io.abinit.works.Work.check_status" title="Permalink to this definition">¶</a></dt>
<dd><p>Check the status of the tasks.</p>
</dd></dl>

<dl class="method">
<dt id="pymatgen.io.abinit.works.Work.chroot">
<code class="sig-name descname">chroot</code><span class="sig-paren">(</span><em class="sig-param">new_workdir</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pymatgen/io/abinit/works.html#Work.chroot"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pymatgen.io.abinit.works.Work.chroot" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="pymatgen.io.abinit.works.Work.chunks">
<code class="sig-name descname">chunks</code><span class="sig-paren">(</span><em class="sig-param">chunk_size</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pymatgen/io/abinit/works.html#Work.chunks"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pymatgen.io.abinit.works.Work.chunks" title="Permalink to this definition">¶</a></dt>
<dd><p>Yield successive chunks of tasks of lenght chunk_size.</p>
</dd></dl>

<dl class="method">
<dt id="pymatgen.io.abinit.works.Work.flow">
<em class="property">property </em><code class="sig-name descname">flow</code><a class="headerlink" href="#pymatgen.io.abinit.works.Work.flow" title="Permalink to this definition">¶</a></dt>
<dd><p>The flow containing this <a class="reference internal" href="#pymatgen.io.abinit.works.Work" title="pymatgen.io.abinit.works.Work"><code class="xref py py-class docutils literal notranslate"><span class="pre">Work</span></code></a>.</p>
</dd></dl>

<dl class="method">
<dt id="pymatgen.io.abinit.works.Work.get_all_status">
<code class="sig-name descname">get_all_status</code><span class="sig-paren">(</span><em class="sig-param">only_min=False</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pymatgen/io/abinit/works.html#Work.get_all_status"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pymatgen.io.abinit.works.Work.get_all_status" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a list with the status of the tasks in self.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>only_min</strong> – If True, the minimum of the status is returned.</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="pymatgen.io.abinit.works.Work.isnc">
<em class="property">property </em><code class="sig-name descname">isnc</code><a class="headerlink" href="#pymatgen.io.abinit.works.Work.isnc" title="Permalink to this definition">¶</a></dt>
<dd><p>True if norm-conserving calculation.</p>
</dd></dl>

<dl class="method">
<dt id="pymatgen.io.abinit.works.Work.ispaw">
<em class="property">property </em><code class="sig-name descname">ispaw</code><a class="headerlink" href="#pymatgen.io.abinit.works.Work.ispaw" title="Permalink to this definition">¶</a></dt>
<dd><p>True if PAW calculation.</p>
</dd></dl>

<dl class="method">
<dt id="pymatgen.io.abinit.works.Work.move">
<code class="sig-name descname">move</code><span class="sig-paren">(</span><em class="sig-param">dest</em>, <em class="sig-param">isabspath=False</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pymatgen/io/abinit/works.html#Work.move"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pymatgen.io.abinit.works.Work.move" title="Permalink to this definition">¶</a></dt>
<dd><p>Recursively move self.workdir to another location. This is similar to the Unix “mv” command.
The destination path must not already exist. If the destination already exists
but is not a directory, it may be overwritten depending on os.rename() semantics.</p>
<p>Be default, dest is located in the parent directory of self.workdir, use isabspath=True
to specify an absolute path.</p>
</dd></dl>

<dl class="method">
<dt id="pymatgen.io.abinit.works.Work.opath_from_ext">
<code class="sig-name descname">opath_from_ext</code><span class="sig-paren">(</span><em class="sig-param">ext</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pymatgen/io/abinit/works.html#Work.opath_from_ext"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pymatgen.io.abinit.works.Work.opath_from_ext" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the path of the output file with extension ext.
Use it when the file does not exist yet.</p>
</dd></dl>

<dl class="method">
<dt id="pymatgen.io.abinit.works.Work.parse_timers">
<code class="sig-name descname">parse_timers</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/pymatgen/io/abinit/works.html#Work.parse_timers"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pymatgen.io.abinit.works.Work.parse_timers" title="Permalink to this definition">¶</a></dt>
<dd><p>Parse the TIMER section reported in the ABINIT output files.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p><code class="xref py py-class docutils literal notranslate"><span class="pre">AbinitTimerParser</span></code> object</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="pymatgen.io.abinit.works.Work.path_in_workdir">
<code class="sig-name descname">path_in_workdir</code><span class="sig-paren">(</span><em class="sig-param">filename</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pymatgen/io/abinit/works.html#Work.path_in_workdir"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pymatgen.io.abinit.works.Work.path_in_workdir" title="Permalink to this definition">¶</a></dt>
<dd><p>Create the absolute path of filename in the working directory.</p>
</dd></dl>

<dl class="attribute">
<dt id="pymatgen.io.abinit.works.Work.pos">
<code class="sig-name descname">pos</code><a class="reference internal" href="_modules/pymatgen/io/abinit/works.html#Work.pos"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pymatgen.io.abinit.works.Work.pos" title="Permalink to this definition">¶</a></dt>
<dd><p>The position of self in the <code class="xref py py-class docutils literal notranslate"><span class="pre">Flow</span></code></p>
</dd></dl>

<dl class="method">
<dt id="pymatgen.io.abinit.works.Work.pos_str">
<em class="property">property </em><code class="sig-name descname">pos_str</code><a class="headerlink" href="#pymatgen.io.abinit.works.Work.pos_str" title="Permalink to this definition">¶</a></dt>
<dd><p>String representation of self.pos</p>
</dd></dl>

<dl class="method">
<dt id="pymatgen.io.abinit.works.Work.processes">
<em class="property">property </em><code class="sig-name descname">processes</code><a class="headerlink" href="#pymatgen.io.abinit.works.Work.processes" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a list of objects that support the <cite>subprocess.Popen</cite> protocol.</p>
</dd></dl>

<dl class="method">
<dt id="pymatgen.io.abinit.works.Work.read_etotals">
<code class="sig-name descname">read_etotals</code><span class="sig-paren">(</span><em class="sig-param">unit='Ha'</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pymatgen/io/abinit/works.html#Work.read_etotals"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pymatgen.io.abinit.works.Work.read_etotals" title="Permalink to this definition">¶</a></dt>
<dd><p>Reads the total energy from the GSR file produced by the task.</p>
<p>Return a numpy array with the total energies in Hartree
The array element is set to np.inf if an exception is raised while reading the GSR file.</p>
</dd></dl>

<dl class="method">
<dt id="pymatgen.io.abinit.works.Work.register">
<code class="sig-name descname">register</code><span class="sig-paren">(</span><em class="sig-param">obj</em>, <em class="sig-param">deps=None</em>, <em class="sig-param">required_files=None</em>, <em class="sig-param">manager=None</em>, <em class="sig-param">task_class=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pymatgen/io/abinit/works.html#Work.register"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pymatgen.io.abinit.works.Work.register" title="Permalink to this definition">¶</a></dt>
<dd><p>Registers a new <code class="xref py py-class docutils literal notranslate"><span class="pre">Task</span></code> and add it to the internal list, taking into account possible dependencies.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>obj</strong> – <code class="xref py py-class docutils literal notranslate"><span class="pre">AbinitInput</span></code> instance or <cite>Task</cite> object.</p></li>
<li><p><strong>deps</strong> – Dictionary specifying the dependency of this node or list of dependencies
None means that this obj has no dependency.</p></li>
<li><p><strong>required_files</strong> – List of strings with the path of the files used by the task.
Note that the files must exist when the task is registered.
Use the standard approach based on Works, Tasks and deps
if the files will be produced in the future.</p></li>
<li><p><strong>manager</strong> – The <code class="xref py py-class docutils literal notranslate"><span class="pre">TaskManager</span></code> responsible for the submission of the task. If manager is None, we use
the <cite>TaskManager</cite> specified during the creation of the <a class="reference internal" href="#pymatgen.io.abinit.works.Work" title="pymatgen.io.abinit.works.Work"><code class="xref py py-class docutils literal notranslate"><span class="pre">Work</span></code></a>.</p></li>
<li><p><strong>task_class</strong> – Task subclass to instantiate. Default: <code class="xref py py-class docutils literal notranslate"><span class="pre">AbinitTask</span></code></p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><code class="xref py py-class docutils literal notranslate"><span class="pre">Task</span></code> object</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="pymatgen.io.abinit.works.Work.register_task">
<code class="sig-name descname">register_task</code><span class="sig-paren">(</span><em class="sig-param">obj</em>, <em class="sig-param">deps=None</em>, <em class="sig-param">required_files=None</em>, <em class="sig-param">manager=None</em>, <em class="sig-param">task_class=None</em><span class="sig-paren">)</span><a class="headerlink" href="#pymatgen.io.abinit.works.Work.register_task" title="Permalink to this definition">¶</a></dt>
<dd><p>Registers a new <code class="xref py py-class docutils literal notranslate"><span class="pre">Task</span></code> and add it to the internal list, taking into account possible dependencies.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>obj</strong> – <code class="xref py py-class docutils literal notranslate"><span class="pre">AbinitInput</span></code> instance or <cite>Task</cite> object.</p></li>
<li><p><strong>deps</strong> – Dictionary specifying the dependency of this node or list of dependencies
None means that this obj has no dependency.</p></li>
<li><p><strong>required_files</strong> – List of strings with the path of the files used by the task.
Note that the files must exist when the task is registered.
Use the standard approach based on Works, Tasks and deps
if the files will be produced in the future.</p></li>
<li><p><strong>manager</strong> – The <code class="xref py py-class docutils literal notranslate"><span class="pre">TaskManager</span></code> responsible for the submission of the task. If manager is None, we use
the <cite>TaskManager</cite> specified during the creation of the <a class="reference internal" href="#pymatgen.io.abinit.works.Work" title="pymatgen.io.abinit.works.Work"><code class="xref py py-class docutils literal notranslate"><span class="pre">Work</span></code></a>.</p></li>
<li><p><strong>task_class</strong> – Task subclass to instantiate. Default: <code class="xref py py-class docutils literal notranslate"><span class="pre">AbinitTask</span></code></p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><code class="xref py py-class docutils literal notranslate"><span class="pre">Task</span></code> object</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="pymatgen.io.abinit.works.Work.rm_indatadir">
<code class="sig-name descname">rm_indatadir</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/pymatgen/io/abinit/works.html#Work.rm_indatadir"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pymatgen.io.abinit.works.Work.rm_indatadir" title="Permalink to this definition">¶</a></dt>
<dd><p>Remove all the indata directories.</p>
</dd></dl>

<dl class="method">
<dt id="pymatgen.io.abinit.works.Work.rm_outdatadir">
<code class="sig-name descname">rm_outdatadir</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/pymatgen/io/abinit/works.html#Work.rm_outdatadir"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pymatgen.io.abinit.works.Work.rm_outdatadir" title="Permalink to this definition">¶</a></dt>
<dd><p>Remove all the indata directories.</p>
</dd></dl>

<dl class="method">
<dt id="pymatgen.io.abinit.works.Work.rm_tmpdatadir">
<code class="sig-name descname">rm_tmpdatadir</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/pymatgen/io/abinit/works.html#Work.rm_tmpdatadir"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pymatgen.io.abinit.works.Work.rm_tmpdatadir" title="Permalink to this definition">¶</a></dt>
<dd><p>Remove all the tmpdata directories.</p>
</dd></dl>

<dl class="method">
<dt id="pymatgen.io.abinit.works.Work.rmtree">
<code class="sig-name descname">rmtree</code><span class="sig-paren">(</span><em class="sig-param">exclude_wildcard=''</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pymatgen/io/abinit/works.html#Work.rmtree"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pymatgen.io.abinit.works.Work.rmtree" title="Permalink to this definition">¶</a></dt>
<dd><p>Remove all files and directories in the working directory</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>exclude_wildcard</strong> – Optional string with regular expressions separated by <cite>|</cite>.
Files matching one of the regular expressions will be preserved.
example: exclude_wildard=”<em>.nc|</em>.txt” preserves all the files
whose extension is in [“nc”, “txt”].</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="pymatgen.io.abinit.works.Work.set_flow">
<code class="sig-name descname">set_flow</code><span class="sig-paren">(</span><em class="sig-param">flow</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pymatgen/io/abinit/works.html#Work.set_flow"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pymatgen.io.abinit.works.Work.set_flow" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the flow associated to this <a class="reference internal" href="#pymatgen.io.abinit.works.Work" title="pymatgen.io.abinit.works.Work"><code class="xref py py-class docutils literal notranslate"><span class="pre">Work</span></code></a>.</p>
</dd></dl>

<dl class="method">
<dt id="pymatgen.io.abinit.works.Work.set_manager">
<code class="sig-name descname">set_manager</code><span class="sig-paren">(</span><em class="sig-param">manager</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pymatgen/io/abinit/works.html#Work.set_manager"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pymatgen.io.abinit.works.Work.set_manager" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the <code class="xref py py-class docutils literal notranslate"><span class="pre">TaskManager</span></code> to use to launch the <code class="xref py py-class docutils literal notranslate"><span class="pre">Task</span></code>.</p>
</dd></dl>

<dl class="method">
<dt id="pymatgen.io.abinit.works.Work.set_workdir">
<code class="sig-name descname">set_workdir</code><span class="sig-paren">(</span><em class="sig-param">workdir</em>, <em class="sig-param">chroot=False</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pymatgen/io/abinit/works.html#Work.set_workdir"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pymatgen.io.abinit.works.Work.set_workdir" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the working directory. Cannot be set more than once unless chroot is True</p>
</dd></dl>

<dl class="method">
<dt id="pymatgen.io.abinit.works.Work.setup">
<code class="sig-name descname">setup</code><span class="sig-paren">(</span><em class="sig-param">*args</em>, <em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pymatgen/io/abinit/works.html#Work.setup"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pymatgen.io.abinit.works.Work.setup" title="Permalink to this definition">¶</a></dt>
<dd><p>Method called before running the calculations.
The default implementation is empty.</p>
</dd></dl>

<dl class="method">
<dt id="pymatgen.io.abinit.works.Work.start">
<code class="sig-name descname">start</code><span class="sig-paren">(</span><em class="sig-param">*args</em>, <em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pymatgen/io/abinit/works.html#Work.start"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pymatgen.io.abinit.works.Work.start" title="Permalink to this definition">¶</a></dt>
<dd><p>Start the work. Calls build and _setup first, then submit the tasks.
Non-blocking call unless wait is set to True</p>
</dd></dl>

<dl class="method">
<dt id="pymatgen.io.abinit.works.Work.status">
<em class="property">property </em><code class="sig-name descname">status</code><a class="headerlink" href="#pymatgen.io.abinit.works.Work.status" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the status of the work i.e. the minimum of the status of the tasks.</p>
</dd></dl>

<dl class="method">
<dt id="pymatgen.io.abinit.works.Work.status_counter">
<em class="property">property </em><code class="sig-name descname">status_counter</code><a class="headerlink" href="#pymatgen.io.abinit.works.Work.status_counter" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a <cite>Counter</cite> object that counts the number of task with
given status (use the string representation of the status as key).</p>
</dd></dl>

<dl class="method">
<dt id="pymatgen.io.abinit.works.Work.submit_tasks">
<code class="sig-name descname">submit_tasks</code><span class="sig-paren">(</span><em class="sig-param">wait=False</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pymatgen/io/abinit/works.html#Work.submit_tasks"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pymatgen.io.abinit.works.Work.submit_tasks" title="Permalink to this definition">¶</a></dt>
<dd><p>Submits the task in self and wait.
TODO: change name.</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="pymatgen.io.abinit.works.BandStructureWork">
<em class="property">class </em><code class="sig-name descname">BandStructureWork</code><span class="sig-paren">(</span><em class="sig-param">scf_input</em>, <em class="sig-param">nscf_input</em>, <em class="sig-param">dos_inputs=None</em>, <em class="sig-param">workdir=None</em>, <em class="sig-param">manager=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pymatgen/io/abinit/works.html#BandStructureWork"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pymatgen.io.abinit.works.BandStructureWork" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#pymatgen.io.abinit.works.Work" title="pymatgen.io.abinit.works.Work"><code class="xref py py-class docutils literal notranslate"><span class="pre">pymatgen.io.abinit.works.Work</span></code></a></p>
<p>Work for band structure calculations.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>scf_input</strong> – Input for the SCF run</p></li>
<li><p><strong>nscf_input</strong> – Input for the NSCF run defining the band structure calculation.</p></li>
<li><p><strong>dos_inputs</strong> – Input(s) for the DOS. DOS is computed only if dos_inputs is not None.</p></li>
<li><p><strong>workdir</strong> – Working directory.</p></li>
<li><p><strong>manager</strong> – <code class="xref py py-class docutils literal notranslate"><span class="pre">TaskManager</span></code> object.</p></li>
</ul>
</dd>
</dl>
<dl class="method">
<dt id="pymatgen.io.abinit.works.BandStructureWork.plot_ebands">
<code class="sig-name descname">plot_ebands</code><span class="sig-paren">(</span><em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pymatgen/io/abinit/works.html#BandStructureWork.plot_ebands"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pymatgen.io.abinit.works.BandStructureWork.plot_ebands" title="Permalink to this definition">¶</a></dt>
<dd><p>Plot the band structure. kwargs are passed to the plot method of <code class="xref py py-class docutils literal notranslate"><span class="pre">ElectronBands</span></code>.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p><cite>matplotlib</cite> figure</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="pymatgen.io.abinit.works.BandStructureWork.plot_ebands_with_edos">
<code class="sig-name descname">plot_ebands_with_edos</code><span class="sig-paren">(</span><em class="sig-param">dos_pos=0</em>, <em class="sig-param">method='gaussian'</em>, <em class="sig-param">step=0.01</em>, <em class="sig-param">width=0.1</em>, <em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pymatgen/io/abinit/works.html#BandStructureWork.plot_ebands_with_edos"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pymatgen.io.abinit.works.BandStructureWork.plot_ebands_with_edos" title="Permalink to this definition">¶</a></dt>
<dd><p>Plot the band structure and the DOS.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>dos_pos</strong> – Index of the task from which the DOS should be obtained (note: 0 refers to the first DOS task).</p></li>
<li><p><strong>method</strong> – String defining the method for the computation of the DOS.</p></li>
<li><p><strong>step</strong> – Energy step (eV) of the linear mesh.</p></li>
<li><p><strong>width</strong> – Standard deviation (eV) of the gaussian.</p></li>
<li><p><strong>kwargs</strong> – Keyword arguments passed to <cite>plot_with_edos</cite> method to customize the plot.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><cite>matplotlib</cite> figure.</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="pymatgen.io.abinit.works.BandStructureWork.plot_edoses">
<code class="sig-name descname">plot_edoses</code><span class="sig-paren">(</span><em class="sig-param">dos_pos=None</em>, <em class="sig-param">method='gaussian'</em>, <em class="sig-param">step=0.01</em>, <em class="sig-param">width=0.1</em>, <em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pymatgen/io/abinit/works.html#BandStructureWork.plot_edoses"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pymatgen.io.abinit.works.BandStructureWork.plot_edoses" title="Permalink to this definition">¶</a></dt>
<dd><p>Plot the band structure and the DOS.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>dos_pos</strong> – Index of the task from which the DOS should be obtained.
None is all DOSes should be displayed. Accepts integer or list of integers.</p></li>
<li><p><strong>method</strong> – String defining the method for the computation of the DOS.</p></li>
<li><p><strong>step</strong> – Energy step (eV) of the linear mesh.</p></li>
<li><p><strong>width</strong> – Standard deviation (eV) of the gaussian.</p></li>
<li><p><strong>kwargs</strong> – Keyword arguments passed to <cite>plot</cite> method to customize the plot.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><cite>matplotlib</cite> figure.</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="pymatgen.io.abinit.works.RelaxWork">
<em class="property">class </em><code class="sig-name descname">RelaxWork</code><span class="sig-paren">(</span><em class="sig-param">ion_input</em>, <em class="sig-param">ioncell_input</em>, <em class="sig-param">workdir=None</em>, <em class="sig-param">manager=None</em>, <em class="sig-param">target_dilatmx=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pymatgen/io/abinit/works.html#RelaxWork"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pymatgen.io.abinit.works.RelaxWork" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#pymatgen.io.abinit.works.Work" title="pymatgen.io.abinit.works.Work"><code class="xref py py-class docutils literal notranslate"><span class="pre">pymatgen.io.abinit.works.Work</span></code></a></p>
<p>Work for structural relaxations. The first task relaxes the atomic position
while keeping the unit cell parameters fixed. The second task uses the final
structure to perform a structural relaxation in which both the atomic positions
and the lattice parameters are optimized.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>ion_input</strong> – Input for the relaxation of the ions (cell is fixed)</p></li>
<li><p><strong>ioncell_input</strong> – Input for the relaxation of the ions and the unit cell.</p></li>
<li><p><strong>workdir</strong> – Working directory.</p></li>
<li><p><strong>manager</strong> – <code class="xref py py-class docutils literal notranslate"><span class="pre">TaskManager</span></code> object.</p></li>
</ul>
</dd>
</dl>
<dl class="method">
<dt id="pymatgen.io.abinit.works.RelaxWork.on_ok">
<code class="sig-name descname">on_ok</code><span class="sig-paren">(</span><em class="sig-param">sender</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pymatgen/io/abinit/works.html#RelaxWork.on_ok"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pymatgen.io.abinit.works.RelaxWork.on_ok" title="Permalink to this definition">¶</a></dt>
<dd><p>This callback is called when one task reaches status S_OK.
If sender == self.ion_task, we update the initial structure
used by self.ioncell_task and we unlock it so that the job can be submitted.</p>
</dd></dl>

<dl class="method">
<dt id="pymatgen.io.abinit.works.RelaxWork.plot_ion_relaxation">
<code class="sig-name descname">plot_ion_relaxation</code><span class="sig-paren">(</span><em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pymatgen/io/abinit/works.html#RelaxWork.plot_ion_relaxation"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pymatgen.io.abinit.works.RelaxWork.plot_ion_relaxation" title="Permalink to this definition">¶</a></dt>
<dd><p>Plot the history of the ion-cell relaxation.
kwargs are passed to the plot method of <code class="xref py py-class docutils literal notranslate"><span class="pre">HistFile</span></code></p>
<p>Return <cite>matplotlib</cite> figure or None if hist file is not found.</p>
</dd></dl>

<dl class="method">
<dt id="pymatgen.io.abinit.works.RelaxWork.plot_ioncell_relaxation">
<code class="sig-name descname">plot_ioncell_relaxation</code><span class="sig-paren">(</span><em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pymatgen/io/abinit/works.html#RelaxWork.plot_ioncell_relaxation"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pymatgen.io.abinit.works.RelaxWork.plot_ioncell_relaxation" title="Permalink to this definition">¶</a></dt>
<dd><p>Plot the history of the ion-cell relaxation.
kwargs are passed to the plot method of <code class="xref py py-class docutils literal notranslate"><span class="pre">HistFile</span></code></p>
<p>Return <cite>matplotlib</cite> figure or None if hist file is not found.</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="pymatgen.io.abinit.works.G0W0Work">
<em class="property">class </em><code class="sig-name descname">G0W0Work</code><span class="sig-paren">(</span><em class="sig-param">scf_inputs</em>, <em class="sig-param">nscf_inputs</em>, <em class="sig-param">scr_inputs</em>, <em class="sig-param">sigma_inputs</em>, <em class="sig-param">workdir=None</em>, <em class="sig-param">manager=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pymatgen/io/abinit/works.html#G0W0Work"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pymatgen.io.abinit.works.G0W0Work" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#pymatgen.io.abinit.works.Work" title="pymatgen.io.abinit.works.Work"><code class="xref py py-class docutils literal notranslate"><span class="pre">pymatgen.io.abinit.works.Work</span></code></a></p>
<p>Work for general G0W0 calculations.
All input can be either single inputs or lists of inputs</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>scf_inputs</strong> – Input(s) for the SCF run, if it is a list add all but only link
to the last input (used for convergence studies on the KS band gap)</p></li>
<li><p><strong>nscf_inputs</strong> – Input(s) for the NSCF run, if it is a list add all but only
link to the last (i.e. addditiona DOS and BANDS)</p></li>
<li><p><strong>scr_inputs</strong> – Input for the screening run</p></li>
<li><p><strong>sigma_inputs</strong> – List of :class:AbinitInput`for the self-energy run.
if scr and sigma are lists of the same length, every sigma gets its own screening.
if there is only one screening all sigma inputs are linked to this one</p></li>
<li><p><strong>workdir</strong> – Working directory of the calculation.</p></li>
<li><p><strong>manager</strong> – <code class="xref py py-class docutils literal notranslate"><span class="pre">TaskManager</span></code> object.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="class">
<dt id="pymatgen.io.abinit.works.QptdmWork">
<em class="property">class </em><code class="sig-name descname">QptdmWork</code><span class="sig-paren">(</span><em class="sig-param">workdir=None</em>, <em class="sig-param">manager=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pymatgen/io/abinit/works.html#QptdmWork"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pymatgen.io.abinit.works.QptdmWork" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#pymatgen.io.abinit.works.Work" title="pymatgen.io.abinit.works.Work"><code class="xref py py-class docutils literal notranslate"><span class="pre">pymatgen.io.abinit.works.Work</span></code></a></p>
<p>This work parallelizes the calculation of the q-points of the screening.
It also provides the callback <cite>on_all_ok</cite> that calls mrgscr to merge
all the partial screening files produced.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>workdir</strong> – Path to the working directory.</p></li>
<li><p><strong>manager</strong> – <code class="xref py py-class docutils literal notranslate"><span class="pre">TaskManager</span></code> object.</p></li>
</ul>
</dd>
</dl>
<dl class="method">
<dt id="pymatgen.io.abinit.works.QptdmWork.create_tasks">
<code class="sig-name descname">create_tasks</code><span class="sig-paren">(</span><em class="sig-param">wfk_file</em>, <em class="sig-param">scr_input</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pymatgen/io/abinit/works.html#QptdmWork.create_tasks"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pymatgen.io.abinit.works.QptdmWork.create_tasks" title="Permalink to this definition">¶</a></dt>
<dd><p>Create the SCR tasks and register them in self.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>wfk_file</strong> – Path to the ABINIT WFK file to use for the computation of the screening.</p></li>
<li><p><strong>scr_input</strong> – Input for the screening calculation.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="pymatgen.io.abinit.works.QptdmWork.merge_scrfiles">
<code class="sig-name descname">merge_scrfiles</code><span class="sig-paren">(</span><em class="sig-param">remove_scrfiles=True</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pymatgen/io/abinit/works.html#QptdmWork.merge_scrfiles"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pymatgen.io.abinit.works.QptdmWork.merge_scrfiles" title="Permalink to this definition">¶</a></dt>
<dd><p>This method is called when all the q-points have been computed.
It runs <cite>mrgscr</cite> in sequential on the local machine to produce
the final SCR file in the outdir of the <cite>Work</cite>.
If remove_scrfiles is True, the partial SCR files are removed after the merge.</p>
</dd></dl>

<dl class="method">
<dt id="pymatgen.io.abinit.works.QptdmWork.on_all_ok">
<code class="sig-name descname">on_all_ok</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/pymatgen/io/abinit/works.html#QptdmWork.on_all_ok"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pymatgen.io.abinit.works.QptdmWork.on_all_ok" title="Permalink to this definition">¶</a></dt>
<dd><p>This method is called when all the q-points have been computed.
It runs <cite>mrgscr</cite> in sequential on the local machine to produce
the final SCR file in the outdir of the <cite>Work</cite>.</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="pymatgen.io.abinit.works.SigmaConvWork">
<em class="property">class </em><code class="sig-name descname">SigmaConvWork</code><span class="sig-paren">(</span><em class="sig-param">wfk_node</em>, <em class="sig-param">scr_node</em>, <em class="sig-param">sigma_inputs</em>, <em class="sig-param">workdir=None</em>, <em class="sig-param">manager=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pymatgen/io/abinit/works.html#SigmaConvWork"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pymatgen.io.abinit.works.SigmaConvWork" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#pymatgen.io.abinit.works.Work" title="pymatgen.io.abinit.works.Work"><code class="xref py py-class docutils literal notranslate"><span class="pre">pymatgen.io.abinit.works.Work</span></code></a></p>
<p>Work for self-energy convergence studies.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>wfk_node</strong> – The node who has produced the WFK file or filepath pointing to the WFK file.</p></li>
<li><p><strong>scr_node</strong> – The node who has produced the SCR file or filepath pointing to the SCR file.</p></li>
<li><p><strong>sigma_inputs</strong> – List of <code class="xref py py-class docutils literal notranslate"><span class="pre">AbinitInput</span></code> for the self-energy runs.</p></li>
<li><p><strong>workdir</strong> – Working directory of the calculation.</p></li>
<li><p><strong>manager</strong> – <code class="xref py py-class docutils literal notranslate"><span class="pre">TaskManager</span></code> object.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="class">
<dt id="pymatgen.io.abinit.works.BseMdfWork">
<em class="property">class </em><code class="sig-name descname">BseMdfWork</code><span class="sig-paren">(</span><em class="sig-param">scf_input</em>, <em class="sig-param">nscf_input</em>, <em class="sig-param">bse_inputs</em>, <em class="sig-param">workdir=None</em>, <em class="sig-param">manager=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pymatgen/io/abinit/works.html#BseMdfWork"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pymatgen.io.abinit.works.BseMdfWork" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#pymatgen.io.abinit.works.Work" title="pymatgen.io.abinit.works.Work"><code class="xref py py-class docutils literal notranslate"><span class="pre">pymatgen.io.abinit.works.Work</span></code></a></p>
<p>Work for simple BSE calculations in which the self-energy corrections
are approximated by the scissors operator and the screening is modeled
with the model dielectric function.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>scf_input</strong> – Input for the SCF run.</p></li>
<li><p><strong>nscf_input</strong> – Input for the NSCF run.</p></li>
<li><p><strong>bse_inputs</strong> – List of Inputs for the BSE run.</p></li>
<li><p><strong>workdir</strong> – Working directory of the calculation.</p></li>
<li><p><strong>manager</strong> – <code class="xref py py-class docutils literal notranslate"><span class="pre">TaskManager</span></code>.</p></li>
</ul>
</dd>
</dl>
<dl class="method">
<dt id="pymatgen.io.abinit.works.BseMdfWork.get_mdf_robot">
<code class="sig-name descname">get_mdf_robot</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/pymatgen/io/abinit/works.html#BseMdfWork.get_mdf_robot"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pymatgen.io.abinit.works.BseMdfWork.get_mdf_robot" title="Permalink to this definition">¶</a></dt>
<dd><p>Builds and returns a <code class="xref py py-class docutils literal notranslate"><span class="pre">MdfRobot</span></code> for analyzing the results in the MDF files.</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="pymatgen.io.abinit.works.PhononWork">
<em class="property">class </em><code class="sig-name descname">PhononWork</code><span class="sig-paren">(</span><em class="sig-param">workdir=None</em>, <em class="sig-param">manager=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pymatgen/io/abinit/works.html#PhononWork"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pymatgen.io.abinit.works.PhononWork" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#pymatgen.io.abinit.works.Work" title="pymatgen.io.abinit.works.Work"><code class="xref py py-class docutils literal notranslate"><span class="pre">pymatgen.io.abinit.works.Work</span></code></a>, <code class="xref py py-class docutils literal notranslate"><span class="pre">pymatgen.io.abinit.works.MergeDdb</span></code></p>
<p>This work consists of nirred Phonon tasks where nirred is
the number of irreducible atomic perturbations for a given set of q-points.
It provides the callback method (on_all_ok) that calls mrgddb (mrgdv) to merge
all the partial DDB (POT) files produced. The two files are available in the
output directory of the Work.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>workdir</strong> – Path to the working directory.</p></li>
<li><p><strong>manager</strong> – <code class="xref py py-class docutils literal notranslate"><span class="pre">TaskManager</span></code> object.</p></li>
</ul>
</dd>
</dl>
<dl class="method">
<dt id="pymatgen.io.abinit.works.PhononWork.from_scf_input">
<em class="property">classmethod </em><code class="sig-name descname">from_scf_input</code><span class="sig-paren">(</span><em class="sig-param">scf_input</em>, <em class="sig-param">qpoints</em>, <em class="sig-param">is_ngqpt=False</em>, <em class="sig-param">tolerance=None</em>, <em class="sig-param">with_becs=False</em>, <em class="sig-param">ddk_tolerance=None</em>, <em class="sig-param">manager=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pymatgen/io/abinit/works.html#PhononWork.from_scf_input"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pymatgen.io.abinit.works.PhononWork.from_scf_input" title="Permalink to this definition">¶</a></dt>
<dd><p>Similar to <cite>from_scf_task</cite>, the difference is that this method requires
an input for SCF calculation. A new ScfTask is created and added to the Work.
This API should be used if the DDB of the GS task should be merged.</p>
</dd></dl>

<dl class="method">
<dt id="pymatgen.io.abinit.works.PhononWork.from_scf_task">
<em class="property">classmethod </em><code class="sig-name descname">from_scf_task</code><span class="sig-paren">(</span><em class="sig-param">scf_task</em>, <em class="sig-param">qpoints</em>, <em class="sig-param">is_ngqpt=False</em>, <em class="sig-param">tolerance=None</em>, <em class="sig-param">with_becs=False</em>, <em class="sig-param">ddk_tolerance=None</em>, <em class="sig-param">manager=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pymatgen/io/abinit/works.html#PhononWork.from_scf_task"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pymatgen.io.abinit.works.PhononWork.from_scf_task" title="Permalink to this definition">¶</a></dt>
<dd><p>Construct a <cite>PhononWork</cite> from a <code class="xref py py-class docutils literal notranslate"><span class="pre">ScfTask</span></code> object.
The input file for phonons is automatically generated from the input of the ScfTask.
Each phonon task depends on the WFK file produced by the <cite>scf_task</cite>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>scf_task</strong> – ScfTask object.</p></li>
<li><p><strong>qpoints</strong> – q-points in reduced coordinates. Accepts single q-point, list of q-points
or three integers defining the q-mesh if <cite>is_ngqpt</cite>.</p></li>
<li><p><strong>is_ngqpt</strong> – True if <cite>qpoints</cite> should be interpreted as divisions instead of q-points.</p></li>
<li><p><strong>tolerance</strong> – dict {“varname”: value} with the tolerance to be used in the phonon run.
None to use AbiPy default.</p></li>
<li><p><strong>with_becs</strong> – Activate calculation of Electric field and Born effective charges.</p></li>
<li><p><strong>ddk_tolerance</strong> – dict {“varname”: value} with the tolerance used in the DDK run if with_becs.
None to use AbiPy default.</p></li>
<li><p><strong>manager</strong> – <code class="xref py py-class docutils literal notranslate"><span class="pre">TaskManager</span></code> object.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="pymatgen.io.abinit.works.PhononWork.on_all_ok">
<code class="sig-name descname">on_all_ok</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/pymatgen/io/abinit/works.html#PhononWork.on_all_ok"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pymatgen.io.abinit.works.PhononWork.on_all_ok" title="Permalink to this definition">¶</a></dt>
<dd><p>This method is called when all the q-points have been computed.
Ir runs <cite>mrgddb</cite> in sequential on the local machine to produce
the final DDB file in the outdir of the <cite>Work</cite>.</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="pymatgen.io.abinit.works.PhononWfkqWork">
<em class="property">class </em><code class="sig-name descname">PhononWfkqWork</code><span class="sig-paren">(</span><em class="sig-param">workdir=None</em>, <em class="sig-param">manager=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pymatgen/io/abinit/works.html#PhononWfkqWork"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pymatgen.io.abinit.works.PhononWfkqWork" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#pymatgen.io.abinit.works.Work" title="pymatgen.io.abinit.works.Work"><code class="xref py py-class docutils literal notranslate"><span class="pre">pymatgen.io.abinit.works.Work</span></code></a>, <code class="xref py py-class docutils literal notranslate"><span class="pre">pymatgen.io.abinit.works.MergeDdb</span></code></p>
<p>This work computes phonons with DFPT on an arbitrary q-mesh (usually denser than the k-mesh for electrons)
by computing WKQ files for each q-point.
The number of irreducible atomic perturbations for each q-point are taken into account.
It provides the callback method (on_all_ok) that calls mrgddb (mrgdv) to merge
all the partial DDB (POT) files produced. The two files are available in the
output directory of the Work. The WKQ files are removed at runtime.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>workdir</strong> – Path to the working directory.</p></li>
<li><p><strong>manager</strong> – <code class="xref py py-class docutils literal notranslate"><span class="pre">TaskManager</span></code> object.</p></li>
</ul>
</dd>
</dl>
<dl class="method">
<dt id="pymatgen.io.abinit.works.PhononWfkqWork.from_scf_task">
<em class="property">classmethod </em><code class="sig-name descname">from_scf_task</code><span class="sig-paren">(</span><em class="sig-param">scf_task</em>, <em class="sig-param">ngqpt</em>, <em class="sig-param">ph_tolerance=None</em>, <em class="sig-param">tolwfr=1e-22</em>, <em class="sig-param">nband=None</em>, <em class="sig-param">with_becs=False</em>, <em class="sig-param">ddk_tolerance=None</em>, <em class="sig-param">shiftq=(0</em>, <em class="sig-param">0</em>, <em class="sig-param">0)</em>, <em class="sig-param">is_ngqpt=True</em>, <em class="sig-param">remove_wfkq=True</em>, <em class="sig-param">manager=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pymatgen/io/abinit/works.html#PhononWfkqWork.from_scf_task"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pymatgen.io.abinit.works.PhononWfkqWork.from_scf_task" title="Permalink to this definition">¶</a></dt>
<dd><p>Construct a <cite>PhononWfkqWork</cite> from a <code class="xref py py-class docutils literal notranslate"><span class="pre">ScfTask</span></code> object.
The input files for WFQ and phonons are automatically generated from the input of the ScfTask.
Each phonon task depends on the WFK file produced by scf_task and the associated WFQ file.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>scf_task</strong> – ScfTask object.</p></li>
<li><p><strong>ngqpt</strong> – three integers defining the q-mesh</p></li>
<li><p><strong>with_becs</strong> – Activate calculation of Electric field and Born effective charges.</p></li>
<li><p><strong>ph_tolerance</strong> – dict {“varname”: value} with the tolerance for the phonon run.
None to use AbiPy default.</p></li>
<li><p><strong>tolwfr</strong> – tolerance used to compute WFQ.</p></li>
<li><p><strong>ddk_tolerance</strong> – dict {“varname”: value} with the tolerance used in the DDK run if with_becs.
None to use AbiPy default.</p></li>
<li><p><strong>shiftq</strong> – Q-mesh shift. Multiple shifts are not supported.</p></li>
<li><p><strong>is_ngqpt</strong> – the ngqpt is interpreted as a set of integers defining the q-mesh, otherwise
is an explicit list of q-points</p></li>
<li><p><strong>remove_wfkq</strong> – Remove WKQ files when the children are completed.</p></li>
<li><p><strong>manager</strong> – <code class="xref py py-class docutils literal notranslate"><span class="pre">TaskManager</span></code> object.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="pymatgen.io.abinit.works.PhononWfkqWork.on_all_ok">
<code class="sig-name descname">on_all_ok</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/pymatgen/io/abinit/works.html#PhononWfkqWork.on_all_ok"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pymatgen.io.abinit.works.PhononWfkqWork.on_all_ok" title="Permalink to this definition">¶</a></dt>
<dd><p>This method is called when all the q-points have been computed.
Ir runs <cite>mrgddb</cite> in sequential on the local machine to produce
the final DDB file in the outdir of the <cite>Work</cite>.</p>
</dd></dl>

<dl class="method">
<dt id="pymatgen.io.abinit.works.PhononWfkqWork.on_ok">
<code class="sig-name descname">on_ok</code><span class="sig-paren">(</span><em class="sig-param">sender</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pymatgen/io/abinit/works.html#PhononWfkqWork.on_ok"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pymatgen.io.abinit.works.PhononWfkqWork.on_ok" title="Permalink to this definition">¶</a></dt>
<dd><p>This callback is called when one task reaches status <cite>S_OK</cite>.
It removes the WFKQ file if all its children have reached <cite>S_OK</cite>.</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="pymatgen.io.abinit.works.GKKPWork">
<em class="property">class </em><code class="sig-name descname">GKKPWork</code><span class="sig-paren">(</span><em class="sig-param">workdir=None</em>, <em class="sig-param">manager=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pymatgen/io/abinit/works.html#GKKPWork"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pymatgen.io.abinit.works.GKKPWork" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#pymatgen.io.abinit.works.Work" title="pymatgen.io.abinit.works.Work"><code class="xref py py-class docutils literal notranslate"><span class="pre">pymatgen.io.abinit.works.Work</span></code></a></p>
<p>This work computes electron-phonon matrix elements for all the q-points
present in a DVDB and DDB file</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>workdir</strong> – Path to the working directory.</p></li>
<li><p><strong>manager</strong> – <code class="xref py py-class docutils literal notranslate"><span class="pre">TaskManager</span></code> object.</p></li>
</ul>
</dd>
</dl>
<dl class="method">
<dt id="pymatgen.io.abinit.works.GKKPWork.from_den_ddb_dvdb">
<em class="property">classmethod </em><code class="sig-name descname">from_den_ddb_dvdb</code><span class="sig-paren">(</span><em class="sig-param">inp</em>, <em class="sig-param">den_path</em>, <em class="sig-param">ddb_path</em>, <em class="sig-param">dvdb_path</em>, <em class="sig-param">mpiprocs=1</em>, <em class="sig-param">remove_wfkq=True</em>, <em class="sig-param">qpath=None</em>, <em class="sig-param">with_ddk=True</em>, <em class="sig-param">expand=True</em>, <em class="sig-param">manager=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pymatgen/io/abinit/works.html#GKKPWork.from_den_ddb_dvdb"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pymatgen.io.abinit.works.GKKPWork.from_den_ddb_dvdb" title="Permalink to this definition">¶</a></dt>
<dd><p>Construct a <cite>PhononWfkqWork</cite> from a DDB and DVDB file.
For each q found, a WFQ task and an EPH task computing the matrix elements are created.</p>
</dd></dl>

<dl class="method">
<dt id="pymatgen.io.abinit.works.GKKPWork.from_phononwfkq_work">
<em class="property">classmethod </em><code class="sig-name descname">from_phononwfkq_work</code><span class="sig-paren">(</span><em class="sig-param">phononwfkq_work</em>, <em class="sig-param">nscf_vars={}</em>, <em class="sig-param">remove_wfkq=True</em>, <em class="sig-param">with_ddk=True</em>, <em class="sig-param">manager=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pymatgen/io/abinit/works.html#GKKPWork.from_phononwfkq_work"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pymatgen.io.abinit.works.GKKPWork.from_phononwfkq_work" title="Permalink to this definition">¶</a></dt>
<dd><p>Construct a <cite>GKKPWork</cite> from a <cite>PhononWfkqWork</cite> object.
The WFQ are the ones used for PhononWfkqWork so in principle have only valence bands</p>
</dd></dl>

<dl class="method">
<dt id="pymatgen.io.abinit.works.GKKPWork.on_ok">
<code class="sig-name descname">on_ok</code><span class="sig-paren">(</span><em class="sig-param">sender</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pymatgen/io/abinit/works.html#GKKPWork.on_ok"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pymatgen.io.abinit.works.GKKPWork.on_ok" title="Permalink to this definition">¶</a></dt>
<dd><p>This callback is called when one task reaches status <cite>S_OK</cite>.
It removes the WFKQ file if all its children have reached <cite>S_OK</cite>.</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="pymatgen.io.abinit.works.BecWork">
<em class="property">class </em><code class="sig-name descname">BecWork</code><span class="sig-paren">(</span><em class="sig-param">workdir=None</em>, <em class="sig-param">manager=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pymatgen/io/abinit/works.html#BecWork"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pymatgen.io.abinit.works.BecWork" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#pymatgen.io.abinit.works.Work" title="pymatgen.io.abinit.works.Work"><code class="xref py py-class docutils literal notranslate"><span class="pre">pymatgen.io.abinit.works.Work</span></code></a>, <code class="xref py py-class docutils literal notranslate"><span class="pre">pymatgen.io.abinit.works.MergeDdb</span></code></p>
<p>Work for the computation of the Born effective charges.</p>
<p>This work consists of DDK tasks and phonon + electric field perturbation
It provides the callback method (on_all_ok) that calls mrgddb to merge the
partial DDB files produced by the work.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>workdir</strong> – Path to the working directory.</p></li>
<li><p><strong>manager</strong> – <code class="xref py py-class docutils literal notranslate"><span class="pre">TaskManager</span></code> object.</p></li>
</ul>
</dd>
</dl>
<dl class="method">
<dt id="pymatgen.io.abinit.works.BecWork.from_scf_task">
<em class="property">classmethod </em><code class="sig-name descname">from_scf_task</code><span class="sig-paren">(</span><em class="sig-param">scf_task</em>, <em class="sig-param">ddk_tolerance=None</em>, <em class="sig-param">ph_tolerance=None</em>, <em class="sig-param">manager=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pymatgen/io/abinit/works.html#BecWork.from_scf_task"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pymatgen.io.abinit.works.BecWork.from_scf_task" title="Permalink to this definition">¶</a></dt>
<dd><p>Build tasks for the computation of Born effective charges from a ground-state task.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>scf_task</strong> – ScfTask object.</p></li>
<li><p><strong>ddk_tolerance</strong> – tolerance used in the DDK run if with_becs. None to use AbiPy default.</p></li>
<li><p><strong>ph_tolerance</strong> – dict {“varname”: value} with the tolerance used in the phonon run.
None to use AbiPy default.</p></li>
<li><p><strong>manager</strong> – <code class="xref py py-class docutils literal notranslate"><span class="pre">TaskManager</span></code> object.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="pymatgen.io.abinit.works.BecWork.on_all_ok">
<code class="sig-name descname">on_all_ok</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/pymatgen/io/abinit/works.html#BecWork.on_all_ok"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pymatgen.io.abinit.works.BecWork.on_all_ok" title="Permalink to this definition">¶</a></dt>
<dd><p>This method is called when all tasks reach S_OK
Ir runs <cite>mrgddb</cite> in sequential on the local machine to produce
the final DDB file in the outdir of the <cite>Work</cite>.</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="pymatgen.io.abinit.works.DteWork">
<em class="property">class </em><code class="sig-name descname">DteWork</code><span class="sig-paren">(</span><em class="sig-param">workdir=None</em>, <em class="sig-param">manager=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pymatgen/io/abinit/works.html#DteWork"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pymatgen.io.abinit.works.DteWork" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#pymatgen.io.abinit.works.Work" title="pymatgen.io.abinit.works.Work"><code class="xref py py-class docutils literal notranslate"><span class="pre">pymatgen.io.abinit.works.Work</span></code></a>, <code class="xref py py-class docutils literal notranslate"><span class="pre">pymatgen.io.abinit.works.MergeDdb</span></code></p>
<p>Work for the computation of the third derivative of the energy.</p>
<p>This work consists of DDK tasks and electric field perturbation.
It provides the callback method (on_all_ok) that calls mrgddb to merge the partial DDB files produced</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>workdir</strong> – Path to the working directory.</p></li>
<li><p><strong>manager</strong> – <code class="xref py py-class docutils literal notranslate"><span class="pre">TaskManager</span></code> object.</p></li>
</ul>
</dd>
</dl>
<dl class="method">
<dt id="pymatgen.io.abinit.works.DteWork.from_scf_task">
<em class="property">classmethod </em><code class="sig-name descname">from_scf_task</code><span class="sig-paren">(</span><em class="sig-param">scf_task</em>, <em class="sig-param">ddk_tolerance=None</em>, <em class="sig-param">manager=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pymatgen/io/abinit/works.html#DteWork.from_scf_task"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pymatgen.io.abinit.works.DteWork.from_scf_task" title="Permalink to this definition">¶</a></dt>
<dd><p>Build a DteWork from a ground-state task.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>scf_task</strong> – ScfTask object.</p></li>
<li><p><strong>ddk_tolerance</strong> – tolerance used in the DDK run if with_becs. None to use AbiPy default.</p></li>
<li><p><strong>manager</strong> – <code class="xref py py-class docutils literal notranslate"><span class="pre">TaskManager</span></code> object.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="pymatgen.io.abinit.works.DteWork.on_all_ok">
<code class="sig-name descname">on_all_ok</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/pymatgen/io/abinit/works.html#DteWork.on_all_ok"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pymatgen.io.abinit.works.DteWork.on_all_ok" title="Permalink to this definition">¶</a></dt>
<dd><p>This method is called when all tasks reach S_OK
Ir runs <cite>mrgddb</cite> in sequential on the local machine to produce
the final DDB file in the outdir of the <cite>Work</cite>.</p>
</dd></dl>

</dd></dl>

</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="_sources/pymatgen.io.abinit.works.rst.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" />
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="nav-item nav-item-0"><a href="index.html">pymatgen 2019.10.4 documentation</a> &#187;</li> 
      </ul>
    </div>

    <div class="footer" role="contentinfo">
        &#169; Copyright 2011, Pymatgen Development Team.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 2.2.0.
    </div>
<div class="footer">This page uses <a href="http://analytics.google.com/">
Google Analytics</a> to collect statistics. You can disable it by blocking
the JavaScript coming from www.google-analytics.com.
<script type="text/javascript">
  (function() {
    var ga = document.createElement('script');
    ga.src = ('https:' == document.location.protocol ?
              'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    ga.setAttribute('async', 'true');
    document.documentElement.firstChild.appendChild(ga);
  })();
</script>
</div>

  </body>
</html>

<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="X-UA-Compatible" content="IE=Edge" />
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>pymatgen.analysis.path_finder module &#8212; pymatgen 2018.9.12 documentation</title>
    <link rel="stylesheet" href="_static/proBlue.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <script async="async" type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <link rel="shortcut icon" href="_static/favicon.ico"/>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
 
<script type="text/javascript">
  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-33990148-1']);
  _gaq.push(['_trackPageview']);
</script>

  </head><body>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="nav-item nav-item-0"><a href="index.html">pymatgen 2018.9.12 documentation</a> &#187;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="module-pymatgen.analysis.path_finder">
<span id="pymatgen-analysis-path-finder-module"></span><h1>pymatgen.analysis.path_finder module<a class="headerlink" href="#module-pymatgen.analysis.path_finder" title="Permalink to this headline">¶</a></h1>
<p>This module finds diffusion paths through a structure based on a given
potential field.</p>
<p>If you use PathFinder algorithm for your research, please consider citing the
following work:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Ziqin</span> <span class="n">Rong</span><span class="p">,</span> <span class="n">Daniil</span> <span class="n">Kitchaev</span><span class="p">,</span> <span class="n">Pieremanuele</span> <span class="n">Canepa</span><span class="p">,</span> <span class="n">Wenxuan</span> <span class="n">Huang</span><span class="p">,</span> <span class="n">Gerbrand</span>
<span class="n">Ceder</span><span class="p">,</span> <span class="n">The</span> <span class="n">Journal</span> <span class="n">of</span> <span class="n">Chemical</span> <span class="n">Physics</span> <span class="mi">145</span> <span class="p">(</span><span class="mi">7</span><span class="p">),</span> <span class="mi">074112</span>
</pre></div>
</div>
<dl class="class">
<dt id="pymatgen.analysis.path_finder.ChgcarPotential">
<em class="property">class </em><code class="descname">ChgcarPotential</code><span class="sig-paren">(</span><em>chgcar</em>, <em>smear=False</em>, <em>normalize=True</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pymatgen/analysis/path_finder.html#ChgcarPotential"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pymatgen.analysis.path_finder.ChgcarPotential" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#pymatgen.analysis.path_finder.StaticPotential" title="pymatgen.analysis.path_finder.StaticPotential"><code class="xref py py-class docutils literal notranslate"><span class="pre">pymatgen.analysis.path_finder.StaticPotential</span></code></a></p>
<p>Implements a potential field based on the charge density output from VASP.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>chgcar</strong> – Chgcar object based on a VASP run of the structure of
interest (Chgcar.from_file(“CHGCAR”))</li>
<li><strong>smear</strong> – Whether or not to apply a Gaussian smearing to the
potential</li>
<li><strong>normalize</strong> – Whether or not to normalize the potential to range
from 0 to 1</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="class">
<dt id="pymatgen.analysis.path_finder.FreeVolumePotential">
<em class="property">class </em><code class="descname">FreeVolumePotential</code><span class="sig-paren">(</span><em>struct</em>, <em>dim</em>, <em>smear=False</em>, <em>normalize=True</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pymatgen/analysis/path_finder.html#FreeVolumePotential"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pymatgen.analysis.path_finder.FreeVolumePotential" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#pymatgen.analysis.path_finder.StaticPotential" title="pymatgen.analysis.path_finder.StaticPotential"><code class="xref py py-class docutils literal notranslate"><span class="pre">pymatgen.analysis.path_finder.StaticPotential</span></code></a></p>
<p>Implements a potential field based on geometric distances from atoms in the
structure - basically, the potential
is lower at points farther away from any atoms in the structure.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>struct</strong> – Unit cell on which to base the potential</li>
<li><strong>dim</strong> – Grid size for the potential</li>
<li><strong>smear</strong> – Whether or not to apply a Gaussian smearing to the
potential</li>
<li><strong>normalize</strong> – Whether or not to normalize the potential to range
from 0 to 1</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="class">
<dt id="pymatgen.analysis.path_finder.MixedPotential">
<em class="property">class </em><code class="descname">MixedPotential</code><span class="sig-paren">(</span><em>potentials</em>, <em>coefficients</em>, <em>smear=False</em>, <em>normalize=True</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pymatgen/analysis/path_finder.html#MixedPotential"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pymatgen.analysis.path_finder.MixedPotential" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#pymatgen.analysis.path_finder.StaticPotential" title="pymatgen.analysis.path_finder.StaticPotential"><code class="xref py py-class docutils literal notranslate"><span class="pre">pymatgen.analysis.path_finder.StaticPotential</span></code></a></p>
<p>Implements a potential that is a weighted sum of some other potentials</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>potentials</strong> – List of objects extending the StaticPotential superclass</li>
<li><strong>coefficients</strong> – Mixing weights for the elements of the potentials list</li>
<li><strong>smear</strong> – Whether or not to apply a Gaussian smearing to the potential</li>
<li><strong>normalize</strong> – Whether or not to normalize the potential to range from
0 to 1</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="class">
<dt id="pymatgen.analysis.path_finder.NEBPathfinder">
<em class="property">class </em><code class="descname">NEBPathfinder</code><span class="sig-paren">(</span><em>start_struct</em>, <em>end_struct</em>, <em>relax_sites</em>, <em>v</em>, <em>n_images=20</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pymatgen/analysis/path_finder.html#NEBPathfinder"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pymatgen.analysis.path_finder.NEBPathfinder" title="Permalink to this definition">¶</a></dt>
<dd><p>General pathfinder for interpolating between two structures, where the
interpolating path is calculated with the elastic band method with
respect to the given static potential for sites whose indices are given
in relax_sites, and is linear otherwise.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>end_struct</strong> (<em>start_struct</em><em>,</em>) – Endpoint structures to interpolate</li>
<li><strong>relax_sites</strong> – List of site indices whose interpolation paths should
be relaxed</li>
<li><strong>v</strong> – Static potential field to use for the elastic band relaxation</li>
<li><strong>n_images</strong> – Number of interpolation images to generate</li>
</ul>
</td>
</tr>
</tbody>
</table>
<dl class="attribute">
<dt id="pymatgen.analysis.path_finder.NEBPathfinder.images">
<code class="descname">images</code><a class="headerlink" href="#pymatgen.analysis.path_finder.NEBPathfinder.images" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a list of structures interpolating between the start and
endpoint structures.</p>
</dd></dl>

<dl class="method">
<dt id="pymatgen.analysis.path_finder.NEBPathfinder.interpolate">
<code class="descname">interpolate</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/pymatgen/analysis/path_finder.html#NEBPathfinder.interpolate"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pymatgen.analysis.path_finder.NEBPathfinder.interpolate" title="Permalink to this definition">¶</a></dt>
<dd><p>Finds a set of n_images from self.s1 to self.s2, where all sites except
for the ones given in relax_sites, the interpolation is linear (as in
pymatgen.core.structure.interpolate), and for the site indices given
in relax_sites, the path is relaxed by the elastic band method within
the static potential V.</p>
</dd></dl>

<dl class="method">
<dt id="pymatgen.analysis.path_finder.NEBPathfinder.plot_images">
<code class="descname">plot_images</code><span class="sig-paren">(</span><em>outfile</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pymatgen/analysis/path_finder.html#NEBPathfinder.plot_images"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pymatgen.analysis.path_finder.NEBPathfinder.plot_images" title="Permalink to this definition">¶</a></dt>
<dd><p>Generates a POSCAR with the calculated diffusion path with respect to the first endpoint.
:param outfile: Output file for the POSCAR</p>
</dd></dl>

<dl class="staticmethod">
<dt id="pymatgen.analysis.path_finder.NEBPathfinder.string_relax">
<em class="property">static </em><code class="descname">string_relax</code><span class="sig-paren">(</span><em>start</em>, <em>end</em>, <em>V</em>, <em>n_images=25</em>, <em>dr=None</em>, <em>h=3.0</em>, <em>k=0.17</em>, <em>min_iter=100</em>, <em>max_iter=10000</em>, <em>max_tol=5e-06</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pymatgen/analysis/path_finder.html#NEBPathfinder.string_relax"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pymatgen.analysis.path_finder.NEBPathfinder.string_relax" title="Permalink to this definition">¶</a></dt>
<dd><p>Implements path relaxation via the elastic band method. In general, the
method is to define a path by a set of points (images) connected with
bands with some elasticity constant k. The images then relax along the
forces found in the potential field V, counterbalanced by the elastic
response of the elastic band. In general the endpoints of the band can
be allowed to relax also to their local minima, but in this calculation
they are kept fixed.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>end</strong> (<em>start</em><em>,</em>) – Endpoints of the path calculation given in discrete
coordinates with respect to the grid in V</li>
<li><strong>V</strong> – potential field through which to calculate the path</li>
<li><strong>n_images</strong> – number of images used to define the path. In general
anywhere from 20 to 40 seems to be good.</li>
<li><strong>dr</strong> – Conversion ratio from discrete coordinates to real coordinates
for each of the three coordinate vectors</li>
<li><strong>h</strong> – Step size for the relaxation. h = 0.1 works reliably, but is
slow. h=10 diverges with large gradients but for the types of
gradients seen in CHGCARs, works pretty reliably</li>
<li><strong>k</strong> – Elastic constant for the band (in real units, not discrete)</li>
<li><strong>max_iter</strong> (<em>min_iter</em><em>,</em>) – Number of optimization steps the string will
take before exiting (even if unconverged)</li>
<li><strong>max_tol</strong> – Convergence threshold such that if the string moves by
less than max_tol in a step, and at least min_iter steps have
passed, the algorithm will terminate. Depends strongly on the
size of the gradients in V, but 5e-6 works reasonably well for
CHGCARs.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="pymatgen.analysis.path_finder.StaticPotential">
<em class="property">class </em><code class="descname">StaticPotential</code><span class="sig-paren">(</span><em>struct</em>, <em>pot</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pymatgen/analysis/path_finder.html#StaticPotential"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pymatgen.analysis.path_finder.StaticPotential" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Defines a general static potential for diffusion calculations. Implements
grid-rescaling and smearing for the potential grid. Also provides a
function to normalize the potential from 0 to 1 (recommended).</p>
<dl class="method">
<dt id="pymatgen.analysis.path_finder.StaticPotential.gaussian_smear">
<code class="descname">gaussian_smear</code><span class="sig-paren">(</span><em>r</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pymatgen/analysis/path_finder.html#StaticPotential.gaussian_smear"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pymatgen.analysis.path_finder.StaticPotential.gaussian_smear" title="Permalink to this definition">¶</a></dt>
<dd><p>Applies an isotropic Gaussian smear of width (standard deviation) r to
the potential field. This is necessary to avoid finding paths through
narrow minima or nodes that may exist in the field (although any
potential or charge distribution generated from GGA should be
relatively smooth anyway). The smearing obeys periodic
boundary conditions at the edges of the cell.</p>
<dl class="docutils">
<dt>:param r - Smearing width in cartesian coordinates, in the same units</dt>
<dd>as the structure lattice vectors</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="pymatgen.analysis.path_finder.StaticPotential.get_v">
<code class="descname">get_v</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/pymatgen/analysis/path_finder.html#StaticPotential.get_v"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pymatgen.analysis.path_finder.StaticPotential.get_v" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the potential</p>
</dd></dl>

<dl class="method">
<dt id="pymatgen.analysis.path_finder.StaticPotential.normalize">
<code class="descname">normalize</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/pymatgen/analysis/path_finder.html#StaticPotential.normalize"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pymatgen.analysis.path_finder.StaticPotential.normalize" title="Permalink to this definition">¶</a></dt>
<dd><p>Sets the potential range 0 to 1.</p>
</dd></dl>

<dl class="method">
<dt id="pymatgen.analysis.path_finder.StaticPotential.rescale_field">
<code class="descname">rescale_field</code><span class="sig-paren">(</span><em>new_dim</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pymatgen/analysis/path_finder.html#StaticPotential.rescale_field"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pymatgen.analysis.path_finder.StaticPotential.rescale_field" title="Permalink to this definition">¶</a></dt>
<dd><p>Changes the discretization of the potential field by linear
interpolation. This is necessary if the potential field
obtained from DFT is strangely skewed, or is too fine or coarse. Obeys
periodic boundary conditions at the edges of
the cell. Alternatively useful for mixing potentials that originally
are on different grids.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>new_dim</strong> – tuple giving the numpy shape of the new grid</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="_sources/pymatgen.analysis.path_finder.rst.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    </div>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="nav-item nav-item-0"><a href="index.html">pymatgen 2018.9.12 documentation</a> &#187;</li> 
      </ul>
    </div>

    <div class="footer" role="contentinfo">
        &#169; Copyright 2011, Pymatgen Development Team.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.8.0.
    </div>
<div class="footer">This page uses <a href="http://analytics.google.com/">
Google Analytics</a> to collect statistics. You can disable it by blocking
the JavaScript coming from www.google-analytics.com.
<script type="text/javascript">
  (function() {
    var ga = document.createElement('script');
    ga.src = ('https:' == document.location.protocol ?
              'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    ga.setAttribute('async', 'true');
    document.documentElement.firstChild.appendChild(ga);
  })();
</script>
</div>

  </body>
</html>
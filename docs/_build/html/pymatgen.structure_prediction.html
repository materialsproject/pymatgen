
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>structure_prediction Package &mdash; pymatgen 2.8.8 documentation</title>
    
    <link rel="stylesheet" href="_static/proBlue.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '',
        VERSION:     '2.8.8',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <link rel="shortcut icon" href="_static/favicon.ico"/>
    <link rel="top" title="pymatgen 2.8.8 documentation" href="index.html" />
 
<script type="text/javascript">
  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-33990148-1']);
  _gaq.push(['_trackPageview']);
</script>

  </head>
  <body>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li><a href="index.html">pymatgen 2.8.8 documentation</a> &raquo;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="structure-prediction-package">
<h1>structure_prediction Package<a class="headerlink" href="#structure-prediction-package" title="Permalink to this headline">¶</a></h1>
<div class="section" id="module-pymatgen.structure_prediction.substitution_probability">
<span id="substitution-probability-module"></span><h2><tt class="xref py py-mod docutils literal"><span class="pre">substitution_probability</span></tt> Module<a class="headerlink" href="#module-pymatgen.structure_prediction.substitution_probability" title="Permalink to this headline">¶</a></h2>
<p>This module provides classes for representing species substitution
probabilities.</p>
<dl class="class">
<dt id="pymatgen.structure_prediction.substitution_probability.SubstitutionPredictor">
<em class="property">class </em><tt class="descname">SubstitutionPredictor</tt><big>(</big><em>lambda_table=None</em>, <em>alpha=-5</em>, <em>threshold=0.001</em><big>)</big><a class="reference internal" href="_modules/pymatgen/structure_prediction/substitution_probability.html#SubstitutionPredictor"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pymatgen.structure_prediction.substitution_probability.SubstitutionPredictor" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <tt class="xref py py-class docutils literal"><span class="pre">object</span></tt></p>
<p>Predicts likely substitutions either to or from a given composition
or species list using the SubstitutionProbability</p>
<dl class="method">
<dt id="pymatgen.structure_prediction.substitution_probability.SubstitutionPredictor.composition_prediction">
<tt class="descname">composition_prediction</tt><big>(</big><em>composition</em>, <em>to_this_composition=True</em><big>)</big><a class="reference internal" href="_modules/pymatgen/structure_prediction/substitution_probability.html#SubstitutionPredictor.composition_prediction"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pymatgen.structure_prediction.substitution_probability.SubstitutionPredictor.composition_prediction" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns charged balanced substitutions from a starting or ending
composition.</p>
<dl class="docutils">
<dt>Args:</dt>
<dd><dl class="first last docutils">
<dt>composition:</dt>
<dd>starting or ending composition</dd>
<dt>to_this_composition:</dt>
<dd>If true, substitutions with this as a final composition
will be found. If false, substitutions with this as a
starting composition will be found (these are slightly
different)</dd>
</dl>
</dd>
<dt>Returns:</dt>
<dd>List of predictions in the form of dictionaries.
If to_this_composition is true, the values of the dictionary
will be from the list species. If false, the keys will be
from that list.</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="pymatgen.structure_prediction.substitution_probability.SubstitutionPredictor.list_prediction">
<tt class="descname">list_prediction</tt><big>(</big><em>species</em>, <em>to_this_composition=True</em><big>)</big><a class="reference internal" href="_modules/pymatgen/structure_prediction/substitution_probability.html#SubstitutionPredictor.list_prediction"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pymatgen.structure_prediction.substitution_probability.SubstitutionPredictor.list_prediction" title="Permalink to this definition">¶</a></dt>
<dd><dl class="docutils">
<dt>Args:</dt>
<dd><dl class="first last docutils">
<dt>species:</dt>
<dd>list of species</dd>
<dt>to_this_composition:</dt>
<dd>If true, substitutions with this as a final composition
will be found. If false, substitutions with this as a
starting composition will be found (these are slightly
different)</dd>
</dl>
</dd>
<dt>Returns:</dt>
<dd>List of predictions in the form of dictionaries.
If to_this_composition is true, the values of the dictionary
will be from the list species. If false, the keys will be
from that list.</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="pymatgen.structure_prediction.substitution_probability.SubstitutionProbability">
<em class="property">class </em><tt class="descname">SubstitutionProbability</tt><big>(</big><em>*args</em>, <em>**kwds</em><big>)</big><a class="reference internal" href="_modules/pymatgen/structure_prediction/substitution_probability.html#SubstitutionProbability"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pymatgen.structure_prediction.substitution_probability.SubstitutionProbability" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#pymatgen.structure_prediction.substitution_probability.SubstitutionProbability" title="pymatgen.structure_prediction.substitution_probability.SubstitutionProbability"><tt class="xref py py-class docutils literal"><span class="pre">pymatgen.structure_prediction.substitution_probability.SubstitutionProbability</span></tt></a></p>
<p>This class finds substitution probabilities given lists of atoms
to substitute. The inputs make more sense if you look through the
from_defaults static method.</p>
<p>The substitution prediction algorithm is presented in:
Hautier, G., Fischer, C., Ehrlacher, V., Jain, A., and Ceder, G. (2011)
Data Mined Ionic Substitutions for the Discovery of New Compounds.
Inorganic Chemistry, 50(2), 656-663. doi:10.1021/ic102031h</p>
<dl class="docutils">
<dt>Args:</dt>
<dd><dl class="first last docutils">
<dt>lambda_table:</dt>
<dd>json table of the weight functions lambda if None,
will use the default lambda.json table</dd>
<dt>alpha:</dt>
<dd>weight function for never observed substitutions</dd>
</dl>
</dd>
</dl>
</dd></dl>

</div>
<div class="section" id="module-pymatgen.structure_prediction.substitutor">
<span id="substitutor-module"></span><h2><tt class="xref py py-mod docutils literal"><span class="pre">substitutor</span></tt> Module<a class="headerlink" href="#module-pymatgen.structure_prediction.substitutor" title="Permalink to this headline">¶</a></h2>
<p>This module provides classes for predicting new structures from existing ones.</p>
<dl class="class">
<dt id="pymatgen.structure_prediction.substitutor.Substitutor">
<em class="property">class </em><tt class="descname">Substitutor</tt><big>(</big><em>threshold=0.001</em>, <em>symprec=0.1</em>, <em>**kwargs</em><big>)</big><a class="reference internal" href="_modules/pymatgen/structure_prediction/substitutor.html#Substitutor"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pymatgen.structure_prediction.substitutor.Substitutor" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="pymatgen.serializers.html#pymatgen.serializers.json_coders.MSONable" title="pymatgen.serializers.json_coders.MSONable"><tt class="xref py py-class docutils literal"><span class="pre">pymatgen.serializers.json_coders.MSONable</span></tt></a></p>
<p>This object uses a data mined ionic substitution approach to propose
compounds likely to be stable. It relies on an algorithm presented in
Hautier, G., Fischer, C., Ehrlacher, V., Jain, A., and Ceder, G. (2011).
Data Mined Ionic Substitutions for the Discovery of New Compounds.
Inorganic Chemistry, 50(2), 656-663. doi:10.1021/ic102031h</p>
<p>This substitutor uses the substitution probability class to
find good substitutions for a given chemistry or structure.</p>
<dl class="docutils">
<dt>Args:</dt>
<dd><dl class="first last docutils">
<dt>threshold:</dt>
<dd>probability threshold for predictions</dd>
<dt>symprec:</dt>
<dd>symmetry precision to determine if two structures
are duplicates</dd>
<dt>kwargs:</dt>
<dd>kwargs for the SubstitutionProbability object
lambda_table, alpha</dd>
</dl>
</dd>
</dl>
<dl class="classmethod">
<dt id="pymatgen.structure_prediction.substitutor.Substitutor.from_dict">
<em class="property">classmethod </em><tt class="descname">from_dict</tt><big>(</big><em>d</em><big>)</big><a class="reference internal" href="_modules/pymatgen/structure_prediction/substitutor.html#Substitutor.from_dict"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pymatgen.structure_prediction.substitutor.Substitutor.from_dict" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="pymatgen.structure_prediction.substitutor.Substitutor.get_allowed_species">
<tt class="descname">get_allowed_species</tt><big>(</big><big>)</big><a class="reference internal" href="_modules/pymatgen/structure_prediction/substitutor.html#Substitutor.get_allowed_species"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pymatgen.structure_prediction.substitutor.Substitutor.get_allowed_species" title="Permalink to this definition">¶</a></dt>
<dd><p>returns the species in the domain of the probability function
any other specie will not work</p>
</dd></dl>

<dl class="method">
<dt id="pymatgen.structure_prediction.substitutor.Substitutor.pred_from_comp">
<tt class="descname">pred_from_comp</tt><big>(</big><em>composition</em><big>)</big><a class="reference internal" href="_modules/pymatgen/structure_prediction/substitutor.html#Substitutor.pred_from_comp"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pymatgen.structure_prediction.substitutor.Substitutor.pred_from_comp" title="Permalink to this definition">¶</a></dt>
<dd><p>Similar to pred_from_list except this method returns a list after
checking that compositions are charge balanced.</p>
</dd></dl>

<dl class="method">
<dt id="pymatgen.structure_prediction.substitutor.Substitutor.pred_from_list">
<tt class="descname">pred_from_list</tt><big>(</big><em>species_list</em><big>)</big><a class="reference internal" href="_modules/pymatgen/structure_prediction/substitutor.html#Substitutor.pred_from_list"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pymatgen.structure_prediction.substitutor.Substitutor.pred_from_list" title="Permalink to this definition">¶</a></dt>
<dd><p>There are an exceptionally large number of substitutions to
look at (260^n), where n is the number of species in the
list. We need a more efficient than brute force way of going
through these possibilities. The brute force method would be:</p>
<div class="highlight-python"><pre>output = []
for p in itertools.product(self._sp.species_list
                           , repeat = len(species_list)):
    if self._sp.conditional_probability_list(p, species_list)
                           &gt; self._threshold:
        output.append(dict(zip(species_list,p)))
return output</pre>
</div>
<p>Instead of that we do a branch and bound.</p>
<dl class="docutils">
<dt>Args:</dt>
<dd><dl class="first last docutils">
<dt>species_list:</dt>
<dd>list of species in the starting structure</dd>
</dl>
</dd>
<dt>Returns:</dt>
<dd>list of dictionaries, each including a substitutions
dictionary, and a probability value</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="pymatgen.structure_prediction.substitutor.Substitutor.pred_from_structures">
<tt class="descname">pred_from_structures</tt><big>(</big><em>target_species</em>, <em>structures_list</em>, <em>remove_duplicates=True</em><big>)</big><a class="reference internal" href="_modules/pymatgen/structure_prediction/substitutor.html#Substitutor.pred_from_structures"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pymatgen.structure_prediction.substitutor.Substitutor.pred_from_structures" title="Permalink to this definition">¶</a></dt>
<dd><p>performs a structure prediction targeting compounds containing the
target_species and based on a list of structure (those structures
can for instance come from a database like the ICSD). It will return
all the structures formed by ionic substitutions with a probability
higher than the threshold</p>
<dl class="docutils">
<dt>Args:</dt>
<dd><dl class="first last docutils">
<dt>target_species:</dt>
<dd>a list of species with oxidation states
e.g., [Specie(&#8216;Li&#8217;,1),Specie(&#8216;Ni&#8217;,2), Specie(&#8216;O&#8217;,-2)]</dd>
<dt>structures_list:</dt>
<dd>a list of dictionnary of the form {&#8216;structure&#8217;:Structure object
,&#8217;id&#8217;:some id where it comes from}
the id can for instance refer to an ICSD id</dd>
</dl>
</dd>
<dt>Returns:</dt>
<dd>a list of TransformedStructure objects.</dd>
</dl>
</dd></dl>

<dl class="attribute">
<dt id="pymatgen.structure_prediction.substitutor.Substitutor.to_dict">
<tt class="descname">to_dict</tt><a class="reference internal" href="_modules/pymatgen/structure_prediction/substitutor.html#Substitutor.to_dict"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pymatgen.structure_prediction.substitutor.Substitutor.to_dict" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
  <h3><a href="index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">structure_prediction Package</a><ul>
<li><a class="reference internal" href="#module-pymatgen.structure_prediction.substitution_probability"><tt class="docutils literal"><span class="pre">substitution_probability</span></tt> Module</a></li>
<li><a class="reference internal" href="#module-pymatgen.structure_prediction.substitutor"><tt class="docutils literal"><span class="pre">substitutor</span></tt> Module</a></li>
</ul>
</li>
</ul>

  <h3>This Page</h3>
  <ul class="this-page-menu">
    <li><a href="_sources/pymatgen.structure_prediction.txt"
           rel="nofollow">Show Source</a></li>
  </ul>
<div id="searchbox" style="display: none">
  <h3>Quick search</h3>
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li><a href="index.html">pymatgen 2.8.8 documentation</a> &raquo;</li> 
      </ul>
    </div>

    <div class="footer">
        &copy; Copyright 2011, Shyue Ping Ong, Anubhav Jain, Geoffroy Hautier, William Davidson Richard, Stephen Dacek, Sai Jayaraman, Michael Kocher, Dan Gunter, Shreyas Cholia, Vincent L Chevrier, Rickard Armiento.
      Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 1.1.3.
    </div>
<div class="footer">This page uses <a href="http://analytics.google.com/">
Google Analytics</a> to collect statistics. You can disable it by blocking
the JavaScript coming from www.google-analytics.com.
<script type="text/javascript">
  (function() {
    var ga = document.createElement('script');
    ga.src = ('https:' == document.location.protocol ?
              'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    ga.setAttribute('async', 'true');
    document.documentElement.firstChild.appendChild(ga);
  })();
</script>
</div>

  </body>
</html>

<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta charset="utf-8" />
    <title>pymatgen.io.phonopy module &#8212; pymatgen 2019.5.1 documentation</title>
    <link rel="stylesheet" href="_static/proBlue.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <script type="text/javascript" src="_static/language_data.js"></script>
    <script async="async" type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <link rel="shortcut icon" href="_static/favicon.ico"/>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
 
<script type="text/javascript">
  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-33990148-1']);
  _gaq.push(['_trackPageview']);
</script>

  </head><body>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="nav-item nav-item-0"><a href="index.html">pymatgen 2019.5.1 documentation</a> &#187;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="module-pymatgen.io.phonopy">
<span id="pymatgen-io-phonopy-module"></span><h1>pymatgen.io.phonopy module<a class="headerlink" href="#module-pymatgen.io.phonopy" title="Permalink to this headline">¶</a></h1>
<dl class="function">
<dt id="pymatgen.io.phonopy.eigvec_to_eigdispl">
<code class="descname">eigvec_to_eigdispl</code><span class="sig-paren">(</span><em>v</em>, <em>q</em>, <em>frac_coords</em>, <em>mass</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pymatgen/io/phonopy.html#eigvec_to_eigdispl"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pymatgen.io.phonopy.eigvec_to_eigdispl" title="Permalink to this definition">¶</a></dt>
<dd><p>Converts a single eigenvector to an eigendisplacement in the primitive cell
according to the formula:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">exp</span><span class="p">(</span><span class="mi">2</span><span class="o">*</span><span class="n">pi</span><span class="o">*</span><span class="n">i</span><span class="o">*</span><span class="p">(</span><span class="n">frac_coords</span> \<span class="n">dot</span> <span class="n">q</span><span class="p">)</span> <span class="o">/</span> <span class="n">sqrt</span><span class="p">(</span><span class="n">mass</span><span class="p">)</span> <span class="o">*</span> <span class="n">v</span>
</pre></div>
</div>
<p>Compared to the modulation option in phonopy, here all the additional
multiplicative and phase factors are set to 1.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>v</strong> – the vector that should be converted. A 3D complex numpy array.</p></li>
<li><p><strong>q</strong> – the q point in fractional coordinates</p></li>
<li><p><strong>frac_coords</strong> – the fractional coordinates of the atom</p></li>
<li><p><strong>mass</strong> – the mass of the atom</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="pymatgen.io.phonopy.get_complete_ph_dos">
<code class="descname">get_complete_ph_dos</code><span class="sig-paren">(</span><em>partial_dos_path</em>, <em>phonopy_yaml_path</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pymatgen/io/phonopy.html#get_complete_ph_dos"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pymatgen.io.phonopy.get_complete_ph_dos" title="Permalink to this definition">¶</a></dt>
<dd><p>Creates a pymatgen CompletePhononDos from a partial_dos.dat and
phonopy.yaml files.
The second is produced when generating a Dos and is needed to extract
the structure.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>partial_dos_path</strong> – path to the partial_dos.dat file.</p></li>
<li><p><strong>phonopy_yaml_path</strong> – path to the phonopy.yaml file.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="pymatgen.io.phonopy.get_displaced_structures">
<code class="descname">get_displaced_structures</code><span class="sig-paren">(</span><em>pmg_structure</em>, <em>atom_disp=0.01</em>, <em>supercell_matrix=None</em>, <em>yaml_fname=None</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pymatgen/io/phonopy.html#get_displaced_structures"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pymatgen.io.phonopy.get_displaced_structures" title="Permalink to this definition">¶</a></dt>
<dd><p>Generate a set of symmetrically inequivalent displaced structures for
phonon calculations.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>pmg_structure</strong> (<a class="reference internal" href="pymatgen.core.structure.html#pymatgen.core.structure.Structure" title="pymatgen.core.structure.Structure"><em>Structure</em></a>) – A pymatgen structure object.</p></li>
<li><p><strong>atom_disp</strong> (<em>float</em>) – Atomic displacement. Default is 0.01 $AA$.</p></li>
<li><p><strong>supercell_matrix</strong> (<em>3x3 array</em>) – Scaling matrix for supercell.</p></li>
<li><p><strong>yaml_fname</strong> (<em>string</em>) – If not None, it represents the full path to
the outputting displacement yaml file, e.g. disp.yaml.</p></li>
<li><p><strong>**kwargs</strong> – Parameters used in Phonopy.generate_displacement method.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A list of symmetrically inequivalent structures with displacements, in
which the first element is the perfect supercell structure.</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="pymatgen.io.phonopy.get_ph_bs_symm_line">
<code class="descname">get_ph_bs_symm_line</code><span class="sig-paren">(</span><em>bands_path</em>, <em>has_nac=False</em>, <em>labels_dict=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pymatgen/io/phonopy.html#get_ph_bs_symm_line"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pymatgen.io.phonopy.get_ph_bs_symm_line" title="Permalink to this definition">¶</a></dt>
<dd><p>Creates a pymatgen PhononBandStructure from a band.yaml file.
The labels will be extracted from the dictionary, if present.
If the ‘eigenvector’  key is found the eigendisplacements will be
calculated according to the formula:
exp(2*pi*i*(frac_coords dot q) / sqrt(mass) * v</p>
<blockquote>
<div><p>and added to the object.</p>
</div></blockquote>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>bands_path</strong> – path to the band.yaml file</p></li>
<li><p><strong>has_nac</strong> – True if the data have been obtained with the option
–nac option. Default False.</p></li>
<li><p><strong>labels_dict</strong> – dict that links a qpoint in frac coords to a label.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="pymatgen.io.phonopy.get_ph_bs_symm_line_from_dict">
<code class="descname">get_ph_bs_symm_line_from_dict</code><span class="sig-paren">(</span><em>bands_dict</em>, <em>has_nac=False</em>, <em>labels_dict=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pymatgen/io/phonopy.html#get_ph_bs_symm_line_from_dict"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pymatgen.io.phonopy.get_ph_bs_symm_line_from_dict" title="Permalink to this definition">¶</a></dt>
<dd><p>Creates a pymatgen PhononBandStructure object from the dictionary
extracted by the band.yaml file produced by phonopy. The labels
will be extracted from the dictionary, if present. If the ‘eigenvector’
key is found the eigendisplacements will be calculated according to the
formula:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">exp</span><span class="p">(</span><span class="mi">2</span><span class="o">*</span><span class="n">pi</span><span class="o">*</span><span class="n">i</span><span class="o">*</span><span class="p">(</span><span class="n">frac_coords</span> \<span class="n">dot</span> <span class="n">q</span><span class="p">)</span> <span class="o">/</span> <span class="n">sqrt</span><span class="p">(</span><span class="n">mass</span><span class="p">)</span> <span class="o">*</span> <span class="n">v</span>
</pre></div>
</div>
<p>and added to the object.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>bands_dict</strong> – the dictionary extracted from the band.yaml file</p></li>
<li><p><strong>has_nac</strong> – True if the data have been obtained with the option
–nac option. Default False.</p></li>
<li><p><strong>labels_dict</strong> – dict that links a qpoint in frac coords to a label.
Its value will replace the data contained in the band.yaml.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="pymatgen.io.phonopy.get_ph_dos">
<code class="descname">get_ph_dos</code><span class="sig-paren">(</span><em>total_dos_path</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pymatgen/io/phonopy.html#get_ph_dos"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pymatgen.io.phonopy.get_ph_dos" title="Permalink to this definition">¶</a></dt>
<dd><p>Creates a pymatgen PhononDos from a total_dos.dat file.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>total_dos_path</strong> – path to the total_dos.dat file.</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="pymatgen.io.phonopy.get_phonopy_structure">
<code class="descname">get_phonopy_structure</code><span class="sig-paren">(</span><em>pmg_structure</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pymatgen/io/phonopy.html#get_phonopy_structure"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pymatgen.io.phonopy.get_phonopy_structure" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert a pymatgen Structure object to a PhonopyAtoms object.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>pmg_structure</strong> (<em>pymatgen Structure</em>) – A Pymatgen structure object.</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="pymatgen.io.phonopy.get_pmg_structure">
<code class="descname">get_pmg_structure</code><span class="sig-paren">(</span><em>phonopy_structure</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pymatgen/io/phonopy.html#get_pmg_structure"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pymatgen.io.phonopy.get_pmg_structure" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert a PhonopyAtoms object to pymatgen Structure object.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>phonopy_structure</strong> (<em>PhonopyAtoms</em>) – A phonopy structure object.</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="pymatgen.io.phonopy.get_structure_from_dict">
<code class="descname">get_structure_from_dict</code><span class="sig-paren">(</span><em>d</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pymatgen/io/phonopy.html#get_structure_from_dict"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pymatgen.io.phonopy.get_structure_from_dict" title="Permalink to this definition">¶</a></dt>
<dd><p>Extracts a structure from the dictionary extracted from the output
files of phonopy like phonopy.yaml or band.yaml.
Adds “phonopy_masses” in the site_properties of the structures.
Compatible with older phonopy versions.</p>
</dd></dl>

</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="_sources/pymatgen.io.phonopy.rst.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="nav-item nav-item-0"><a href="index.html">pymatgen 2019.5.1 documentation</a> &#187;</li> 
      </ul>
    </div>

    <div class="footer" role="contentinfo">
        &#169; Copyright 2011, Pymatgen Development Team.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 2.0.1.
    </div>
<div class="footer">This page uses <a href="http://analytics.google.com/">
Google Analytics</a> to collect statistics. You can disable it by blocking
the JavaScript coming from www.google-analytics.com.
<script type="text/javascript">
  (function() {
    var ga = document.createElement('script');
    ga.src = ('https:' == document.location.protocol ?
              'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    ga.setAttribute('async', 'true');
    document.documentElement.firstChild.appendChild(ga);
  })();
</script>
</div>

  </body>
</html>
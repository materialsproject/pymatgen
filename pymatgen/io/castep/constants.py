from enum import Enum
from typing import TypeVar


# TODO: add type annotations?
# BlockType = TypeVar('BlockType', bound=str)
# DefinedType = TypeVar('BlockType', bound=None)

CellKeyword = Enum(
    "CellKeyword",
    [
        "ATOMIC_INIT",
        "BS_KPOINT_LIST",
        "BS_KPOINT_MP_GRID",
        "BS_KPOINT_MP_OFFSET",
        "BS_KPOINT_MP_SPACING",
        "BS_KPOINT_PATH",
        "BS_KPOINT_PATH_SPACING",
        "BS_KPOINTS_LIST",
        "BS_KPOINTS_MP_GRID",
        "BS_KPOINTS_MP_OFFSET",
        "BS_KPOINTS_MP_SPACING",
        "BS_KPOINTS_PATH",
        "BS_KPOINTS_PATH_SPACING",
        "CELL_CONSTRAINTS",
        "CELL_DEVEL_CODE",
        "CELL_NOISE",
        "CHEMICAL_POTENTIAL",
        "ELNES_KPOINT_LIST",
        "ELNES_KPOINT_MP_GRID",
        "ELNES_KPOINT_MP_OFFSET",
        "ELNES_KPOINT_MP_SPACING",
        "EP_KPOINT_PAIRS",
        "EXTERNAL_BFIELD",
        "EXTERNAL_EFIELD",
        "EXTERNAL_PRESSURE",
        "FIX_ALL_CELL",
        "FIX_ALL_IONS",
        "FIX_COM",
        "FIX_VOL",
        "HUBBARD_ALPHA",
        "HUBBARD_U",
        "IONIC_CONSTRAINTS",
        "IONIC_VELOCITIES",
        "JCOUPLING_SITE",
        "KPOINT_LIST",
        "KPOINT_MP_GRID",
        "KPOINT_MP_OFFSET",
        "KPOINT_MP_SPACING",
        "KPOINTS_LIST",
        "KPOINTS_MP_GRID",
        "KPOINTS_MP_OFFSET",
        "KPOINTS_MP_SPACING",
        "LATTICE_ABC",
        "LATTICE_CART",
        "MAGRES_KPOINT_LIST",
        "MAGRES_KPOINT_MP_GRID",
        "MAGRES_KPOINT_MP_OFFSET",
        "MAGRES_KPOINT_MP_SPACING",
        "MAGRES_KPOINT_PATH",
        "MAGRES_KPOINT_PATH_SPACING",
        "NONLINEAR_CONSTRAINTS",
        "OPTICS_KPOINT_LIST",
        "OPTICS_KPOINT_MP_GRID",
        "OPTICS_KPOINT_MP_OFFSET",
        "OPTICS_KPOINT_MP_SPACING",
        "OPTICS_KPOINTS_LIST",
        "OPTICS_KPOINTS_MP_GRID",
        "OPTICS_KPOINTS_MP_OFFSET",
        "OPTICS_KPOINTS_MP_SPACING",
        "PHONON_FINE_KPOINT_LIST",
        "PHONON_FINE_KPOINT_MP_GRID",
        "PHONON_FINE_KPOINT_MP_OFFSET",
        "PHONON_FINE_KPOINT_MP_SPACING",
        "PHONON_FINE_KPOINT_PATH",
        "PHONON_FINE_KPOINT_PATH_SPACING",
        "PHONON_GAMMA_DIRECTIONS",
        "PHONON_KPOINT_LIST",
        "PHONON_KPOINT_MP_GRID",
        "PHONON_KPOINT_MP_OFFSET",
        "PHONON_KPOINT_MP_SPACING",
        "PHONON_KPOINT_PATH",
        "PHONON_KPOINT_PATH_SPACING",
        "PHONON_KPOINTS_LIST",
        "PHONON_KPOINTS_PATH",
        "PHONON_KPOINTS_PATH_SPACING",
        "PHONON_SUPERCELL_MATRIX",
        "POSITIONS_ABS",
        "POSITIONS_ABS_INTERMEDIATE",
        "POSITIONS_ABS_PRODUCT",
        "POSITIONS_FRAC",
        "POSITIONS_FRAC_INTERMEDIATE",
        "POSITIONS_FRAC_PRODUCT",
        "POSITIONS_NOISE",
        "QUANTISATION_AXIS",
        "QUANTIZATION_AXIS",
        "SEDC_CUSTOM_PARAMS",
        "SNAP_TO_SYMMETRY",
        "SPECIES_GAMMA",
        "SPECIES_LCAO_STATES",
        "SPECIES_MASS",
        "SPECIES_POT",
        "SPECIES_Q",
        "SPECTRAL_KPOINT_LIST",
        "SPECTRAL_KPOINT_MP_GRID",
        "SPECTRAL_KPOINT_MP_OFFSET",
        "SPECTRAL_KPOINT_MP_SPACING",
        "SPECTRAL_KPOINT_PATH",
        "SPECTRAL_KPOINT_PATH_SPACING",
        "SPECTRAL_KPOINTS_LIST",
        "SPECTRAL_KPOINTS_MP_GRID",
        "SPECTRAL_KPOINTS_MP_OFFSET",
        "SPECTRAL_KPOINTS_MP_SPACING",
        "SPECTRAL_KPOINTS_PATH",
        "SPECTRAL_KPOINTS_PATH_SPACING",
        "SUPERCELL_KPOINT_LIST",
        "SUPERCELL_KPOINT_MP_GRID",
        "SUPERCELL_KPOINT_MP_OFFSET",
        "SUPERCELL_KPOINT_MP_SPACING",
        "SUPERCELL_KPOINTS_LIST",
        "SUPERCELL_KPOINTS_MP_GRID",
        "SUPERCELL_KPOINTS_MP_OFFSET",
        "SUPERCELL_KPOINTS_MP_SPACING",
        "SUPERCELL_MATRIX",
        "SYMMETRY_GENERATE",
        "SYMMETRY_OPS",
        "SYMMETRY_TOL",
        "UNIT_CELL",
    ],
)
CellKeyword.__doc__ = """Enum defining valid keywords for CASTEP .cell files.

See https://github.com/CCP-NC/pspot-site/blob/master/generate/castep_keywords.json
See http://www.tcm.phy.cam.ac.uk/castep/documentation/
"""

ParamKeyword = Enum(
    "ParamKeyword",
    [
        "BACKUP_INTERVAL",
        "BASIS_DE_DLOGE",
        "BASIS_PRECISION",
        "BFIELD_UNIT",
        "BORN_CHARGE_SUM_RULE",
        "BOUNDARY_TYPE",
        "BS_EIGENVALUE_TOL",
        "BS_MAX_CG_STEPS",
        "BS_MAX_ITER",
        "BS_NBANDS",
        "BS_NEXTRA_BANDS",
        "BS_PERC_EXTRA_BANDS",
        "BS_RE_EST_K_SCRN",
        "BS_WRITE_EIGENVALUES",
        "BS_XC_DEFINITION",
        "BS_XC_FUNCTIONAL",
        "CALC_FULL_EX_POT",
        "CALC_MOLECULAR_DIPOLE",
        "CALCULATE_BERRY_PHASE",
        "CALCULATE_BORN_CHARGES",
        "CALCULATE_DELTASCF",
        "CALCULATE_DENSDIFF",
        "CALCULATE_ELF",
        "CALCULATE_HIRSHFELD",
        "CALCULATE_MODOS",
        "CALCULATE_POLARISATION",
        "CALCULATE_POLARIZATION",
        "CALCULATE_RAMAN",
        "CALCULATE_STRESS",
        "CHARGE",
        "CHARGE_UNIT",
        "CHECKPOINT",
        "CML_FILENAME",
        "CML_OUTPUT",
        "COMMENT",
        "CONTINUATION",
        "CUT_OFF_ENERGY",
        "DATA_DISTRIBUTION",
        "DELTASCF_CHECKPOINT",
        "DELTASCF_CONSTRAINTS",
        "DELTASCF_DFTU_CHECKPOINT",
        "DELTASCF_EXCITE",
        "DELTASCF_METHOD",
        "DELTASCF_MODE",
        "DELTASCF_NET_SPIN_1",
        "DELTASCF_NET_SPIN_2",
        "DELTASCF_OVERLAP_CUTOFF",
        "DELTASCF_SMEARING",
        "DEVEL_CODE",
        "DIELEC_EMB_BULK_PERMITTIVITY",
        "DIELEC_EMB_CAVITY_TYPE",
        "DIELEC_EMB_FUNC_METHOD",
        "DIELEC_EMB_PARAM_SET",
        "DIPOLE_CORRECTION",
        "DIPOLE_DIR",
        "DIPOLE_UNIT",
        "EFERMI_TOL",
        "EFIELD_CALC_ION_PERMITTIVITY",
        "EFIELD_CALCULATE_NONLINEAR",
        "EFIELD_CHI2_UNIT",
        "EFIELD_CONVERGENCE_WIN",
        "EFIELD_DFPT_METHOD",
        "EFIELD_ENERGY_TOL",
        "EFIELD_FREQ_SPACING",
        "EFIELD_IGNORE_MOLEC_MODES",
        "EFIELD_MAX_CG_STEPS",
        "EFIELD_MAX_CYCLES",
        "EFIELD_OSCILLATOR_Q",
        "EFIELD_UNIT",
        "ELEC_CONVERGENCE_WIN",
        "ELEC_DUMP_FILE",
        "ELEC_EIGENVALUE_TOL",
        "ELEC_ENERGY_TOL",
        "ELEC_FORCE_TOL",
        "ELEC_METHOD",
        "ELEC_RESTORE_FILE",
        "ELEC_TEMP",
        "ELECTRONIC_MINIMIZER",
        "ELNES_EIGENVALUE_TOL",
        "ELNES_NBANDS",
        "ELNES_NEXTRA_BANDS",
        "ELNES_PERC_EXTRA_BANDS",
        "ELNES_XC_DEFINITION",
        "ELNES_XC_FUNCTIONAL",
        "ENERGY_UNIT",
        "ENTROPY_UNIT",
        "EXCHANGE_REFLECT_KPTS",
        "EXCITED_STATE_SCISSORS",
        "FFT_MAX_PRIME_FACTOR",
        "FINE_CUT_OFF_ENERGY",
        "FINE_GMAX",
        "FINE_GRID_SCALE",
        "FINITE_BASIS_CORR",
        "FINITE_BASIS_NPOINTS",
        "FINITE_BASIS_SPACING",
        "FIX_OCCUPANCY",
        "FIXED_NPW",
        "FORCE_CONSTANT_UNIT",
        "FORCE_UNIT",
        "FREQUENCY_UNIT",
        "GA_BULK_SLICE",
        "GA_FIXED_N",
        "GA_MAX_GENS",
        "GA_MUTATE_AMP",
        "GA_MUTATE_RATE",
        "GA_POP_SIZE",
        "GA_SPIN_MUTATE_AMP",
        "GA_SPIN_MUTATE_RATE",
        "GEOM_CONVERGENCE_WIN",
        "GEOM_DISP_TOL",
        "GEOM_ENERGY_TOL",
        "GEOM_FORCE_TOL",
        "GEOM_FREQUENCY_EST",
        "GEOM_LBFGS_MAX_UPDATES",
        "GEOM_LINMIN_TOL",
        "GEOM_MAX_ITER",
        "GEOM_METHOD",
        "GEOM_MODULUS_EST",
        "GEOM_PRECON_EXP_A",
        "GEOM_PRECON_EXP_C_STAB",
        "GEOM_PRECON_EXP_MU",
        "GEOM_PRECON_EXP_R_CUT",
        "GEOM_PRECON_EXP_R_NN",
        "GEOM_PRECON_FF_C_STAB",
        "GEOM_PRECON_FF_R_CUT",
        "GEOM_PRECON_SCALE_CELL",
        "GEOM_PRECONDITIONER",
        "GEOM_SPIN_FIX",
        "GEOM_STRESS_TOL",
        "GEOM_TPSD_INIT_STEPSIZE",
        "GEOM_TPSD_ITERCHANGE",
        "GEOM_USE_LINMIN",
        "GRID_SCALE",
        "IMPLICIT_SOLVENT_APOLAR_FACTOR",
        "IMPLICIT_SOLVENT_APOLAR_TERM",
        "IMPLICIT_SOLVENT_RESCALE_APOLAR",
        "IMPLICIT_SOLVENT_SURFACE_TENSION",
        "IMPOSE_TRS",
        "INV_LENGTH_UNIT",
        "IPRINT",
        "IR_INTENSITY_UNIT",
        "K_SCRN_AVERAGING_SCHEME",
        "K_SCRN_DEN_FUNCTION",
        "LENGTH_UNIT",
        "MAGRES_CONV_TOL",
        "MAGRES_CONVERGENCE_WIN",
        "MAGRES_JCOUPLING_TASK",
        "MAGRES_MAX_CG_STEPS",
        "MAGRES_MAX_SC_CYCLES",
        "MAGRES_METHOD",
        "MAGRES_TASK",
        "MAGRES_WRITE_RESPONSE",
        "MAGRES_XC_DEFINITION",
        "MAGRES_XC_FUNCTIONAL",
        "MASS_UNIT",
        "MAX_CG_STEPS",
        "MAX_DIIS_STEPS",
        "MAX_SCF_CYCLES",
        "MAX_SD_STEPS",
        "MD_BAROSTAT",
        "MD_CELL_DAMP_RINGING",
        "MD_CELL_T",
        "MD_DAMPING_RESET",
        "MD_DAMPING_SCHEME",
        "MD_DELTA_T",
        "MD_ELEC_CONVERGENCE_WIN",
        "MD_ELEC_EIGENVALUE_TOL",
        "MD_ELEC_ENERGY_TOL",
        "MD_ELEC_FORCE_TOL",
        "MD_ENSEMBLE",
        "MD_EQM_CELL_T",
        "MD_EQM_ION_T",
        "MD_EQM_METHOD",
        "MD_EQM_T",
        "MD_EXTRAP",
        "MD_EXTRAP_FIT",
        "MD_HUG_COMPRESSION",
        "MD_HUG_DIR",
        "MD_HUG_METHOD",
        "MD_HUG_T",
        "MD_ION_T",
        "MD_LANGEVIN_T",
        "MD_NHC_LENGTH",
        "MD_NOSE_T",
        "MD_NUM_BEADS",
        "MD_NUM_ITER",
        "MD_OPT_DAMPED_DELTA_T",
        "MD_PATHINT_INIT",
        "MD_PATHINT_NUM_STAGES",
        "MD_PATHINT_STAGING",
        "MD_SAMPLE_ITER",
        "MD_TEMPERATURE",
        "MD_THERMOSTAT",
        "MD_USE_PATHINT",
        "MD_USE_PLUMED",
        "MD_XLBOMD",
        "MD_XLBOMD_HISTORY",
        "MESSAGE_SIZE",
        "METALS_METHOD",
        "MG_FD_ORDER",
        "MG_PADDING",
        "MIX_CHARGE_AMP",
        "MIX_CHARGE_GMAX",
        "MIX_CUT_OFF_ENERGY",
        "MIX_HISTORY_LENGTH",
        "MIX_KED_CHARGE_AMP",
        "MIX_KED_CHARGE_GMAX",
        "MIX_KED_SPIN_AMP",
        "MIX_KED_SPIN_GMAX",
        "MIX_METRIC_Q",
        "MIX_SPIN_AMP",
        "MIX_SPIN_GMAX",
        "MIXING_SCHEME",
        "MODOS_CHECKPOINT",
        "MODOS_STATES",
        "NBANDS",
        "NDOWN",
        "NELECTRONS",
        "NEXTRA_BANDS",
        "NLXC_CALC_FULL_EX_POT",
        "NLXC_DIV_CORR_NPTS_STEP",
        "NLXC_DIV_CORR_ON",
        "NLXC_DIV_CORR_S_WIDTH",
        "NLXC_DIV_CORR_TOL",
        "NLXC_EXCHANGE_FRACTION",
        "NLXC_EXCHANGE_REFLECT_KPTS",
        "NLXC_EXCHANGE_SCREENING",
        "NLXC_IMPOSE_TRS",
        "NLXC_K_SCRN_AVERAGING_SCHEME",
        "NLXC_K_SCRN_DEN_FUNCTION",
        "NLXC_PAGE_EX_POT",
        "NLXC_PPD_INTEGRAL",
        "NLXC_PPD_SIZE_X",
        "NLXC_PPD_SIZE_Y",
        "NLXC_PPD_SIZE_Z",
        "NLXC_RE_EST_K_SCRN",
        "NSPINS",
        "NUM_BACKUP_ITER",
        "NUM_DUMP_CYCLES",
        "NUM_FARMS",
        "NUM_OCC_CYCLES",
        "NUM_PROC_IN_SMP",
        "NUM_PROC_IN_SMP_FINE",
        "NUP",
        "OPT_STRATEGY",
        "OPT_STRATEGY_BIAS",
        "OPTICS_NBANDS",
        "OPTICS_NEXTRA_BANDS",
        "OPTICS_PERC_EXTRA_BANDS",
        "OPTICS_XC_DEFINITION",
        "OPTICS_XC_FUNCTIONAL",
        "PAGE_EX_POT",
        "PAGE_WVFNS",
        "PDOS_CALCULATE_WEIGHTS",
        "PERC_EXTRA_BANDS",
        "PHONON_CALC_LO_TO_SPLITTING",
        "PHONON_CALCULATE_DOS",
        "PHONON_CONST_BASIS",
        "PHONON_CONVERGENCE_WIN",
        "PHONON_DFPT_METHOD",
        "PHONON_DOS_LIMIT",
        "PHONON_DOS_SPACING",
        "PHONON_ENERGY_TOL",
        "PHONON_FINE_CUTOFF_METHOD",
        "PHONON_FINE_METHOD",
        "PHONON_FINITE_DISP",
        "PHONON_FORCE_CONSTANT_CUT_SCALE",
        "PHONON_FORCE_CONSTANT_CUTOFF",
        "PHONON_FORCE_CONSTANT_ELLIPSOID",
        "PHONON_MAX_CG_STEPS",
        "PHONON_MAX_CYCLES",
        "PHONON_METHOD",
        "PHONON_PRECONDITIONER",
        "PHONON_SUM_RULE",
        "PHONON_SUM_RULE_METHOD",
        "PHONON_USE_KPOINT_SYMMETRY",
        "PHONON_WRITE_DYNAMICAL",
        "PHONON_WRITE_FORCE_CONSTANTS",
        "POPN_BOND_CUTOFF",
        "POPN_CALCULATE",
        "POPN_WRITE",
        "PPD_INTEGRAL",
        "PPD_SIZE_X",
        "PPD_SIZE_Y",
        "PPD_SIZE_Z",
        "PRESSURE_UNIT",
        "PRINT_CLOCK",
        "PRINT_MEMORY_USAGE",
        "PSPOT_BETA_PHI_TYPE",
        "PSPOT_NONLOCAL_TYPE",
        "RAMAN_METHOD",
        "RAMAN_RANGE_HIGH",
        "RAMAN_RANGE_LOW",
        "RAND_SEED",
        "RE_EST_K_SCRN",
        "RELATIVISTIC_TREATMENT",
        "REUSE",
        "RUN_TIME",
        "SECONDD_METHOD",
        "SEDC_A1_XDM",
        "SEDC_A2_XDM",
        "SEDC_APPLY",
        "SEDC_C9_XDM",
        "SEDC_D_G06",
        "SEDC_D_JCHS",
        "SEDC_D_TS",
        "SEDC_LAMBDA_OBS",
        "SEDC_N_OBS",
        "SEDC_S6_G06",
        "SEDC_S6_JCHS",
        "SEDC_SC_XDM",
        "SEDC_SCHEME",
        "SEDC_SR_JCHS",
        "SEDC_SR_TS",
        "SMEARING_SCHEME",
        "SMEARING_WIDTH",
        "SPECTRAL_EIGENVALUE_TOL",
        "SPECTRAL_MAX_ITER",
        "SPECTRAL_MAX_STEPS_PER_ITER",
        "SPECTRAL_NBANDS",
        "SPECTRAL_NEXTRA_BANDS",
        "SPECTRAL_PERC_EXTRA_BANDS",
        "SPECTRAL_RE_EST_K_SCRN",
        "SPECTRAL_TASK",
        "SPECTRAL_THEORY",
        "SPECTRAL_WRITE_EIGENVALUES",
        "SPECTRAL_XC_DEFINITION",
        "SPECTRAL_XC_FUNCTIONAL",
        "SPIN",
        "SPIN_FIX",
        "SPIN_ORBIT_COUPLING",
        "SPIN_POLARISED",
        "SPIN_POLARIZED",
        "SPIN_TREATMENT",
        "SPIN_UNIT",
        "STOP",
        "TASK",
        "TDDFT_APPROXIMATION",
        "TDDFT_CONVERGENCE_WIN",
        "TDDFT_EIGENVALUE_METHOD",
        "TDDFT_EIGENVALUE_TOL",
        "TDDFT_MAX_ITER",
        "TDDFT_METHOD",
        "TDDFT_NEXTRA_STATES",
        "TDDFT_NUM_STATES",
        "TDDFT_POSITION_METHOD",
        "TDDFT_SELECTED_STATE",
        "TDDFT_XC_DEFINITION",
        "TDDFT_XC_FUNCTIONAL",
        "THERMO_CALCULATE_HELMHOLTZ",
        "THERMO_T_NPOINTS",
        "THERMO_T_SPACING",
        "THERMO_T_START",
        "THERMO_T_STOP",
        "TIME_UNIT",
        "TSSEARCH_CG_MAX_ITER",
        "TSSEARCH_DISP_TOL",
        "TSSEARCH_ENERGY_TOL",
        "TSSEARCH_FORCE_TOL",
        "TSSEARCH_LSTQST_PROTOCOL",
        "TSSEARCH_MAX_PATH_POINTS",
        "TSSEARCH_METHOD",
        "TSSEARCH_QST_MAX_ITER",
        "USE_SMEARED_IONS",
        "VELOCITY_UNIT",
        "VERBOSITY",
        "VOLUME_UNIT",
        "WANNIER_ION_CMOMENTS",
        "WANNIER_ION_CUT",
        "WANNIER_ION_CUT_FRACTION",
        "WANNIER_ION_CUT_TOL",
        "WANNIER_ION_MOMENTS",
        "WANNIER_ION_RMAX",
        "WANNIER_MAX_SD_STEPS",
        "WANNIER_MIN_ALGOR",
        "WANNIER_PRINT_CUBE",
        "WANNIER_RESTART",
        "WANNIER_SD_STEP",
        "WANNIER_SPREAD_TOL",
        "WANNIER_SPREAD_TYPE",
        "WRITE_BANDS",
        "WRITE_BIB",
        "WRITE_CELL_STRUCTURE",
        "WRITE_CHECKPOINT",
        "WRITE_CIF_STRUCTURE",
        "WRITE_CST_ESP",
        "WRITE_FORMATTED_DENSITY",
        "WRITE_FORMATTED_DIELEC_PERM",
        "WRITE_FORMATTED_ELF",
        "WRITE_FORMATTED_POTENTIAL",
        "WRITE_GEOM",
        "WRITE_MD",
        "WRITE_NONE",
        "WRITE_ORBITALS",
        "WRITE_OTFG",
        "XC_DEFINITION",
        "XC_FUNCTIONAL",
        "XC_VXC_DERIV_EPSILON",
    ],
)

ParamKeyword.__doc__ = """Enum defining valid keywords for CASTEP .param files.

See https://github.com/CCP-NC/pspot-site/blob/master/generate/castep_keywords.json
See http://www.tcm.phy.cam.ac.uk/castep/documentation/"""

OTFPseudopotentialLibrary = Enum(
    "OTFPseudopotentialLibrary",
    ["UNKNOWN", "QC5", "HARD", "MS", "C7", "C8", "C9", "NCP9", "C17", "NCP17", "C18", "NCP18", "C19", "NCP19"],
)

OTFPseudopotentialLibrary.__doc__ = """An Enum specifying allowed values for the built-in pseudopotential
libraries in CASTEP, defined by the SPECIES_POT block.

See https://ccp-nc.github.io/pspot-site/ or the CASTEP documentation
for more information."""
